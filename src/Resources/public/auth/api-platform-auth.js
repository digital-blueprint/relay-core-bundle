var e,t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};e||(e=1,function(){function e(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function i(t){var i="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return i?i.call(t):{next:e(t)}}function s(e){if(!(e instanceof Array)){e=i(e);for(var t,s=[];!(t=e.next()).done;)s.push(t.value);e=s}return e}var o,n="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t},r=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof t&&t];for(var i=0;i<e.length;++i){var s=e[i];if(s&&s.Math==Math)return s}throw Error("Cannot find global object")}(this),a=function(){if("undefined"!=typeof Reflect&&Reflect.construct){if(function(){function e(){}return Reflect.construct(e,[],(function(){})),new e instanceof e}())return Reflect.construct;var e=Reflect.construct;return function(t,i,s){return t=e(t,i),s&&Reflect.setPrototypeOf(t,s.prototype),t}}return function(e,t,i){return void 0===i&&(i=e),i=n(i.prototype||Object.prototype),Function.prototype.apply.call(e,i,t)||i}}();if("function"==typeof Object.setPrototypeOf)o=Object.setPrototypeOf;else{var l;e:{var c={};try{c.__proto__={a:!0},l=c.a;break e}catch(e){}l=!1}o=l?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var d=o;if(!ShadowRoot.prototype.createElement){var h,u=window.HTMLElement,p=window.customElements.define,g=window.customElements.get,f=window.customElements,m=new WeakMap,b=new WeakMap,y=new WeakMap,v=new WeakMap;window.CustomElementRegistry=function(){this.l=new Map,this.o=new Map,this.i=new Map,this.h=new Map},window.CustomElementRegistry.prototype.define=function(e,t){if(e=e.toLowerCase(),void 0!==this.j(e))throw new DOMException("Failed to execute 'define' on 'CustomElementRegistry': the name \""+e+'" has already been used with this registry');if(void 0!==this.o.get(t))throw new DOMException("Failed to execute 'define' on 'CustomElementRegistry': this constructor has already been used with this registry");var s=t.prototype.attributeChangedCallback,o=new Set(t.observedAttributes||[]);if(w(t,o,s),s={g:t,connectedCallback:t.prototype.connectedCallback,disconnectedCallback:t.prototype.disconnectedCallback,adoptedCallback:t.prototype.adoptedCallback,attributeChangedCallback:s,formAssociated:t.formAssociated,formAssociatedCallback:t.prototype.formAssociatedCallback,formDisabledCallback:t.prototype.formDisabledCallback,formResetCallback:t.prototype.formResetCallback,formStateRestoreCallback:t.prototype.formStateRestoreCallback,observedAttributes:o},this.l.set(e,s),this.o.set(t,s),(o=g.call(f,e))||(o=_(e),p.call(f,e,o)),this===window.customElements&&(y.set(t,s),s.s=o),o=this.h.get(e)){this.h.delete(e);for(var n=(o=i(o)).next();!n.done;n=o.next())n=n.value,b.delete(n),S(n,s,!0)}return void 0!==(s=this.i.get(e))&&(s.resolve(t),this.i.delete(e)),t},window.CustomElementRegistry.prototype.upgrade=function(){x.push(this),f.upgrade.apply(f,arguments),x.pop()},window.CustomElementRegistry.prototype.get=function(e){var t;return null==(t=this.l.get(e))?void 0:t.g},window.CustomElementRegistry.prototype.j=function(e){return this.l.get(e)},window.CustomElementRegistry.prototype.whenDefined=function(e){var t=this.j(e);if(void 0!==t)return Promise.resolve(t.g);var i=this.i.get(e);return void 0===i&&((i={}).promise=new Promise((function(e){return i.resolve=e})),this.i.set(e,i)),i.promise},window.CustomElementRegistry.prototype.m=function(e,t,i){var s=this.h.get(t);s||this.h.set(t,s=new Set),i?s.add(e):s.delete(e)},window.HTMLElement=function(){var e=h;if(e)return h=void 0,e;var t=y.get(this.constructor);if(!t)throw new TypeError("Illegal constructor (custom element class must be registered with global customElements registry to be newable)");return e=Reflect.construct(u,[],t.s),Object.setPrototypeOf(e,this.constructor.prototype),m.set(e,t),e},window.HTMLElement.prototype=u.prototype;var _=function(e){function t(){var t=Reflect.construct(u,[],this.constructor);Object.setPrototypeOf(t,HTMLElement.prototype);e:{var i=t.getRootNode();if(!(i===document||i instanceof ShadowRoot)){if((i=x[x.length-1])instanceof CustomElementRegistry){var s=i;break e}(i=i.getRootNode())===document||i instanceof ShadowRoot||(i=(null==(s=v.get(i))?void 0:s.getRootNode())||document)}s=i.customElements}return(i=(s=s||window.customElements).j(e))?S(t,i):b.set(t,s),t}return r.Object.defineProperty(t,"formAssociated",{configurable:!0,enumerable:!0,get:function(){return!0}}),t.prototype.connectedCallback=function(){var t=m.get(this);t?t.connectedCallback&&t.connectedCallback.apply(this,arguments):b.get(this).m(this,e,!0)},t.prototype.disconnectedCallback=function(){var t=m.get(this);t?t.disconnectedCallback&&t.disconnectedCallback.apply(this,arguments):b.get(this).m(this,e,!1)},t.prototype.adoptedCallback=function(){var e,t;null==(e=m.get(this))||null==(t=e.adoptedCallback)||t.apply(this,arguments)},t.prototype.formAssociatedCallback=function(){var e,t=m.get(this);t&&t.formAssociated&&(null==t||null==(e=t.formAssociatedCallback)||e.apply(this,arguments))},t.prototype.formDisabledCallback=function(){var e,t=m.get(this);null!=t&&t.formAssociated&&(null==t||null==(e=t.formDisabledCallback)||e.apply(this,arguments))},t.prototype.formResetCallback=function(){var e,t=m.get(this);null!=t&&t.formAssociated&&(null==t||null==(e=t.formResetCallback)||e.apply(this,arguments))},t.prototype.formStateRestoreCallback=function(){var e,t=m.get(this);null!=t&&t.formAssociated&&(null==t||null==(e=t.formStateRestoreCallback)||e.apply(this,arguments))},t},w=function(e,t,i){if(0!==t.size&&void 0!==i){var s=e.prototype.setAttribute;s&&(e.prototype.setAttribute=function(e,o){if(e=e.toLowerCase(),t.has(e)){var n=this.getAttribute(e);s.call(this,e,o),i.call(this,e,n,o)}else s.call(this,e,o)});var o=e.prototype.removeAttribute;o&&(e.prototype.removeAttribute=function(e){if(e=e.toLowerCase(),t.has(e)){var s=this.getAttribute(e);o.call(this,e),i.call(this,e,s,null)}else o.call(this,e)});var n=e.prototype.toggleAttribute;n&&(e.prototype.toggleAttribute=function(e,s){if(e=e.toLowerCase(),t.has(e)){var o=this.getAttribute(e);n.call(this,e,s),s=this.getAttribute(e),i.call(this,e,o,s)}else n.call(this,e,s)})}},k=function(e){var t=Object.getPrototypeOf(e);if(t!==window.HTMLElement)return t===u?Object.setPrototypeOf(e,window.HTMLElement):k(t)},S=function(e,t,i){i=void 0!==i&&i,Object.setPrototypeOf(e,t.g.prototype),m.set(e,t),h=e;try{new t.g}catch(e){k(t.g),new t.g}t.attributeChangedCallback&&t.observedAttributes.forEach((function(i){e.hasAttribute(i)&&t.attributeChangedCallback.call(e,i,null,e.getAttribute(i))})),i&&t.connectedCallback&&e.isConnected&&t.connectedCallback.call(e)},E=Element.prototype.attachShadow;Element.prototype.attachShadow=function(e){var t=E.apply(this,arguments);return e.customElements&&(t.customElements=e.customElements),t};var x=[document],$=function(e,t,i){var s=(i?Object.getPrototypeOf(i):e.prototype)[t];e.prototype[t]=function(){x.push(this);var e=s.apply(i||this,arguments);return void 0!==e&&v.set(e,this),x.pop(),e}};$(ShadowRoot,"createElement",document),$(ShadowRoot,"importNode",document),$(Element,"insertAdjacentHTML");var C=function(e){var t=Object.getOwnPropertyDescriptor(e.prototype,"innerHTML");Object.defineProperty(e.prototype,"innerHTML",Object.assign({},t,{set:function(e){x.push(this),t.set.call(this,e),x.pop()}}))};if(C(Element),C(ShadowRoot),Object.defineProperty(window,"customElements",{value:new CustomElementRegistry,configurable:!0,writable:!0}),window.ElementInternals&&window.ElementInternals.prototype.setFormValue){var L=new WeakMap,O=HTMLElement.prototype.attachInternals;HTMLElement.prototype.attachInternals=function(e){for(var t=[],i=0;i<arguments.length;++i)t[i]=arguments[i];return t=O.call.apply(O,[this].concat(s(t))),L.set(t,this),t},["setFormValue","setValidity","checkValidity","reportValidity"].forEach((function(e){var t=window.ElementInternals.prototype,i=t[e];t[e]=function(e){for(var t=[],o=0;o<arguments.length;++o)t[o]=arguments[o];if(o=L.get(this),!0===m.get(o).formAssociated)return null==i?void 0:i.call.apply(i,[this].concat(s(t)));throw new DOMException("Failed to execute "+i+" on 'ElementInternals': The target element is not a form-associated custom element.")}}));var A=function(e){var t=a(Array,[].concat(s(e)),this.constructor);return t.h=e,t},P=A,R=Array;if(P.prototype=n(R.prototype),P.prototype.constructor=P,d)d(P,R);else for(var N in R)if("prototype"!=N)if(Object.defineProperties){var T=Object.getOwnPropertyDescriptor(R,N);T&&Object.defineProperty(P,N,T)}else P[N]=R[N];P.u=R.prototype,r.Object.defineProperty(A.prototype,"value",{configurable:!0,enumerable:!0,get:function(){var e;return(null==(e=this.h.find((function(e){return!0===e.checked})))?void 0:e.value)||""}});var I=function(e){var t=this,i=new Map;e.forEach((function(e,s){var o=e.getAttribute("name"),n=i.get(o)||[];t[+s]=e,n.push(e),i.set(o,n)})),this.length=e.length,i.forEach((function(e,i){e&&(t[i]=1===e.length?e[0]:new A(e))}))};I.prototype.namedItem=function(e){return this[e]};var j=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"elements");Object.defineProperty(HTMLFormElement.prototype,"elements",{get:function(){for(var e=j.get.call(this,[]),t=[],s=(e=i(e)).next();!s.done;s=e.next()){s=s.value;var o=m.get(s);o&&!0!==o.formAssociated||t.push(s)}return new I(t)}})}}}.call("object"==typeof globalThis?globalThis:window));
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const i=globalThis,s=i.ShadowRoot&&(void 0===i.ShadyCSS||i.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,o=Symbol(),n=new WeakMap;let r=class{constructor(e,t,i){if(this._$cssResult$=!0,i!==o)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o;const t=this.t;if(s&&void 0===e){const i=void 0!==t&&1===t.length;i&&(e=n.get(t)),void 0===e&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),i&&n.set(t,e))}return e}toString(){return this.cssText}};const a=(e,...t)=>{const i=1===e.length?e[0]:t.reduce(((t,i,s)=>t+(e=>{if(!0===e._$cssResult$)return e.cssText;if("number"==typeof e)return e;throw Error("Value passed to 'css' function must be a 'css' function result: "+e+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+e[s+1]),e[0]);return new r(i,e,o)},l=(e,t)=>{if(s)e.adoptedStyleSheets=t.map((e=>e instanceof CSSStyleSheet?e:e.styleSheet));else for(const s of t){const t=document.createElement("style"),o=i.litNonce;void 0!==o&&t.setAttribute("nonce",o),t.textContent=s.cssText,e.appendChild(t)}},c=s?e=>e:e=>e instanceof CSSStyleSheet?(e=>{let t="";for(const i of e.cssRules)t+=i.cssText;return(e=>new r("string"==typeof e?e:e+"",void 0,o))(t)})(e):e
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */,{is:d,defineProperty:h,getOwnPropertyDescriptor:u,getOwnPropertyNames:p,getOwnPropertySymbols:g,getPrototypeOf:f}=Object,m=globalThis,b=m.trustedTypes,y=b?b.emptyScript:"",v=m.reactiveElementPolyfillSupport,_=(e,t)=>e,w={toAttribute(e,t){switch(t){case Boolean:e=e?y:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){let i=e;switch(t){case Boolean:i=null!==e;break;case Number:i=null===e?null:Number(e);break;case Object:case Array:try{i=JSON.parse(e)}catch(e){i=null}}return i}},k=(e,t)=>!d(e,t),S={attribute:!0,type:String,converter:w,reflect:!1,hasChanged:k};Symbol.metadata??=Symbol("metadata"),m.litPropertyMetadata??=new WeakMap;class E extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,t=S){if(t.state&&(t.attribute=!1),this._$Ei(),this.elementProperties.set(e,t),!t.noAccessor){const i=Symbol(),s=this.getPropertyDescriptor(e,i,t);void 0!==s&&h(this.prototype,e,s)}}static getPropertyDescriptor(e,t,i){const{get:s,set:o}=u(this.prototype,e)??{get(){return this[t]},set(e){this[t]=e}};return{get(){return s?.call(this)},set(t){const n=s?.call(this);o.call(this,t),this.requestUpdate(e,n,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??S}static _$Ei(){if(this.hasOwnProperty(_("elementProperties")))return;const e=f(this);e.finalize(),void 0!==e.l&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(_("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(_("properties"))){const e=this.properties,t=[...p(e),...g(e)];for(const i of t)this.createProperty(i,e[i])}const e=this[Symbol.metadata];if(null!==e){const t=litPropertyMetadata.get(e);if(void 0!==t)for(const[e,i]of t)this.elementProperties.set(e,i)}this._$Eh=new Map;for(const[e,t]of this.elementProperties){const i=this._$Eu(e,t);void 0!==i&&this._$Eh.set(i,e)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const i=new Set(e.flat(1/0).reverse());for(const e of i)t.unshift(c(e))}else void 0!==e&&t.push(c(e));return t}static _$Eu(e,t){const i=t.attribute;return!1===i?void 0:"string"==typeof i?i:"string"==typeof e?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((e=>e(this)))}addController(e){(this._$EO??=new Set).add(e),void 0!==this.renderRoot&&this.isConnected&&e.hostConnected?.()}removeController(e){this._$EO?.delete(e)}_$E_(){const e=new Map,t=this.constructor.elementProperties;for(const i of t.keys())this.hasOwnProperty(i)&&(e.set(i,this[i]),delete this[i]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return l(e,this.constructor.elementStyles),e}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((e=>e.hostConnected?.()))}enableUpdating(e){}disconnectedCallback(){this._$EO?.forEach((e=>e.hostDisconnected?.()))}attributeChangedCallback(e,t,i){this._$AK(e,i)}_$EC(e,t){const i=this.constructor.elementProperties.get(e),s=this.constructor._$Eu(e,i);if(void 0!==s&&!0===i.reflect){const o=(void 0!==i.converter?.toAttribute?i.converter:w).toAttribute(t,i.type);this._$Em=e,null==o?this.removeAttribute(s):this.setAttribute(s,o),this._$Em=null}}_$AK(e,t){const i=this.constructor,s=i._$Eh.get(e);if(void 0!==s&&this._$Em!==s){const e=i.getPropertyOptions(s),o="function"==typeof e.converter?{fromAttribute:e.converter}:void 0!==e.converter?.fromAttribute?e.converter:w;this._$Em=s,this[s]=o.fromAttribute(t,e.type),this._$Em=null}}requestUpdate(e,t,i){if(void 0!==e){if(i??=this.constructor.getPropertyOptions(e),!(i.hasChanged??k)(this[e],t))return;this.P(e,t,i)}!1===this.isUpdatePending&&(this._$ES=this._$ET())}P(e,t,i){this._$AL.has(e)||this._$AL.set(e,t),!0===i.reflect&&this._$Em!==e&&(this._$Ej??=new Set).add(e)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(e){Promise.reject(e)}const e=this.scheduleUpdate();return null!=e&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[e,t]of this._$Ep)this[e]=t;this._$Ep=void 0}const e=this.constructor.elementProperties;if(e.size>0)for(const[t,i]of e)!0!==i.wrapped||this._$AL.has(t)||void 0===this[t]||this.P(t,this[t],i)}let e=!1;const t=this._$AL;try{e=this.shouldUpdate(t),e?(this.willUpdate(t),this._$EO?.forEach((e=>e.hostUpdate?.())),this.update(t)):this._$EU()}catch(t){throw e=!1,this._$EU(),t}e&&this._$AE(t)}willUpdate(e){}_$AE(e){this._$EO?.forEach((e=>e.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Ej&&=this._$Ej.forEach((e=>this._$EC(e,this[e]))),this._$EU()}updated(e){}firstUpdated(e){}}E.elementStyles=[],E.shadowRootOptions={mode:"open"},E[_("elementProperties")]=new Map,E[_("finalized")]=new Map,v?.({ReactiveElement:E}),(m.reactiveElementVersions??=[]).push("2.0.4");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const x=globalThis,$=x.trustedTypes,C=$?$.createPolicy("lit-html",{createHTML:e=>e}):void 0,L="$lit$",O=`lit$${Math.random().toFixed(9).slice(2)}$`,A="?"+O,P=`<${A}>`,R=document,N=()=>R.createComment(""),T=e=>null===e||"object"!=typeof e&&"function"!=typeof e,I=Array.isArray,j="[ \t\n\f\r]",M=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,D=/-->/g,U=/>/g,H=RegExp(`>|${j}(?:([^\\s"'>=/]+)(${j}*=${j}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),F=/'/g,V=/"/g,G=/^(?:script|style|textarea|title)$/i,B=(e=>(t,...i)=>({_$litType$:e,strings:t,values:i}))(1),K=Symbol.for("lit-noChange"),z=Symbol.for("lit-nothing"),q=new WeakMap,W=R.createTreeWalker(R,129);function J(e,t){if(!I(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==C?C.createHTML(t):t}const Y=(e,t)=>{const i=e.length-1,s=[];let o,n=2===t?"<svg>":3===t?"<math>":"",r=M;for(let t=0;t<i;t++){const i=e[t];let a,l,c=-1,d=0;for(;d<i.length&&(r.lastIndex=d,l=r.exec(i),null!==l);)d=r.lastIndex,r===M?"!--"===l[1]?r=D:void 0!==l[1]?r=U:void 0!==l[2]?(G.test(l[2])&&(o=RegExp("</"+l[2],"g")),r=H):void 0!==l[3]&&(r=H):r===H?">"===l[0]?(r=o??M,c=-1):void 0===l[1]?c=-2:(c=r.lastIndex-l[2].length,a=l[1],r=void 0===l[3]?H:'"'===l[3]?V:F):r===V||r===F?r=H:r===D||r===U?r=M:(r=H,o=void 0);const h=r===H&&e[t+1].startsWith("/>")?" ":"";n+=r===M?i+P:c>=0?(s.push(a),i.slice(0,c)+L+i.slice(c)+O+h):i+O+(-2===c?t:h)}return[J(e,n+(e[i]||"<?>")+(2===t?"</svg>":3===t?"</math>":"")),s]};class Z{constructor({strings:e,_$litType$:t},i){let s;this.parts=[];let o=0,n=0;const r=e.length-1,a=this.parts,[l,c]=Y(e,t);if(this.el=Z.createElement(l,i),W.currentNode=this.el.content,2===t||3===t){const e=this.el.content.firstChild;e.replaceWith(...e.childNodes)}for(;null!==(s=W.nextNode())&&a.length<r;){if(1===s.nodeType){if(s.hasAttributes())for(const e of s.getAttributeNames())if(e.endsWith(L)){const t=c[n++],i=s.getAttribute(e).split(O),r=/([.?@])?(.*)/.exec(t);a.push({type:1,index:o,name:r[2],strings:i,ctor:"."===r[1]?ie:"?"===r[1]?se:"@"===r[1]?oe:te}),s.removeAttribute(e)}else e.startsWith(O)&&(a.push({type:6,index:o}),s.removeAttribute(e));if(G.test(s.tagName)){const e=s.textContent.split(O),t=e.length-1;if(t>0){s.textContent=$?$.emptyScript:"";for(let i=0;i<t;i++)s.append(e[i],N()),W.nextNode(),a.push({type:2,index:++o});s.append(e[t],N())}}}else if(8===s.nodeType)if(s.data===A)a.push({type:2,index:o});else{let e=-1;for(;-1!==(e=s.data.indexOf(O,e+1));)a.push({type:7,index:o}),e+=O.length-1}o++}}static createElement(e,t){const i=R.createElement("template");return i.innerHTML=e,i}}function Q(e,t,i=e,s){if(t===K)return t;let o=void 0!==s?i._$Co?.[s]:i._$Cl;const n=T(t)?void 0:t._$litDirective$;return o?.constructor!==n&&(o?._$AO?.(!1),void 0===n?o=void 0:(o=new n(e),o._$AT(e,i,s)),void 0!==s?(i._$Co??=[])[s]=o:i._$Cl=o),void 0!==o&&(t=Q(e,o._$AS(e,t.values),o,s)),t}class X{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:t},parts:i}=this._$AD,s=(e?.creationScope??R).importNode(t,!0);W.currentNode=s;let o=W.nextNode(),n=0,r=0,a=i[0];for(;void 0!==a;){if(n===a.index){let t;2===a.type?t=new ee(o,o.nextSibling,this,e):1===a.type?t=new a.ctor(o,a.name,a.strings,this,e):6===a.type&&(t=new ne(o,this,e)),this._$AV.push(t),a=i[++r]}n!==a?.index&&(o=W.nextNode(),n++)}return W.currentNode=R,s}p(e){let t=0;for(const i of this._$AV)void 0!==i&&(void 0!==i.strings?(i._$AI(e,i,t),t+=i.strings.length-2):i._$AI(e[t])),t++}}class ee{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,t,i,s){this.type=2,this._$AH=z,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=i,this.options=s,this._$Cv=s?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return void 0!==t&&11===e?.nodeType&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=Q(this,e,t),T(e)?e===z||null==e||""===e?(this._$AH!==z&&this._$AR(),this._$AH=z):e!==this._$AH&&e!==K&&this._(e):void 0!==e._$litType$?this.$(e):void 0!==e.nodeType?this.T(e):(e=>I(e)||"function"==typeof e?.[Symbol.iterator])(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==z&&T(this._$AH)?this._$AA.nextSibling.data=e:this.T(R.createTextNode(e)),this._$AH=e}$(e){const{values:t,_$litType$:i}=e,s="number"==typeof i?this._$AC(e):(void 0===i.el&&(i.el=Z.createElement(J(i.h,i.h[0]),this.options)),i);if(this._$AH?._$AD===s)this._$AH.p(t);else{const e=new X(s,this),i=e.u(this.options);e.p(t),this.T(i),this._$AH=e}}_$AC(e){let t=q.get(e.strings);return void 0===t&&q.set(e.strings,t=new Z(e)),t}k(e){I(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let i,s=0;for(const o of e)s===t.length?t.push(i=new ee(this.O(N()),this.O(N()),this,this.options)):i=t[s],i._$AI(o),s++;s<t.length&&(this._$AR(i&&i._$AB.nextSibling,s),t.length=s)}_$AR(e=this._$AA.nextSibling,t){for(this._$AP?.(!1,!0,t);e&&e!==this._$AB;){const t=e.nextSibling;e.remove(),e=t}}setConnected(e){void 0===this._$AM&&(this._$Cv=e,this._$AP?.(e))}}class te{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,t,i,s,o){this.type=1,this._$AH=z,this._$AN=void 0,this.element=e,this.name=t,this._$AM=s,this.options=o,i.length>2||""!==i[0]||""!==i[1]?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=z}_$AI(e,t=this,i,s){const o=this.strings;let n=!1;if(void 0===o)e=Q(this,e,t,0),n=!T(e)||e!==this._$AH&&e!==K,n&&(this._$AH=e);else{const s=e;let r,a;for(e=o[0],r=0;r<o.length-1;r++)a=Q(this,s[i+r],t,r),a===K&&(a=this._$AH[r]),n||=!T(a)||a!==this._$AH[r],a===z?e=z:e!==z&&(e+=(a??"")+o[r+1]),this._$AH[r]=a}n&&!s&&this.j(e)}j(e){e===z?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class ie extends te{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===z?void 0:e}}class se extends te{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==z)}}class oe extends te{constructor(e,t,i,s,o){super(e,t,i,s,o),this.type=5}_$AI(e,t=this){if((e=Q(this,e,t,0)??z)===K)return;const i=this._$AH,s=e===z&&i!==z||e.capture!==i.capture||e.once!==i.once||e.passive!==i.passive,o=e!==z&&(i===z||s);s&&this.element.removeEventListener(this.name,this,i),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){"function"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}}class ne{constructor(e,t,i){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(e){Q(this,e)}}const re=x.litHtmlPolyfillSupport;re?.(Z,ee),(x.litHtmlVersions??=[]).push("3.2.1");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
class ae extends E{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const e=super.createRenderRoot();return this.renderOptions.renderBefore??=e.firstChild,e}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=((e,t,i)=>{const s=i?.renderBefore??t;let o=s._$litPart$;if(void 0===o){const e=i?.renderBefore??null;s._$litPart$=o=new ee(t.insertBefore(N(),e),e,void 0,i??{})}return o._$AI(e),o})(t,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return K}}ae._$litElement$=!0,ae.finalized=!0,globalThis.litElementHydrateSupport?.({LitElement:ae});const le=globalThis.litElementPolyfillSupport;le?.({LitElement:ae}),(globalThis.litElementVersions??=[]).push("4.1.1");class ce extends ae{constructor(){super(),this.text=""}static get properties(){return{text:{type:String}}}static get styles(){return a`
            .outer {
                display: inline-block;
                vertical-align: sub;
            }
            .inner {
                display: flex;
            }
            .ring {
                display: inline-block;
                position: relative;
                width: 1em;
                height: 1em;
            }
            .ring div {
                box-sizing: border-box;
                display: block;
                position: absolute;
                width: 100%;
                height: 100%;
                border: 0.2em solid currentColor;
                border-radius: 50%;
                animation: ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;
                border-color: currentColor transparent transparent transparent;
            }
            .ring div:nth-child(1) {
                animation-delay: -0.45s;
            }
            .ring div:nth-child(2) {
                animation-delay: -0.3s;
            }
            .ring div:nth-child(3) {
                animation-delay: -0.15s;
            }
            @keyframes ring {
                0% {
                    transform: rotate(0deg);
                }
                100% {
                    transform: rotate(360deg);
                }
            }
            .text {
                display: inline-block;
                margin-left: 0.5em;
                font-size: 0.7em;
            }
        `}render(){const e=""!==this.text?B`
                      <div class="text">${this.text}</div>
                  `:B``;return B`
            <div class="outer">
                <div class="inner">
                    <div class="ring">
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                    </div>
                    ${e}
                </div>
            </div>
        `}}const de=new WeakMap;const he="2.2.2",ue=window.scopedElementsVersions||(window.scopedElementsVersions=[]);ue.includes(he)||ue.push(he);const pe=!!ShadowRoot.prototype.createElement,ge=(fe=e=>class extends e{static get scopedElements(){return{}}static get scopedElementsVersion(){return he}static get shadowRootOptions(){return this.__shadowRootOptions}static set shadowRootOptions(e){this.__shadowRootOptions=e}static get elementStyles(){return this.__elementStyles}static set elementStyles(e){this.__elementStyles=e}constructor(...e){super(),this.renderOptions=this.renderOptions||void 0}get registry(){return this.constructor.__registry}set registry(e){this.constructor.__registry=e}createRenderRoot(){const{scopedElements:e,shadowRootOptions:t,elementStyles:i}=this.constructor;if(!this.registry||this.registry===this.constructor.__registry&&!Object.prototype.hasOwnProperty.call(this.constructor,"__registry")){this.registry=pe?new CustomElementRegistry:customElements;for(const[t,i]of Object.entries(e))this.defineScopedElement(t,i)}const s={mode:"open",...t,customElements:this.registry,registry:this.registry},o=this.attachShadow(s);return pe&&(this.renderOptions.creationScope=o),o instanceof ShadowRoot&&(l(o,i),this.renderOptions.renderBefore=this.renderOptions.renderBefore||o.firstChild),o}createScopedElement(e){return(pe?this.shadowRoot:document).createElement(e)}defineScopedElement(e,t){const i=this.registry.get(e);return i&&!1===pe&&i!==t&&console.error([`You are trying to re-register the "${e}" custom element with a different class via ScopedElementsMixin.`,"This is only possible with a CustomElementRegistry.","Your browser does not support this feature so you will need to load a polyfill for it.",'Load "@webcomponents/scoped-custom-element-registry" before you register ANY web component to the global customElements registry.','e.g. add "<script src="/node_modules/@webcomponents/scoped-custom-element-registry/scoped-custom-element-registry.min.js"><\/script>" as your first script tag.',"For more details you can visit https://open-wc.org/docs/development/scoped-elements/"].join("\n")),i?this.registry.get(e):this.registry.define(e,t)}getScopedTagName(e){return this.constructor.getScopedTagName(e)}static getScopedTagName(e){return this.__registry.get(e)?e:void 0}},e=>{if(function(e,t){let i=t;for(;i;){if(de.get(i)===e)return!0;i=Object.getPrototypeOf(i)}return!1}(fe,e))return e;const t=fe(e);return de.set(t,fe),t});var fe;function me(){return a`
        :host {
            /* new new variables */
            --dbp-background:
                    var(--dbp-override-background, #ffffff
            );
            --dbp-content:
                    var(--dbp-override-content, #222120
            );
            --dbp-content-surface:
                    var(--dbp-override-content-surface,
                    var(--dbp-content)
            );
            --dbp-on-content-surface:
                    var(--dbp-override-on-content-surface,
                    var(--dbp-background)
            );
            --dbp-border:
                    var(--dbp-override-border, 1px solid #222120
            );
            --dbp-border-radius:
                    var(--dbp-override-border-radius, 0px
            );
            --dbp-primary:
                    var(--dbp-override-primary,  #3775c1
            );
            --dbp-primary-surface:
                    var(--dbp-override-primary-surface,
                    var(--dbp-primary)
            );
            --dbp-on-primary-surface:
                    var(--dbp-override-on-primary-surface,
                    var(--dbp-on-content-surface)
            );
            --dbp-primary-surface-border-color:
                    var(--dbp-override-primary-surface-border-color,
                    var(--dbp-primary)
            );
            --dbp-secondary:
                    var(--dbp-override-secondary, #222120
            );
            --dbp-secondary-surface:
                    var(--dbp-override-secondary-surface,
                    var(--dbp-secondary)
            );
            --dbp-on-secondary-surface:
                    var(--dbp-override-on-secondary-surface,
                    var(--dbp-on-content-surface)
            );
            --dbp-secondary-surface-border-color:
                    var(--dbp-override-secondary-surface-border-color,
                    var(--dbp-secondary)
            );
            --dbp-muted:
                    var(--dbp-override-muted, #767676
            );
            --dbp-muted-surface:
                    var(--dbp-override-muted-surface,
                    var(--dbp-muted)
            );
            --dbp-on-muted-surface:
                    var(--dbp-override-on-muted-surface,
                    var(--dbp-on-content-surface)
            );
            --dbp-muted-surface-border-color:
                    var(--dbp-override-muted-surface-border-color,
                    var(--dbp-muted)
            );
            --dbp-accent:
                    var(--dbp-override-accent, #9e1e4d
            );
            --dbp-accent-surface:
                    var(--dbp-override-accent-surface,
                    var(--dbp-accent)
            );
            --dbp-on-accent-surface:
                    var(--dbp-override-on-accent-surface,
                    var(--dbp-on-content-surface)
            );
            --dbp-accent-surface-border-color:
                    var(--dbp-override-accent-surface-border-color,
                    var(--dbp-accent)
            );
            --dbp-info:
                    var(--dbp-override-info, #38808a
            );
            --dbp-info-surface:
                    var(--dbp-override-info-surface,
                    var(--dbp-info)
            );
            --dbp-on-info-surface:
                    var(--dbp-override-on-info-surface,
                    var(--dbp-on-content-surface)
            );
            --dbp-info-surface-border-color:
                    var(--dbp-override-info-surface-border-color,
                    var(--dbp-info)
            );
            --dbp-success:
                    var(--dbp-override-success, #338555
            );
            --dbp-success-surface:
                    var(--dbp-override-success-surface,
                    var(--dbp-success)
            );
            --dbp-on-success-surface:
                    var(--dbp-override-on-success-surface,
                    var(--dbp-on-content-surface)
            );
            --dbp-success-surface-border-color:
                    var(--dbp-override-success-surface-border-color,
                    var(--dbp-success)
            );
            --dbp-warning:
                    var(--dbp-override-warning, #bf8808
            );
            --dbp-warning-surface:
                    var(--dbp-override-warning-surface,
                    var(--dbp-warning)
            );
            --dbp-on-warning-surface:
                    var(--dbp-override-on-warning-surface,
                    var(--dbp-on-content-surface)
            );
            --dbp-warning-surface-border-color:
                    var(--dbp-override-warning-surface-border-color,
                    var(--dbp-warning)
            );
            --dbp-danger:
                    var(--dbp-override-danger, #cc3232
            );
            --dbp-danger-surface:
                    var(--dbp-override-danger-surface,
                    var(--dbp-danger)
            );
            --dbp-on-danger-surface:
                    var(--dbp-override-on-danger-surface,
                    var(--dbp-on-content-surface)
            );
            --dbp-danger-surface-border-color:
                    var(--dbp-override-danger-surface-border-color,
                    var(--dbp-danger)
            );
            --dbp-hover-background-color:
                    var(--dbp-override-hover-background-color
            );
            --dbp-hover-color:
                    var(--dbp-override-hover-color
            );
        }

        #root {
            background-color: var(--dbp-background);
            color: var(--dbp-content);
        }

        ::-moz-selection {
            color: var(--dbp-on-primary-surface);
            background: var(--dbp-primary-surface);
        }

        ::selection {
            color: var(--dbp-on-primary-surface);
            background: var(--dbp-primary-surface);
        }

    `}ge(ae);ge(ae);const be=new class{get debug(){return window.location.hash.includes("debug")?console.debug:()=>{}}};class ye extends ae{constructor(){super(),this.connected=!1,this.deferSubscribe=!1,this.deferUnSubscribe=!1,this.reflectAttribute=!0,this.subscribe="",this.unsubscribe="",this.callbackStore=[],this.propertyStore={},this.lastProperties={},be.debug("AdapterLitElement("+this.tagName+") constructor()")}getProperty(e){return this.propertyStore[e]}getPropertyByAttributeName(e){return this[this.findPropertyName(e)]}setPropertyByAttributeName(e,t){this[this.findPropertyName(e)]=t}setProperty(e,t){"object"==typeof t&&null!==t?this.setPropertyByAttributeName(e,t):this.attributeChangedCallback(e,this.getPropertyByAttributeName(e),t),this.lastProperties[e]=t,this.propertyStore[e]=t}hasPropertyChanged(e,t){return this.lastProperties[e]!==t}hasProperty(e){return Object.hasOwnProperty.call(this.propertyStore,e)}connectedCallback(){if(super.connectedCallback(),this.deferUnSubscribe){this.unsubscribe.split(",").forEach((e=>this.unSubscribeProviderFor(e))),this.deferSubscribe=!1,this.unsubscribe=""}if(this.deferSubscribe){this.subscribe.split(",").forEach((e=>this.subscribeProviderFor(e))),this.deferSubscribe=!1}this.connected=!0;const e=this;this.addEventListener("dbp-subscribe",(function(t){const i=t.detail.name;(e.hasProperty(i)||e.providerRoot)&&(be.debug("AdapterLitElementProvider("+e.tagName+') eventListener("dbp-subscribe",..) name "'+i+'" found.'),e.callbackStore.push({name:i,callback:t.detail.callback,sender:t.detail.sender}),t.detail.callback(e.getProperty(i)),t.stopPropagation())}),!1),this.addEventListener("dbp-unsubscribe",(function(t){const i=t.detail.name,s=t.detail.sender;(e.hasProperty(i)||e.providerRoot)&&(be.debug("AdapterLitElementProvider("+e.tagName+') eventListener("dbp-unsubscribe",..) name "'+i+'" found.'),e.callbackStore.forEach((t=>{if(t.sender===s&&t.name===i){const s=e.callbackStore.indexOf(t);e.callbackStore.splice(s,1),be.debug("AdapterLitElementProvider("+e.tagName+') eventListener for name "'+i+'" removed.')}})),t.stopPropagation())}),!1),this.addEventListener("dbp-set-property",(function(t){const i=t.detail.name,s=t.detail.value;(e.hasProperty(i)||e.providerRoot)&&(be.debug("AdapterLitElementProvider("+e.tagName+') eventListener("dbp-set-property",..) name "'+i+'" found.'),e.setProperty(i,s),e.callbackStore.forEach((e=>{e.name===i&&e.callback(s)})),t.stopPropagation())}),!1);const t=new MutationObserver((function(t,i){for(const i of t)if("attributes"===i.type){const t=i.attributeName,s=e.getAttribute(t);e.hasPropertyChanged(t,s)&&(be.debug("AdapterLitElementProvider ("+e.tagName+') observed attribute "'+t+'" changed'),e.setProperty(t,s),e.callbackStore.forEach((e=>{e.name===t&&e.callback(s)})))}}));if(t.observe(this,{attributes:!0,childList:!1,subtree:!1}),this.hasAttributes()){const t=this.attributes;for(let i=t.length-1;i>=0;i--)["id","class","style","data-tag-name"].includes(t[i].name)||(this.setProperty(t[i].name,t[i].value),be.debug("AdapterLitElementProvider ("+e.tagName+') found attribute "'+t[i].name+'" = "'+t[i].value+'"'))}}disconnectedCallback(){this.subscribe.split(",").forEach((e=>this.unSubscribeProviderFor(e))),super.disconnectedCallback()}subscribeProviderFor(e){be.debug("AdapterLitElement("+this.tagName+") subscribeProviderFor( "+e+" )");const t=e.trim().split(":"),i=t[0],s=t[1]||i,o=this,n=new CustomEvent("dbp-subscribe",{bubbles:!0,composed:!0,detail:{name:s,callback:e=>{void 0!==e&&(be.debug("AdapterLitElement("+o.tagName+") sub/Callback "+s+" -> "+i+" = "+e),"object"==typeof e&&null!==e?o.setPropertyByAttributeName(i,e):(o.attributeChangedCallback(i,o.getPropertyByAttributeName(i),e),null!==o.getAttribute(i)&&(console.warn('Provider callback: "'+i+'" is also an attribute in tag "'+o.tagName+'", this is not supported!'),o.reflectAttribute&&o.setAttribute(i,e))))},sender:this}});this.dispatchEvent(n)}unSubscribeProviderFor(e){be.debug("AdapterLitElement("+this.tagName+") unSubscribeProviderFor( "+e+" )");const t=e.trim().split(":"),i=t[1]||t[0],s=new CustomEvent("dbp-unsubscribe",{bubbles:!0,composed:!0,detail:{name:i,sender:this}});this.dispatchEvent(s)}static get properties(){return{...super.properties,subscribe:{type:String},unsubscribe:{type:String},providerRoot:{type:Boolean,attribute:"provider-root"}}}findPropertyName(e){let t=e;const i=this.constructor.properties;for(const s in i){if(i[s].attribute===e){t=s;break}}return t}attributeChangedCallback(e,t,i){switch(e){case"subscribe":if(be.debug("AdapterLitElement() attributeChangesCallback( "+e+", "+t+", "+i+")"),this.subscribe&&this.subscribe.length>0)if(this.connected){this.subscribe.split(",").forEach((e=>this.unSubscribeProviderFor(e)))}else this.deferUnSubscribe=this.subscribe.length>0,this.unsubscribe=this.subscribe;if(null!==i)if(this.subscribe=i,this.connected){i.split(",").forEach((e=>this.subscribeProviderFor(e)))}else this.deferSubscribe=i&&i.length>0;break;default:if("object"==typeof t&&!t&&!i||!i&&t&&e)break;super.attributeChangedCallback(e,t,i)}}sendSetPropertyEvent(e,t,i=!1){const s=new CustomEvent("dbp-set-property",{bubbles:!0,composed:!0,detail:{name:e,value:t}});return(this.parentElement&&!i?this.parentElement:this).dispatchEvent(s)}}class ve extends ye{constructor(){super(),this.htmlOverrides="",this._localTemplateSlotsImported=!1,this._globalSlotsContainer=null,this._globalTemplateSlotsImported=!1,this._renderDone=!1,this.routingUrl=""}static get properties(){return{...super.properties,htmlOverrides:{type:String,attribute:"html-overrides"},routingUrl:{type:String,attribute:"routing-url"}}}disconnectedCallback(){super.disconnectedCallback(),null!==this._globalSlotsContainer&&this._globalSlotsContainer.remove()}_(e){return null===this.shadowRoot?this.querySelector(e):this.shadowRoot.querySelector(e)}_a(e){return null===this.shadowRoot?this.querySelectorAll(e):this.shadowRoot.querySelectorAll(e)}firstUpdated(){super.firstUpdated(),this._renderDone=!0,this._importTemplateSlots()}update(e){e.forEach(((e,t)=>{if("html-overrides"===t)this._importTemplateSlots()})),super.update(e)}_importTemplateSlots(){this._renderDone&&(this._importLocalTemplateSlots(),this._importGlobalTemplateSlots())}_importLocalTemplateSlots(){if(this._localTemplateSlotsImported)return;let e=this.querySelectorAll(':scope > template[slot]:not([slot=""]');for(let t of e){const e=document.createElement("div");e.slot=t.getAttribute("slot"),e.appendChild(t.content.cloneNode(!0)),t.remove(),this.appendChild(e)}this._localTemplateSlotsImported=!0}_importGlobalTemplateSlots(){if(""===this.htmlOverrides||this._globalTemplateSlotsImported)return;let e=document.querySelector("template#"+this.htmlOverrides);if(null!==e){const t=e.content.cloneNode(!0).querySelector("template#"+this.tagName.toLowerCase());if(null!==t){const i=t.content.cloneNode(!0);let s=[];for(let e of i.querySelectorAll('[slot]:not([slot=""]'))e.parentNode===i&&s.push(e);for(let e of s)for(let t of this.querySelectorAll('[slot="'+e.slot+'"]'))t.remove();let o=document.createElement("div");e.append(o),this._globalSlotsContainer=o;for(let e of s)o.appendChild(e);for(;o.childNodes.length;)this.appendChild(o.removeChild(o.childNodes[0]))}}this._globalTemplateSlotsImported=!0}getRoutingData(){return function(e){const t=new URL(e,"https://example.com");return{pathname:t.pathname,pathSegments:t.pathname.split("/").filter((e=>""!==e)).map((e=>decodeURIComponent(e))),queryParams:t.searchParams,queryString:t.search,hash:t.hash,fragment:t.hash.replace(/^#/,"")}}(this.routingUrl)}}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const _e=2;class we{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,i){this._$Ct=e,this._$AM=t,this._$Ci=i}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class ke extends we{constructor(e){if(super(e),this.it=z,e.type!==_e)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(e){if(e===z||null==e)return this._t=void 0,this.it=e;if(e===K)return e;if("string"!=typeof e)throw Error(this.constructor.directiveName+"() called with a non-string value");if(e===this.it)return this._t;this.it=e;const t=[e];return t.raw=t,this._t={_$litType$:this.constructor.resultType,strings:t,values:[]}}}ke.directiveName="unsafeHTML",ke.resultType=1;const Se=(e=>(...t)=>({_$litDirective$:e,values:t}))(ke),Ee=e=>"string"==typeof e,xe=()=>{let e,t;const i=new Promise(((i,s)=>{e=i,t=s}));return i.resolve=e,i.reject=t,i},$e=e=>null==e?"":""+e,Ce=/###/g,Le=e=>e&&e.indexOf("###")>-1?e.replace(Ce,"."):e,Oe=e=>!e||Ee(e),Ae=(e,t,i)=>{const s=Ee(t)?t.split("."):t;let o=0;for(;o<s.length-1;){if(Oe(e))return{};const t=Le(s[o]);!e[t]&&i&&(e[t]=new i),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++o}return Oe(e)?{}:{obj:e,k:Le(s[o])}},Pe=(e,t,i)=>{const{obj:s,k:o}=Ae(e,t,Object);if(void 0!==s||1===t.length)return void(s[o]=i);let n=t[t.length-1],r=t.slice(0,t.length-1),a=Ae(e,r,Object);for(;void 0===a.obj&&r.length;)n=`${r[r.length-1]}.${n}`,r=r.slice(0,r.length-1),a=Ae(e,r,Object),a?.obj&&void 0!==a.obj[`${a.k}.${n}`]&&(a.obj=void 0);a.obj[`${a.k}.${n}`]=i},Re=(e,t)=>{const{obj:i,k:s}=Ae(e,t);if(i&&Object.prototype.hasOwnProperty.call(i,s))return i[s]},Ne=(e,t,i)=>{for(const s in t)"__proto__"!==s&&"constructor"!==s&&(s in e?Ee(e[s])||e[s]instanceof String||Ee(t[s])||t[s]instanceof String?i&&(e[s]=t[s]):Ne(e[s],t[s],i):e[s]=t[s]);return e},Te=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Ie={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const je=e=>Ee(e)?e.replace(/[&<>"'\/]/g,(e=>Ie[e])):e;const Me=[" ",",","?","!",";"],De=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(void 0!==t)return t;const i=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,i),this.regExpQueue.push(e),i}}(20),Ue=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t]){if(!Object.prototype.hasOwnProperty.call(e,t))return;return e[t]}const s=t.split(i);let o=e;for(let e=0;e<s.length;){if(!o||"object"!=typeof o)return;let t,n="";for(let r=e;r<s.length;++r)if(r!==e&&(n+=i),n+=s[r],t=o[n],void 0!==t){if(["string","number","boolean"].indexOf(typeof t)>-1&&r<s.length-1)continue;e+=r-e+1;break}o=t}return o},He=e=>e?.replace("_","-"),Fe={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console?.[e]?.apply?.(console,t)}};class Ve{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||Fe,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,i,s){return s&&!this.debug?null:(Ee(e[0])&&(e[0]=`${i}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new Ve(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new Ve(this.logger,e)}}var Ge=new Ve;class Be{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach((e=>{this.observers[e]||(this.observers[e]=new Map);const i=this.observers[e].get(t)||0;this.observers[e].set(t,i+1)})),this}off(e,t){this.observers[e]&&(t?this.observers[e].delete(t):delete this.observers[e])}emit(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];if(this.observers[e]){Array.from(this.observers[e].entries()).forEach((e=>{let[t,s]=e;for(let e=0;e<s;e++)t(...i)}))}if(this.observers["*"]){Array.from(this.observers["*"].entries()).forEach((t=>{let[s,o]=t;for(let t=0;t<o;t++)s.apply(s,[e,...i])}))}}}class Ke extends Be{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o=void 0!==s.keySeparator?s.keySeparator:this.options.keySeparator,n=void 0!==s.ignoreJSONStructure?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let r;e.indexOf(".")>-1?r=e.split("."):(r=[e,t],i&&(Array.isArray(i)?r.push(...i):Ee(i)&&o?r.push(...i.split(o)):r.push(i)));const a=Re(this.data,r);return!a&&!t&&!i&&e.indexOf(".")>-1&&(e=r[0],t=r[1],i=r.slice(2).join(".")),!a&&n&&Ee(i)?Ue(this.data?.[e]?.[t],i,o):a}addResource(e,t,i,s){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1};const n=void 0!==o.keySeparator?o.keySeparator:this.options.keySeparator;let r=[e,t];i&&(r=r.concat(n?i.split(n):i)),e.indexOf(".")>-1&&(r=e.split("."),s=t,t=r[1]),this.addNamespaces(t),Pe(this.data,r,s),o.silent||this.emit("added",e,t,i,s)}addResources(e,t,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(const s in i)(Ee(i[s])||Array.isArray(i[s]))&&this.addResource(e,t,s,i[s],{silent:!0});s.silent||this.emit("added",e,t,i)}addResourceBundle(e,t,i,s,o){let n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},r=[e,t];e.indexOf(".")>-1&&(r=e.split("."),s=i,i=t,t=r[1]),this.addNamespaces(t);let a=Re(this.data,r)||{};n.skipCopy||(i=JSON.parse(JSON.stringify(i))),s?Ne(a,i,o):a={...a,...i},Pe(this.data,r,a),n.silent||this.emit("added",e,t,i)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((e=>t[e]&&Object.keys(t[e]).length>0))}toJSON(){return this.data}}var ze={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,i,s,o){return e.forEach((e=>{t=this.processors[e]?.process(t,i,s,o)??t})),t}};const qe={},We=e=>!Ee(e)&&"boolean"!=typeof e&&"number"!=typeof e;class Je extends Be{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),((e,t,i)=>{e.forEach((e=>{t[e]&&(i[e]=t[e])}))})(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=Ge.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;const i=this.resolve(e,t);return void 0!==i?.res}extractFromKey(e,t){let i=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===i&&(i=":");const s=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator;let o=t.ns||this.options.defaultNS||[];const n=i&&e.indexOf(i)>-1,r=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||((e,t,i)=>{t=t||"",i=i||"";const s=Me.filter((e=>t.indexOf(e)<0&&i.indexOf(e)<0));if(0===s.length)return!0;const o=De.getRegExp(`(${s.map((e=>"?"===e?"\\?":e)).join("|")})`);let n=!o.test(e);if(!n){const t=e.indexOf(i);t>0&&!o.test(e.substring(0,t))&&(n=!0)}return n})(e,i,s));if(n&&!r){const t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:Ee(o)?[o]:o};const n=e.split(i);(i!==s||i===s&&this.options.ns.indexOf(n[0])>-1)&&(o=n.shift()),e=n.join(s)}return{key:e,namespaces:Ee(o)?[o]:o}}translate(e,t,i){if("object"!=typeof t&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof t&&(t={...t}),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);const s=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,o=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,{key:n,namespaces:r}=this.extractFromKey(e[e.length-1],t),a=r[r.length-1],l=t.lng||this.language,c=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if("cimode"===l?.toLowerCase()){if(c){const e=t.nsSeparator||this.options.nsSeparator;return s?{res:`${a}${e}${n}`,usedKey:n,exactUsedKey:n,usedLng:l,usedNS:a,usedParams:this.getUsedParamsDetails(t)}:`${a}${e}${n}`}return s?{res:n,usedKey:n,exactUsedKey:n,usedLng:l,usedNS:a,usedParams:this.getUsedParamsDetails(t)}:n}const d=this.resolve(e,t);let h=d?.res;const u=d?.usedKey||n,p=d?.exactUsedKey||n,g=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,f=!this.i18nFormat||this.i18nFormat.handleAsObject,m=void 0!==t.count&&!Ee(t.count),b=Je.hasDefaultValue(t),y=m?this.pluralResolver.getSuffix(l,t.count,t):"",v=t.ordinal&&m?this.pluralResolver.getSuffix(l,t.count,{ordinal:!1}):"",_=m&&!t.ordinal&&0===t.count,w=_&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${y}`]||t[`defaultValue${v}`]||t.defaultValue;let k=h;f&&!h&&b&&(k=w);const S=We(k),E=Object.prototype.toString.apply(k);if(!(f&&k&&S&&["[object Number]","[object Function]","[object RegExp]"].indexOf(E)<0)||Ee(g)&&Array.isArray(k))if(f&&Ee(g)&&Array.isArray(h))h=h.join(g),h&&(h=this.extendTranslation(h,e,t,i));else{let s=!1,r=!1;!this.isValidLookup(h)&&b&&(s=!0,h=w),this.isValidLookup(h)||(r=!0,h=n);const c=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&r?void 0:h,u=b&&w!==h&&this.options.updateMissing;if(r||s||u){if(this.logger.log(u?"updateKey":"missingKey",l,a,n,u?w:h),o){const e=this.resolve(n,{...t,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const i=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&i&&i[0])for(let t=0;t<i.length;t++)e.push(i[t]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(t.lng||this.language):e.push(t.lng||this.language);const s=(e,i,s)=>{const o=b&&s!==h?s:c;this.options.missingKeyHandler?this.options.missingKeyHandler(e,a,i,o,u,t):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(e,a,i,o,u,t),this.emit("missingKey",e,a,i,h)};this.options.saveMissing&&(this.options.saveMissingPlurals&&m?e.forEach((e=>{const i=this.pluralResolver.getSuffixes(e,t);_&&t[`defaultValue${this.options.pluralSeparator}zero`]&&i.indexOf(`${this.options.pluralSeparator}zero`)<0&&i.push(`${this.options.pluralSeparator}zero`),i.forEach((i=>{s([e],n+i,t[`defaultValue${i}`]||w)}))})):s(e,n,w))}h=this.extendTranslation(h,e,t,d,i),r&&h===n&&this.options.appendNamespaceToMissingKey&&(h=`${a}:${n}`),(r||s)&&this.options.parseMissingKeyHandler&&(h=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${a}:${n}`:n,s?h:void 0))}else{if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(u,k,{...t,ns:r}):`key '${n} (${this.language})' returned an object instead of string.`;return s?(d.res=e,d.usedParams=this.getUsedParamsDetails(t),d):e}if(o){const e=Array.isArray(k),i=e?[]:{},s=e?p:u;for(const e in k)if(Object.prototype.hasOwnProperty.call(k,e)){const n=`${s}${o}${e}`;i[e]=b&&!h?this.translate(n,{...t,defaultValue:We(w)?w[e]:void 0,joinArrays:!1,ns:r}):this.translate(n,{...t,joinArrays:!1,ns:r}),i[e]===n&&(i[e]=k[e])}h=i}}return s?(d.res=h,d.usedParams=this.getUsedParamsDetails(t),d):h}extendTranslation(e,t,i,s,o){var n=this;if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const r=Ee(e)&&(void 0!==i?.interpolation?.skipOnVariables?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let a;if(r){const t=e.match(this.interpolator.nestingRegexp);a=t&&t.length}let l=i.replace&&!Ee(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(l={...this.options.interpolation.defaultVariables,...l}),e=this.interpolator.interpolate(e,l,i.lng||this.language||s.usedLng,i),r){const t=e.match(this.interpolator.nestingRegexp);a<(t&&t.length)&&(i.nest=!1)}!i.lng&&s&&s.res&&(i.lng=this.language||s.usedLng),!1!==i.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return o?.[0]!==s[0]||i.context?n.translate(...s,t):(n.logger.warn(`It seems you are nesting recursively key: ${s[0]} in key: ${t[0]}`),null)}),i)),i.interpolation&&this.interpolator.reset()}const r=i.postProcess||this.options.postProcess,a=Ee(r)?[r]:r;return null!=e&&a?.length&&!1!==i.applyPostProcessor&&(e=ze.handle(a,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),e}resolve(e){let t,i,s,o,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ee(e)&&(e=[e]),e.forEach((e=>{if(this.isValidLookup(t))return;const a=this.extractFromKey(e,r),l=a.key;i=l;let c=a.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));const d=void 0!==r.count&&!Ee(r.count),h=d&&!r.ordinal&&0===r.count,u=void 0!==r.context&&(Ee(r.context)||"number"==typeof r.context)&&""!==r.context,p=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);c.forEach((e=>{this.isValidLookup(t)||(n=e,qe[`${p[0]}-${e}`]||!this.utils?.hasLoadedNamespace||this.utils?.hasLoadedNamespace(n)||(qe[`${p[0]}-${e}`]=!0,this.logger.warn(`key "${i}" for languages "${p.join(", ")}" won't get resolved as namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach((i=>{if(this.isValidLookup(t))return;o=i;const n=[l];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(n,l,i,e,r);else{let e;d&&(e=this.pluralResolver.getSuffix(i,r.count,r));const t=`${this.options.pluralSeparator}zero`,s=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(d&&(n.push(l+e),r.ordinal&&0===e.indexOf(s)&&n.push(l+e.replace(s,this.options.pluralSeparator)),h&&n.push(l+t)),u){const i=`${l}${this.options.contextSeparator}${r.context}`;n.push(i),d&&(n.push(i+e),r.ordinal&&0===e.indexOf(s)&&n.push(i+e.replace(s,this.options.pluralSeparator)),h&&n.push(i+t))}}let a;for(;a=n.pop();)this.isValidLookup(t)||(s=a,t=this.getResource(i,e,a,r))})))}))})),{res:t,usedKey:i,exactUsedKey:s,usedLng:o,usedNS:n}}isValidLookup(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}getResource(e,t,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,t,i,s):this.resourceStore.getResource(e,t,i,s)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=e.replace&&!Ee(e.replace);let s=i?e.replace:e;if(i&&void 0!==e.count&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!i){s={...s};for(const e of t)delete s[e]}return s}static hasDefaultValue(e){const t="defaultValue";for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t===i.substring(0,12)&&void 0!==e[i])return!0;return!1}}class Ye{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ge.create("languageUtils")}getScriptPartFromCode(e){if(!(e=He(e))||e.indexOf("-")<0)return null;const t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}getLanguagePartFromCode(e){if(!(e=He(e))||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Ee(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch(e){}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach((e=>{if(t)return;const i=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(i)||(t=i)})),!t&&this.options.supportedLngs&&e.forEach((e=>{if(t)return;const i=this.getLanguagePartFromCode(e);if(this.isSupportedCode(i))return t=i;t=this.options.supportedLngs.find((e=>e===i?e:e.indexOf("-")<0&&i.indexOf("-")<0?void 0:e.indexOf("-")>0&&i.indexOf("-")<0&&e.substring(0,e.indexOf("-"))===i||0===e.indexOf(i)&&i.length>1?e:void 0))})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),Ee(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let i=e[t];return i||(i=e[this.getScriptPartFromCode(t)]),i||(i=e[this.formatLanguageCode(t)]),i||(i=e[this.getLanguagePartFromCode(t)]),i||(i=e.default),i||[]}toResolveHierarchy(e,t){const i=this.getFallbackCodes(t||this.options.fallbackLng||[],e),s=[],o=e=>{e&&(this.isSupportedCode(e)?s.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return Ee(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(e))):Ee(e)&&o(this.formatLanguageCode(e)),i.forEach((e=>{s.indexOf(e)<0&&o(this.formatLanguageCode(e))})),s}}const Ze={zero:0,one:1,two:2,few:3,many:4,other:5},Qe={select:e=>1===e?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Xe{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=Ge.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=He("dev"===e?"en":e),s=t.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:i,type:s});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let n;try{n=new Intl.PluralRules(i,{type:s})}catch(i){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Qe;if(!e.match(/-|_/))return Qe;const s=this.languageUtils.getLanguagePartFromCode(e);n=this.getRule(s,t)}return this.pluralRulesCache[o]=n,n}needsPlural(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.getRule(e,t);return i||(i=this.getRule("dev",t)),i?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,i).map((e=>`${t}${e}`))}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.getRule(e,t);return i||(i=this.getRule("dev",t)),i?i.resolvedOptions().pluralCategories.sort(((e,t)=>Ze[e]-Ze[t])).map((e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`)):[]}getSuffix(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=this.getRule(e,i);return s?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${s.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,i))}}const et=function(e,t,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],n=((e,t,i)=>{const s=Re(e,i);return void 0!==s?s:Re(t,i)})(e,t,i);return!n&&o&&Ee(i)&&(n=Ue(e,i,s),void 0===n&&(n=Ue(t,i,s))),n},tt=e=>e.replace(/\$/g,"$$$$");class it{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=Ge.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(e=>e),this.init(e)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:i,useRawValueToEscape:s,prefix:o,prefixEscaped:n,suffix:r,suffixEscaped:a,formatSeparator:l,unescapeSuffix:c,unescapePrefix:d,nestingPrefix:h,nestingPrefixEscaped:u,nestingSuffix:p,nestingSuffixEscaped:g,nestingOptionsSeparator:f,maxReplaces:m,alwaysFormat:b}=e.interpolation;this.escape=void 0!==t?t:je,this.escapeValue=void 0===i||i,this.useRawValueToEscape=void 0!==s&&s,this.prefix=o?Te(o):n||"{{",this.suffix=r?Te(r):a||"}}",this.formatSeparator=l||",",this.unescapePrefix=c?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=h?Te(h):u||Te("$t("),this.nestingSuffix=p?Te(p):g||Te(")"),this.nestingOptionsSeparator=f||",",this.maxReplaces=m||1e3,this.alwaysFormat=void 0!==b&&b,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(e,t)=>e?.source===t?(e.lastIndex=0,e):new RegExp(t,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,i,s){let o,n,r;const a=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},l=e=>{if(e.indexOf(this.formatSeparator)<0){const o=et(t,a,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(o,void 0,i,{...s,...t,interpolationkey:e}):o}const o=e.split(this.formatSeparator),n=o.shift().trim(),r=o.join(this.formatSeparator).trim();return this.format(et(t,a,n,this.options.keySeparator,this.options.ignoreJSONStructure),r,i,{...s,...t,interpolationkey:n})};this.resetRegExp();const c=s?.missingInterpolationHandler||this.options.missingInterpolationHandler,d=void 0!==s?.interpolation?.skipOnVariables?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>tt(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?tt(this.escape(e)):tt(e)}].forEach((t=>{for(r=0;o=t.regex.exec(e);){const i=o[1].trim();if(n=l(i),void 0===n)if("function"==typeof c){const t=c(e,o,s);n=Ee(t)?t:""}else if(s&&Object.prototype.hasOwnProperty.call(s,i))n="";else{if(d){n=o[0];continue}this.logger.warn(`missed to pass in variable ${i} for interpolating ${e}`),n=""}else Ee(n)||this.useRawValueToEscape||(n=$e(n));const a=t.safeValue(n);if(e=e.replace(o[0],a),d?(t.regex.lastIndex+=n.length,t.regex.lastIndex-=o[0].length):t.regex.lastIndex=0,r++,r>=this.maxReplaces)break}})),e}nest(e,t){let i,s,o,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=(e,t)=>{const i=this.nestingOptionsSeparator;if(e.indexOf(i)<0)return e;const s=e.split(new RegExp(`${i}[ ]*{`));let n=`{${s[1]}`;e=s[0],n=this.interpolate(n,o);const r=n.match(/'/g),a=n.match(/"/g);((r?.length??0)%2==0&&!a||a.length%2!=0)&&(n=n.replace(/'/g,'"'));try{o=JSON.parse(n),t&&(o={...t,...o})}catch(t){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,t),`${e}${i}${n}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,e};for(;i=this.nestingRegexp.exec(e);){let a=[];o={...n},o=o.replace&&!Ee(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let l=!1;if(-1!==i[0].indexOf(this.formatSeparator)&&!/{.*}/.test(i[1])){const e=i[1].split(this.formatSeparator).map((e=>e.trim()));i[1]=e.shift(),a=e,l=!0}if(s=t(r.call(this,i[1].trim(),o),o),s&&i[0]===e&&!Ee(s))return s;Ee(s)||(s=$e(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),s=""),l&&(s=a.reduce(((e,t)=>this.format(e,t,n.lng,{...n,interpolationkey:i[1].trim()})),s.trim())),e=e.replace(i[0],s),this.regexp.lastIndex=0}return e}}const st=e=>{const t={};return(i,s,o)=>{let n=o;o&&o.interpolationkey&&o.formatParams&&o.formatParams[o.interpolationkey]&&o[o.interpolationkey]&&(n={...n,[o.interpolationkey]:void 0});const r=s+JSON.stringify(n);let a=t[r];return a||(a=e(He(s),o),t[r]=a),a(i)}};class ot{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=Ge.create("formatter"),this.options=e,this.formats={number:st(((e,t)=>{const i=new Intl.NumberFormat(e,{...t});return e=>i.format(e)})),currency:st(((e,t)=>{const i=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>i.format(e)})),datetime:st(((e,t)=>{const i=new Intl.DateTimeFormat(e,{...t});return e=>i.format(e)})),relativetime:st(((e,t)=>{const i=new Intl.RelativeTimeFormat(e,{...t});return e=>i.format(e,t.range||"day")})),list:st(((e,t)=>{const i=new Intl.ListFormat(e,{...t});return e=>i.format(e)}))},this.init(e)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=st(t)}format(e,t,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o=t.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find((e=>e.indexOf(")")>-1))){const e=o.findIndex((e=>e.indexOf(")")>-1));o[0]=[o[0],...o.splice(1,e)].join(this.formatSeparator)}const n=o.reduce(((e,t)=>{const{formatName:o,formatOptions:n}=(e=>{let t=e.toLowerCase().trim();const i={};if(e.indexOf("(")>-1){const s=e.split("(");t=s[0].toLowerCase().trim();const o=s[1].substring(0,s[1].length-1);"currency"===t&&o.indexOf(":")<0?i.currency||(i.currency=o.trim()):"relativetime"===t&&o.indexOf(":")<0?i.range||(i.range=o.trim()):o.split(";").forEach((e=>{if(e){const[t,...s]=e.split(":"),o=s.join(":").trim().replace(/^'+|'+$/g,""),n=t.trim();i[n]||(i[n]=o),"false"===o&&(i[n]=!1),"true"===o&&(i[n]=!0),isNaN(o)||(i[n]=parseInt(o,10))}}))}return{formatName:t,formatOptions:i}})(t);if(this.formats[o]){let t=e;try{const r=s?.formatParams?.[s.interpolationkey]||{},a=r.locale||r.lng||s.locale||s.lng||i;t=this.formats[o](e,a,{...n,...s,...r})}catch(e){this.logger.warn(e)}return t}return this.logger.warn(`there was no format function for ${o}`),e}),e);return n}}class nt extends Be{constructor(e,t,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=i,this.languageUtils=i.languageUtils,this.options=s,this.logger=Ge.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(i,s.backend,s)}queueLoad(e,t,i,s){const o={},n={},r={},a={};return e.forEach((e=>{let s=!0;t.forEach((t=>{const r=`${e}|${t}`;!i.reload&&this.store.hasResourceBundle(e,t)?this.state[r]=2:this.state[r]<0||(1===this.state[r]?void 0===n[r]&&(n[r]=!0):(this.state[r]=1,s=!1,void 0===n[r]&&(n[r]=!0),void 0===o[r]&&(o[r]=!0),void 0===a[t]&&(a[t]=!0)))})),s||(r[e]=!0)})),(Object.keys(o).length||Object.keys(n).length)&&this.queue.push({pending:n,pendingCount:Object.keys(n).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(o),pending:Object.keys(n),toLoadLanguages:Object.keys(r),toLoadNamespaces:Object.keys(a)}}loaded(e,t,i){const s=e.split("|"),o=s[0],n=s[1];t&&this.emit("failedLoading",o,n,t),!t&&i&&this.store.addResourceBundle(o,n,i,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&i&&(this.state[e]=0);const r={};this.queue.forEach((i=>{((e,t,i)=>{const{obj:s,k:o}=Ae(e,t,Object);s[o]=s[o]||[],s[o].push(i)})(i.loaded,[o],n),((e,t)=>{void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)})(i,e),t&&i.errors.push(t),0!==i.pendingCount||i.done||(Object.keys(i.loaded).forEach((e=>{r[e]||(r[e]={});const t=i.loaded[e];t.length&&t.forEach((t=>{void 0===r[e][t]&&(r[e][t]=!0)}))})),i.done=!0,i.errors.length?i.callback(i.errors):i.callback())})),this.emit("loaded",r),this.queue=this.queue.filter((e=>!e.done))}read(e,t,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,n=arguments.length>5?arguments[5]:void 0;if(!e.length)return n(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:i,tried:s,wait:o,callback:n});this.readingCalls++;const r=(r,a)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}r&&a&&s<this.maxRetries?setTimeout((()=>{this.read.call(this,e,t,i,s+1,2*o,n)}),o):n(r,a)},a=this.backend[i].bind(this.backend);if(2!==a.length)return a(e,t,r);try{const i=a(e,t);i&&"function"==typeof i.then?i.then((e=>r(null,e))).catch(r):r(null,i)}catch(e){r(e)}}prepareLoading(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();Ee(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Ee(t)&&(t=[t]);const o=this.queueLoad(e,t,i,s);if(!o.toLoad.length)return o.pending.length||s(),null;o.toLoad.forEach((e=>{this.loadOne(e)}))}load(e,t,i){this.prepareLoading(e,t,{},i)}reload(e,t,i){this.prepareLoading(e,t,{reload:!0},i)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const i=e.split("|"),s=i[0],o=i[1];this.read(s,o,"read",void 0,void 0,((i,n)=>{i&&this.logger.warn(`${t}loading namespace ${o} for language ${s} failed`,i),!i&&n&&this.logger.log(`${t}loaded namespace ${o} for language ${s}`,n),this.loaded(e,i,n)}))}saveMissing(e,t,i,s,o){let n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(!this.services?.utils?.hasLoadedNamespace||this.services?.utils?.hasLoadedNamespace(t)){if(null!=i&&""!==i){if(this.backend?.create){const a={...n,isUpdate:o},l=this.backend.create.bind(this.backend);if(l.length<6)try{let o;o=5===l.length?l(e,t,i,s,a):l(e,t,i,s),o&&"function"==typeof o.then?o.then((e=>r(null,e))).catch(r):r(null,o)}catch(e){r(e)}else l(e,t,i,s,r,a)}e&&e[0]&&this.store.addResource(e[0],t,i,s)}}else this.logger.warn(`did not save key "${i}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")}}const rt=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if("object"==typeof e[1]&&(t=e[1]),Ee(e[1])&&(t.defaultValue=e[1]),Ee(e[2])&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){const i=e[3]||e[2];Object.keys(i).forEach((e=>{t[e]=i[e]}))}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),at=e=>(Ee(e.ns)&&(e.ns=[e.ns]),Ee(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Ee(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs?.indexOf?.("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),"boolean"==typeof e.initImmediate&&(e.initAsync=e.initImmediate),e),lt=()=>{};class ct extends Be{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;var i;if(super(),this.options=at(e),this.services={},this.logger=Ge,this.modules={external:[]},i=this,Object.getOwnPropertyNames(Object.getPrototypeOf(i)).forEach((e=>{"function"==typeof i[e]&&(i[e]=i[e].bind(i))})),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout((()=>{this.init(e,t)}),0)}}init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"==typeof t&&(i=t,t={}),null==t.defaultNS&&t.ns&&(Ee(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const s=rt();this.options={...s,...this.options,...at(t)},this.options.interpolation={...s.interpolation,...this.options.interpolation},void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator);const o=e=>e?"function"==typeof e?new e:e:null;if(!this.options.isClone){let t;this.modules.logger?Ge.init(o(this.modules.logger),this.options):Ge.init(null,this.options),t=this.modules.formatter?this.modules.formatter:ot;const i=new Ye(this.options);this.store=new Ke(this.options.resources,this.options);const n=this.services;n.logger=Ge,n.resourceStore=this.store,n.languageUtils=i,n.pluralResolver=new Xe(i,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!t||this.options.interpolation.format&&this.options.interpolation.format!==s.interpolation.format||(n.formatter=o(t),n.formatter.init(n,this.options),this.options.interpolation.format=n.formatter.format.bind(n.formatter)),n.interpolator=new it(this.options),n.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},n.backendConnector=new nt(o(this.modules.backend),n.resourceStore,n,this.options),n.backendConnector.on("*",(function(t){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];e.emit(t,...s)})),this.modules.languageDetector&&(n.languageDetector=o(this.modules.languageDetector),n.languageDetector.init&&n.languageDetector.init(n,this.options.detection,this.options)),this.modules.i18nFormat&&(n.i18nFormat=o(this.modules.i18nFormat),n.i18nFormat.init&&n.i18nFormat.init(this)),this.translator=new Je(this.services,this.options),this.translator.on("*",(function(t){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];e.emit(t,...s)})),this.modules.external.forEach((e=>{e.init&&e.init(this)}))}if(this.format=this.options.interpolation.format,i||(i=lt),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((t=>{this[t]=function(){return e.store[t](...arguments)}}));["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((t=>{this[t]=function(){return e.store[t](...arguments),e}}));const n=xe(),r=()=>{const e=(e,t)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),n.resolve(t),i(e,t)};if(this.languages&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initAsync?r():setTimeout(r,0),n}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lt;const i=Ee(e)?e:this.language;if("function"==typeof e&&(t=e),!this.options.resources||this.options.partialBundledLanguages){if("cimode"===i?.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return t();const e=[],s=t=>{if(!t)return;if("cimode"===t)return;this.services.languageUtils.toResolveHierarchy(t).forEach((t=>{"cimode"!==t&&e.indexOf(t)<0&&e.push(t)}))};if(i)s(i);else{this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((e=>s(e)))}this.options.preload?.forEach?.((e=>s(e))),this.services.backendConnector.load(e,this.options.ns,(e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),t(e)}))}else t(null)}reloadResources(e,t,i){const s=xe();return"function"==typeof e&&(i=e,e=void 0),"function"==typeof t&&(i=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),i||(i=lt),this.services.backendConnector.reload(e,t,(e=>{s.resolve(),i(e)})),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&ze.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(let e=0;e<this.languages.length;e++){const t=this.languages[e];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}}changeLanguage(e,t){var i=this;this.isLanguageChangingTo=e;const s=xe();this.emit("languageChanging",e);const o=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},n=(e,n)=>{n?(o(n),this.translator.changeLanguage(n),this.isLanguageChangingTo=void 0,this.emit("languageChanged",n),this.logger.log("languageChanged",n)):this.isLanguageChangingTo=void 0,s.resolve((function(){return i.t(...arguments)})),t&&t(e,(function(){return i.t(...arguments)}))},r=t=>{e||t||!this.services.languageDetector||(t=[]);const i=Ee(t)?t:this.services.languageUtils.getBestMatchFromCodes(t);i&&(this.language||o(i),this.translator.language||this.translator.changeLanguage(i),this.services.languageDetector?.cacheUserLanguage?.(i)),this.loadResources(i,(e=>{n(e,i)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(r):this.services.languageDetector.detect(r):r(e):r(this.services.languageDetector.detect()),s}getFixedT(e,t,i){var s=this;const o=function(e,t){let n;if("object"!=typeof t){for(var r=arguments.length,a=new Array(r>2?r-2:0),l=2;l<r;l++)a[l-2]=arguments[l];n=s.options.overloadTranslationOptionHandler([e,t].concat(a))}else n={...t};n.lng=n.lng||o.lng,n.lngs=n.lngs||o.lngs,n.ns=n.ns||o.ns,""!==n.keyPrefix&&(n.keyPrefix=n.keyPrefix||i||o.keyPrefix);const c=s.options.keySeparator||".";let d;return d=n.keyPrefix&&Array.isArray(e)?e.map((e=>`${n.keyPrefix}${c}${e}`)):n.keyPrefix?`${n.keyPrefix}${c}${e}`:e,s.t(d,n)};return Ee(e)?o.lng=e:o.lngs=e,o.ns=t,o.keyPrefix=i,o}t(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.translator?.translate(...t)}exists(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.translator?.exists(...t)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=t.lng||this.resolvedLanguage||this.languages[0],s=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===i.toLowerCase())return!0;const n=(e,t)=>{const i=this.services.backendConnector.state[`${e}|${t}`];return-1===i||0===i||2===i};if(t.precheck){const e=t.precheck(this,n);if(void 0!==e)return e}return!!this.hasResourceBundle(i,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!n(i,e)||s&&!n(o,e)))}loadNamespaces(e,t){const i=xe();return this.options.ns?(Ee(e)&&(e=[e]),e.forEach((e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)})),this.loadResources((e=>{i.resolve(),t&&t(e)})),i):(t&&t(),Promise.resolve())}loadLanguages(e,t){const i=xe();Ee(e)&&(e=[e]);const s=this.options.preload||[],o=e.filter((e=>s.indexOf(e)<0&&this.services.languageUtils.isSupportedCode(e)));return o.length?(this.options.preload=s.concat(o),this.loadResources((e=>{i.resolve(),t&&t(e)})),i):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=this.services?.languageUtils||new Ye(rt());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){return new ct(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lt;const i=e.forkResourceStore;i&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},o=new ct(s);void 0===e.debug&&void 0===e.prefix||(o.logger=o.logger.clone(e));if(["store","services","language"].forEach((e=>{o[e]=this[e]})),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},i){const e=Object.keys(this.store.data).reduce(((e,t)=>(e[t]={...this.store.data[t]},Object.keys(e[t]).reduce(((i,s)=>(i[s]={...e[t][s]},i)),{}))),{});o.store=new Ke(e,s),o.services.resourceStore=o.store}return o.translator=new Je(o.services,s),o.translator.on("*",(function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];o.emit(e,...i)})),o.init(s,t),o.translator.options=s,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const dt=ct.createInstance();function ht(e,t,i,s){void 0===s&&(s="translation");let o=function(e){return"--"+e+"-override"}(s);var n={lng:t,fallbackLng:[i,t,...Object.keys(e)],debug:!1,ns:[o,s],defaultNS:s,fallbackNS:s,initImmediate:!1,initAsync:!1,resources:{},compatibilityJSON:"v4"};Object.keys(e).forEach((function(t){n.resources[t]={[s]:e[t]}}));var r=dt.createInstance();return r.init(n),console.assert(r.isInitialized),r}dt.createInstance=ct.createInstance,dt.createInstance,dt.dir,dt.init,dt.loadResources,dt.reloadResources,dt.use,dt.changeLanguage,dt.getFixedT,dt.t,dt.exists,dt.setDefaultNamespace,dt.hasLoadedNamespace,dt.loadNamespaces,dt.loadLanguages;var ut=window.CustomEvent;function pt(e,t){var i="on"+t.type.toLowerCase();return"function"==typeof e[i]&&e[i](t),e.dispatchEvent(t)}function gt(e){for(;e;){if("dialog"===e.localName)return e;e=e.parentElement?e.parentElement:e.parentNode?e.parentNode.host:null}return null}function ft(e){for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;e&&e.blur&&e!==document.body&&e.blur()}function mt(e,t){for(var i=0;i<e.length;++i)if(e[i]===t)return!0;return!1}function bt(e){return!(!e||!e.hasAttribute("method"))&&"dialog"===e.getAttribute("method").toLowerCase()}function yt(e){var t=["button","input","keygen","select","textarea"].map((function(e){return e+":not([disabled])"}));t.push('[tabindex]:not([disabled]):not([tabindex=""])');var i=e.querySelector(t.join(", "));if(!i&&"attachShadow"in Element.prototype)for(var s=e.querySelectorAll("*"),o=0;o<s.length&&!(s[o].tagName&&s[o].shadowRoot&&(i=yt(s[o].shadowRoot)));o++);return i}function vt(e){return e.isConnected||document.body.contains(e)}function _t(e){if(e.submitter)return e.submitter;var t=e.target;if(!(t instanceof HTMLFormElement))return null;var i=St.formSubmitter;if(!i){var s=e.target;i=("getRootNode"in s&&s.getRootNode()||document).activeElement}return i&&i.form===t?i:null}function wt(e){if(!e.defaultPrevented){var t=e.target,i=St.imagemapUseValue,s=_t(e);null===i&&s&&(i=s.value);var o=gt(t);if(o)"dialog"===(s&&s.getAttribute("formmethod")||t.getAttribute("method"))&&(e.preventDefault(),null!=i?o.close(i):o.close())}}function kt(e){if(this.dialog_=e,this.replacedStyleTop_=!1,this.openAsModal_=!1,e.hasAttribute("role")||e.setAttribute("role","dialog"),e.show=this.show.bind(this),e.showModal=this.showModal.bind(this),e.close=this.close.bind(this),e.addEventListener("submit",wt,!1),"returnValue"in e||(e.returnValue=""),"MutationObserver"in window){new MutationObserver(this.maybeHideModal.bind(this)).observe(e,{attributes:!0,attributeFilter:["open"]})}else{var t,i=!1,s=function(){i?this.downgradeModal():this.maybeHideModal(),i=!1}.bind(this),o=function(o){if(o.target===e){var n="DOMNodeRemoved";i|=o.type.substr(0,14)===n,window.clearTimeout(t),t=window.setTimeout(s,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach((function(t){e.addEventListener(t,o)}))}Object.defineProperty(e,"open",{set:this.setOpen.bind(this),get:e.hasAttribute.bind(e,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("mouseup",this.backdropMouseEvent_.bind(this)),this.backdrop_.addEventListener("mousedown",this.backdropMouseEvent_.bind(this)),this.backdrop_.addEventListener("click",this.backdropMouseEvent_.bind(this))}ut&&"object"!=typeof ut||(ut=function(e,t){t=t||{};var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,!!t.bubbles,!!t.cancelable,t.detail||null),i},ut.prototype=window.Event.prototype),kt.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&vt(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),St.dm.removeDialog(this))},setOpen:function(e){e?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropMouseEvent_:function(e){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var t=document.createElement("div");this.dialog_.insertBefore(t,this.dialog_.firstChild),t.tabIndex=-1,t.focus(),this.dialog_.removeChild(t)}var i=document.createEvent("MouseEvents");i.initMouseEvent(e.type,e.bubbles,e.cancelable,window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),this.dialog_.dispatchEvent(i),e.stopPropagation()},focus_:function(){var e=this.dialog_.querySelector("[autofocus]:not([disabled])");!e&&this.dialog_.tabIndex>=0&&(e=this.dialog_),e||(e=yt(this.dialog_)),ft(document.activeElement),e&&e.focus()},updateZIndex:function(e,t){if(e<t)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=e,this.backdrop_.style.zIndex=t},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!vt(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!St.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");(function(e){for(;e&&e!==document.body;){var t=window.getComputedStyle(e),i=function(e,i){return!(void 0===t[e]||t[e]===i)};if(t.opacity<1||i("zIndex","auto")||i("transform","none")||i("mixBlendMode","normal")||i("filter","none")||i("perspective","none")||"isolate"===t.isolation||"fixed"===t.position||"touch"===t.webkitOverflowScrolling)return!0;e=e.parentElement}return!1})(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,St.needsCentering(this.dialog_)?(St.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(e){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),void 0!==e&&(this.dialog_.returnValue=e);var t=new ut("close",{bubbles:!1,cancelable:!1});pt(this.dialog_,t)}};var St={reposition:function(e){var t=document.body.scrollTop||document.documentElement.scrollTop,i=t+(window.innerHeight-e.offsetHeight)/2;e.style.top=Math.max(t,i)+"px"},isInlinePositionSetByStylesheet:function(e){for(var t=0;t<document.styleSheets.length;++t){var i=document.styleSheets[t],s=null;try{s=i.cssRules}catch(e){}if(s)for(var o=0;o<s.length;++o){var n=s[o],r=null;try{r=document.querySelectorAll(n.selectorText)}catch(e){}if(r&&mt(r,e)){var a=n.style.getPropertyValue("top"),l=n.style.getPropertyValue("bottom");if(a&&"auto"!==a||l&&"auto"!==l)return!0}}}return!1},needsCentering:function(e){return"absolute"===window.getComputedStyle(e).position&&(!("auto"!==e.style.top&&""!==e.style.top||"auto"!==e.style.bottom&&""!==e.style.bottom)&&!St.isInlinePositionSetByStylesheet(e))},forceRegisterDialog:function(e){if((window.HTMLDialogElement||e.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",e),"dialog"!==e.localName)throw new Error("Failed to register dialog: The element is not a dialog.");new kt(e)},registerDialog:function(e){e.showModal||St.forceRegisterDialog(e)},DialogManager:function(){this.pendingDialogStack=[];var e=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",function(t){this.forwardTab_=void 0,t.stopPropagation(),e([])}.bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver((function(t){var i=[];t.forEach((function(e){for(var t,s=0;t=e.removedNodes[s];++s)t instanceof Element&&("dialog"===t.localName&&i.push(t),i=i.concat(t.querySelectorAll("dialog")))})),i.length&&e(i)})))}};if(St.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},St.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},St.DialogManager.prototype.updateStacking=function(){for(var e,t=this.zIndexHigh_,i=0;e=this.pendingDialogStack[i];++i)e.updateZIndex(--t,--t),0===i&&(this.overlay.style.zIndex=--t);var s=this.pendingDialogStack[0];s?(s.dialog.parentNode||document.body).appendChild(this.overlay):this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},St.DialogManager.prototype.containedByTopDialog_=function(e){for(;e=gt(e);){for(var t,i=0;t=this.pendingDialogStack[i];++i)if(t.dialog===e)return 0===i;e=e.parentElement}return!1},St.DialogManager.prototype.handleFocus_=function(e){var t=e.composedPath?e.composedPath()[0]:e.target;if(!this.containedByTopDialog_(t)&&document.activeElement!==document.documentElement&&(e.preventDefault(),e.stopPropagation(),ft(t),void 0!==this.forwardTab_)){var i=this.pendingDialogStack[0];return i.dialog.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?i.focus_():t!==document.documentElement&&document.documentElement.focus()),!1}},St.DialogManager.prototype.handleKey_=function(e){if(this.forwardTab_=void 0,27===e.keyCode){e.preventDefault(),e.stopPropagation();var t=new ut("cancel",{bubbles:!1,cancelable:!0}),i=this.pendingDialogStack[0];i&&pt(i.dialog,t)&&i.dialog.close()}else 9===e.keyCode&&(this.forwardTab_=!e.shiftKey)},St.DialogManager.prototype.checkDOM_=function(e){this.pendingDialogStack.slice().forEach((function(t){-1!==e.indexOf(t.dialog)?t.downgradeModal():t.maybeHideModal()}))},St.DialogManager.prototype.pushDialog=function(e){var t=(this.zIndexHigh_-this.zIndexLow_)/2-1;return!(this.pendingDialogStack.length>=t)&&(1===this.pendingDialogStack.unshift(e)&&this.blockDocument(),this.updateStacking(),!0)},St.DialogManager.prototype.removeDialog=function(e){var t=this.pendingDialogStack.indexOf(e);-1!==t&&(this.pendingDialogStack.splice(t,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},St.dm=new St.DialogManager,St.formSubmitter=null,St.imagemapUseValue=null,void 0===window.HTMLDialogElement){var Et=document.createElement("form");if(Et.setAttribute("method","dialog"),"dialog"!==Et.method){var xt=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(xt){var $t=xt.get;xt.get=function(){return bt(this)?"dialog":$t.call(this)};var Ct=xt.set;xt.set=function(e){return"string"==typeof e&&"dialog"===e.toLowerCase()?this.setAttribute("method",e):Ct.call(this,e)},Object.defineProperty(HTMLFormElement.prototype,"method",xt)}}document.addEventListener("click",(function(e){if(St.formSubmitter=null,St.imagemapUseValue=null,!e.defaultPrevented){var t=e.target;if("composedPath"in e)t=e.composedPath().shift()||t;if(t&&bt(t.form)){if(!("submit"===t.type&&["button","input"].indexOf(t.localName)>-1)){if("input"!==t.localName||"image"!==t.type)return;St.imagemapUseValue=e.offsetX+","+e.offsetY}gt(t)&&(St.formSubmitter=t)}}}),!1),document.addEventListener("submit",(function(e){var t=e.target;if(!gt(t)){var i=_t(e);"dialog"===(i&&i.getAttribute("formmethod")||t.getAttribute("method"))&&e.preventDefault()}}));var Lt=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){if(!bt(this))return Lt.call(this);var e=gt(this);e&&e.close()}}ge(ve);var Ot={login:"Anmelden","login-failed":"Kommunikation mit dem Anmeldeserver fehlgeschlagen",logout:"Abmelden","logging-in":"Einloggen"},At={login:"Login","login-failed":"Communication with the login server failed",logout:"Logout","logging-in":"Logging in"};function Pt(){return ht({en:At,de:Ot},"de","en")}class Rt extends EventTarget{constructor(e,t,i,s,o,n){super(),this._baseURL=e,this._realm=t,this._clientId=i,this._keycloak=null,this._initPromise=null,this._silentCheckSsoUri=s,this._checkLoginIframe=o,this._idpHint=n,this._checkId=null,this.MIN_VALIDITY=20,this.CHECK_INTERVAL=10,this.DEBUG=!1,this._onVisibilityChanged=this._onVisibilityChanged.bind(this),document.addEventListener("visibilitychange",this._onVisibilityChanged)}close(){document.removeEventListener("visibilitychange",this._onVisibilityChanged)}_onVisibilityChanged(){"visible"===document.visibilityState&&this._keycloak.authenticated&&this._checkTokeHasExpired()}_onChanged(){const e=new CustomEvent("changed",{detail:this._keycloak,bubbles:!0,composed:!0});this.dispatchEvent(e)}_onReady(e){e&&this._onChanged()}async _onTokenExpired(){console.log("Token has expired");let e=!1;try{e=await this._keycloak.updateToken(-1)}catch(e){return void console.log("Failed to refresh the token",e)}console.assert(e,"token should have been refreshed")}async _checkTokeHasExpired(){let e,t=this.MIN_VALIDITY+this.CHECK_INTERVAL;this.DEBUG&&console.log(`Updating token if not valid for at least ${t}s`);try{e=await this._keycloak.updateToken(t)}catch(e){console.log("Failed to refresh the token",e)}this.DEBUG&&e&&console.log("token has been refreshed")}async _onAuthSuccess(){null!==this._checkId&&(clearInterval(this._checkId),this._checkId=null),this._checkId=setInterval(this._checkTokeHasExpired.bind(this),1e3*this.CHECK_INTERVAL),this._onChanged()}async _onAuthLogout(){null!==this._checkId&&(clearInterval(this._checkId),this._checkId=null),this._onChanged()}async _init(){const e=(await import("./shared/keycloak.DkF-y31F.es.js")).default;this._keycloak=new e({url:this._baseURL,realm:this._realm,clientId:this._clientId}),this._keycloak.onTokenExpired=this._onTokenExpired.bind(this),this._keycloak.onAuthRefreshSuccess=this._onChanged.bind(this),this._keycloak.onAuthRefreshError=this._onChanged.bind(this),this._keycloak.onAuthLogout=this._onAuthLogout.bind(this),this._keycloak.onAuthSuccess=this._onAuthSuccess.bind(this),this._keycloak.onAuthError=this._onChanged.bind(this),this._keycloak.onReady=this._onReady.bind(this);const t={promiseType:"native",pkceMethod:"S256"};this.DEBUG&&(t.enableLogging=!0),t.checkLoginIframe=this._checkLoginIframe,this._silentCheckSsoUri?(t.onLoad="check-sso",t.silentCheckSsoRedirectUri=function(e){try{return new URL(e).href}catch{return new URL(e,window.location.href).href}}(this._silentCheckSsoUri),await function(e,t){let i=new Promise(((t,i)=>{let s=setTimeout((()=>{clearTimeout(s),i("Timed out in "+e+"ms.")}),e)}));return Promise.race([t,i])}(5e3,this._keycloak.init(t)).catch((()=>{console.log("Login timed out"),this._onChanged()}))):await this._keycloak.init(t)}async _ensureInit(){return null===this._initPromise&&(this._initPromise=this._init()),this._initPromise}isLoggingIn(){const e=window.location.href;return e.search("[&#]state=")>=0&&e.search("[&#]session_state=")>=0}async login(e){await this._ensureInit();const t=(e=e||{}).lang||"en",i=e.scope||"";this._keycloak.authenticated||await this._keycloak.login({kcLocale:t,locale:t,scope:i,idpHint:this._idpHint})}async tryLogin(){await this._ensureInit()}async localLogout(){this._keycloak.clearToken()}async logout(){await this._ensureInit(),this._keycloak.logout()}}const Nt=Object.freeze({UNKNOWN:"unknown",LOGGING_IN:"logging-in",LOGGED_IN:"logged-in",LOGGING_OUT:"logging-out",LOGGED_OUT:"logged-out"});class Tt extends ye{constructor(){super(),this.forceLogin=!1,this.token="",this.subject="",this.name="",this.tryLogin=!1,this.entryPointUrl="",this._user=null,this._userId="",this._authenticated=!1,this._loginStatus=Nt.UNKNOWN,this.requestedLoginStatus=Nt.UNKNOWN,this._i18n=Pt(),this.lang=this._i18n.language,this.keycloakUrl=null,this.realm=null,this.clientId=null,this.silentCheckSsoRedirectUri=null,this.noCheckLoginIframe=!1,this.scope=null,this.idpHint="",this._onKCChanged=this._onKCChanged.bind(this),window.playwright&&this.setAttribute("data-testid","dbp-auth-keycloak")}update(e){e.forEach(((e,t)=>{switch(t){case"lang":this._i18n.changeLanguage(this.lang);break;case"requestedLoginStatus":switch(console.log("requested-login-status changed",this.requestedLoginStatus),this.requestedLoginStatus){case Nt.LOGGED_IN:this._kcwrapper.login({lang:this.lang,scope:this.scope||""});break;case Nt.LOGGED_OUT:this._loginStatus===Nt.LOGGED_IN&&this._setLoginStatus(Nt.LOGGING_OUT),this._kcwrapper.logout(),this._loginStatus===Nt.LOGGING_OUT&&this._setLoginStatus(Nt.LOGGED_IN)}}})),super.update(e)}async _fetchUser(e){const t=(i=this.entryPointUrl,s=`/frontend/users/${encodeURIComponent(e)}`,i.endsWith("/")||(i+="/"),new URL(s.replace(/^\/+/,""),i).href);var i,s;let o=await fetch(t,{headers:{Authorization:"Bearer "+this.token}});if(!o.ok)throw o;return{roles:(await o.json()).roles??[]}}async _onKCChanged(e){const t=e.detail;if(this._authenticated=t.authenticated,t.authenticated){let e=this.token!==t.token;this.name=t.idTokenParsed.name,this.token=t.token,this.subject=t.subject;const i=t.idTokenParsed.preferred_username;let s=i!==this._userId;if(s){let e;this._userId=i;try{e=await this._fetchUser(i)}catch(t){console.error(t),e={roles:[]}}i===this._userId&&(this._user=e)}null!==this._user&&this._setLoginStatus(Nt.LOGGED_IN,e||s)}else this._loginStatus===Nt.LOGGED_IN&&this._setLoginStatus(Nt.LOGGING_OUT),this.name="",this.token="",this.subject="",this._userId="",this._user=null,this._setLoginStatus(Nt.LOGGED_OUT)}sendSetPropertyEvents(){const e={"login-status":this._loginStatus,subject:this.subject,token:this.token,"user-full-name":this.name,"user-id":this._userId,"person-id":this._userId,person:this._user};(window.Cypress||window.playwright)&&(window.DBPAuth=e,console.log("Cypress/Playwright detected")),this.setAttribute("data-auth-set","true"),this.sendSetPropertyEvent("auth",e)}_setLoginStatus(e,t){(this._loginStatus!==e||t)&&(this._loginStatus=e,this.sendSetPropertyEvents())}static get properties(){return{...super.properties,lang:{type:String},forceLogin:{type:Boolean,attribute:"force-login"},tryLogin:{type:Boolean,attribute:"try-login"},entryPointUrl:{type:String,attribute:"entry-point-url"},name:{type:String,attribute:!1},token:{type:String,attribute:!1},subject:{type:String,attribute:!1},_userId:{type:String,attribute:!1},_user:{type:Object,attribute:!1},_loginStatus:{type:String,attribute:!1},keycloakUrl:{type:String,attribute:"url"},realm:{type:String},clientId:{type:String,attribute:"client-id"},silentCheckSsoRedirectUri:{type:String,attribute:"silent-check-sso-redirect-uri"},scope:{type:String},idpHint:{type:String,attribute:"idp-hint"},requestedLoginStatus:{type:String,attribute:"requested-login-status"},noCheckLoginIframe:{type:Boolean,attribute:"no-check-login-iframe"}}}connectedCallback(){if(super.connectedCallback(),!this.keycloakUrl)throw Error("url not set");if(!this.realm)throw Error("realm not set");if(!this.clientId)throw Error("client-id not set");this._kcwrapper=new Rt(this.keycloakUrl,this.realm,this.clientId,this.silentCheckSsoRedirectUri,!this.noCheckLoginIframe,this.idpHint),this._kcwrapper.addEventListener("changed",this._onKCChanged);(async()=>{try{this.forceLogin||this._kcwrapper.isLoggingIn()?(this._setLoginStatus(Nt.LOGGING_IN),await this._kcwrapper.login({lang:this.lang,scope:this.scope||""})):this.tryLogin?(this._setLoginStatus(Nt.LOGGING_IN),await this._kcwrapper.tryLogin(),this._authenticated||this._setLoginStatus(Nt.LOGGED_OUT)):this._setLoginStatus(Nt.LOGGED_OUT)}catch(e){throw this._setLoginStatus(Nt.LOGGED_OUT),function(e){const t=new CustomEvent("dbp-notification-send",{bubbles:!0,cancelable:!0,detail:e});window.dispatchEvent(t)&&(alert((void 0!==e.summary&&""!==e.summary?e.summary+": ":"")+e.body),console.log("Use the web component dbp-notification to show fancy notifications."))}({summary:this._i18n.t("login-failed"),type:"danger",timeout:5}),e}})()}disconnectedCallback(){this._kcwrapper.close(),this._kcwrapper.removeEventListener("changed",this._onKCChanged),super.disconnectedCallback()}}class It extends(ge(ye)){constructor(){super(),this._i18n=Pt(),this.lang=this._i18n.language,this.auth={}}static get scopedElements(){return{"dbp-mini-spinner":ce}}static get properties(){return{lang:{type:String},auth:{type:Object}}}connectedCallback(){super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback()}_onLoginClicked(e){this.sendSetPropertyEvent("requested-login-status",Nt.LOGGED_IN),e.preventDefault()}_onLogoutClicked(e){this.sendSetPropertyEvent("requested-login-status",Nt.LOGGED_OUT),e.preventDefault()}update(e){e.forEach(((e,t)=>{"lang"===t&&this._i18n.changeLanguage(this.lang)})),super.update(e)}static get styles(){return[me(),a`
                :host {
                    display: inline-block;
                }

                a {
                    color: var(--dbp-content);
                    fill: var(--dbp-content);
                    cursor: pointer;
                    text-decoration: none;
                }

                .login-box {
                    display: flex;
                    align-items: center;
                    padding: 0.3em 0.4em;
                    transition: background-color 0.15s, color 0.15s;
                }

                .login-box svg,
                .icon {
                    width: 1.1em;
                    height: 1.1em;
                }

                .login-box svg,
                .spinner {
                    display: flex;
                }

                .login-box:hover svg path {
                    fill: var(--dbp-hover-color);
                }

                .login-box:hover {
                    color: var(--dbp-hover-color, var(--dbp-content));
                    background-color: var(--dbp-hover-background-color);
                    cursor: pointer;
                    transition: none;
                }

                .login-box .label {
                    padding-left: 0.2em;
                }
            `]}render(){let e=this._i18n;return this.auth["login-status"]===Nt.LOGGING_IN?B`
                <a href="#">
                    <div class="login-box login-button" aria-busy="true">
                        <div class="icon" aria-hidden="false" aria-label="${e.t("logging-in")}">
                            <dbp-mini-spinner class="spinner"></dbp-mini-spinner>
                        </div>
                        <div class="label" aria-hidden="true">&#8203;</div>
                    </div>
                </a>
            `:this.auth["login-status"]===Nt.LOGGED_IN?B`
                <a href="#" @click="${this._onLogoutClicked}">
                    <div class="login-box login-button">
                        <div class="icon" aria-hidden="true">${Se('\n<svg\n   viewBox="0 0 100 100"\n   y="0px"\n   x="0px"\n   id="icon"\n   role="img"\n   version="1.1">\n<g\n   id="g6">\n  <path\n     d="m 20.749313,38.894934 -5.885859,6.967885 h 43.408213 c 1.839331,0 3.433418,1.741972 3.433418,4.064599 0,2.322628 -1.471465,4.064599 -3.433418,4.064599 H 14.863454 l 5.885859,6.967883 c 1.348843,1.596808 1.348843,4.064599 0,5.661406 -1.348843,1.596808 -3.433418,1.596808 -4.782261,0 L 1.9881356,49.927418 15.967052,33.378693 c 1.348843,-1.596806 3.433418,-1.596806 4.782261,0 1.348843,1.596807 1.348843,4.064599 0,5.516241 z"\n     id="path2"\n     style="stroke-width:1.33417916"\n     inkscape:connector-curvature="0" />\n  <path\n     style="stroke-width:0.67017764"\n     d="M 61.663665,16.308792 C 48.158763,16.560171 35.913199,25.828579 30.896087,38.197464 34.816744,37.806184 40.033349,39.91491 41.470306,35.017776 50.594944,21.215302 72.517616,20.362655 82.800384,33.07637 93.497261,44.618596 90.228387,65.093356 76.499603,72.791214 64.104901,80.786232 45.895432,75.593227 39.470306,62.310745 35.613955,62.60637 27.974792,60.593775 32.925384,66.267776 41.232037,82.878292 64.023613,89.46919 79.876556,79.765823 96.140149,70.989504 102.10102,48.145494 91.970306,32.629104 85.705979,22.257901 73.793809,15.772382 61.663665,16.308792 Z"\n     id="path4"\n     inkscape:connector-curvature="0" />\n</g>\n</svg>\n')}</div>
                        <div class="label">${e.t("logout")}</div>
                    </div>
                </a>
            `:B`
                <a href="#" @click="${this._onLoginClicked}">
                    <div class="login-box login-button">
                        <div class="icon" aria-hidden="true">${Se('\n<svg\n   viewBox="0 0 100 100"\n   y="0px"\n   x="0px"\n   id="icon"\n   role="img"\n   version="1.1">\n<g\n   id="g6">\n    <path\n   style="stroke-width:1.33417916"\n   id="path2"\n   d="m 42.943908,38.894934 5.885859,6.967885 H 5.4215537 c -1.8393311,0 -3.4334181,1.741972 -3.4334181,4.064599 0,2.322628 1.4714649,4.064599 3.4334181,4.064599 H 48.829767 L 42.943908,60.9599 c -1.348843,1.596808 -1.348843,4.064599 0,5.661406 1.348843,1.596808 3.433418,1.596808 4.782261,0 L 61.705085,49.927418 47.726169,33.378693 c -1.348843,-1.596806 -3.433418,-1.596806 -4.782261,0 -1.348843,1.596807 -1.348843,4.064599 0,5.516241 z" />\n    <path\n   id="path4"\n   d="m 50,2.3007812 c -18.777325,0 -35.049449,10.9124408 -42.8261719,26.7246098 H 13.390625 C 20.672112,16.348362 34.336876,7.8007812 50,7.8007812 73.3,7.8007812 92.300781,26.7 92.300781,50 92.300781,73.3 73.3,92.300781 50,92.300781 c -15.673389,0 -29.345175,-8.60579 -36.623047,-21.326172 H 7.1640625 C 14.942553,86.8272 31.242598,97.800781 50.099609,97.800781 76.399609,97.800781 97.900391,76.4 97.900391,50 97.800391,23.7 76.3,2.3007812 50,2.3007812 Z" />\n</g>\n</svg>\n')}</div>
                        <div class="label">${e.t("login")}</div>
                    </div>
                </a>
            `}}class jt extends(ge(ye)){constructor(){super(),this.auth={},this.lang="en",this.url="",this.realm="",this.clientId="",this.silentCheckSsoRedirectUri="",this.entryPointUrl=""}static get scopedElements(){return{"dbp-auth-keycloak":Tt,"dbp-login-button":It}}static get properties(){return{...super.properties,auth:{type:Object},lang:{type:String},url:{type:String},realm:{type:String},clientId:{type:String,attribute:"client-id"},silentCheckSsoRedirectUri:{type:String,attribute:"silent-check-sso-redirect-uri"},entryPointUrl:{type:String,attribute:"entry-point-url"}}}update(e){e.forEach(((e,t)=>{if("auth"===t){const e=new CustomEvent("api-platform-auth-update",{detail:this.auth,bubbles:!0,composed:!0});window.dispatchEvent(e)}})),super.update(e)}render(){return B`
            <dbp-auth-keycloak subscribe="requested-login-status"
                               lang="${this.lang}"
                               entry-point-url="${this.entryPointUrl}"
                               silent-check-sso-redirect-uri="${this.silentCheckSsoRedirectUri}"
                               url="${this.url}"
                               realm="${this.realm}"
                               client-id="${this.clientId}"
                               try-login></dbp-auth-keycloak>
            <dbp-login-button subscribe="auth" lang="${this.lang}"></dbp-login-button>
        `}}((e,t,i)=>{if(customElements.get(e)===t)return!0;if(!("attachShadow"in Element.prototype&&"getRootNode"in Element.prototype&&window.customElements)){for(var s=document.getElementsByTagName(e),o=0;o<s.length;o++)s[o].innerHTML="<span style='border: 1px solid red; font-size: 0.8em; opacity: 0.5; padding: 0.2em;'>☹ Your browser is not supported ☹</span>";return!1}customElements.define(e,t,i)})("api-platform-auth",jt);export{jt as ApiPlatformAuth};
//# sourceMappingURL=api-platform-auth.js.map
