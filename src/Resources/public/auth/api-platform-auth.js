var t,e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};t||(t=1,function(){function t(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}var i="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,i){return t==Array.prototype||t==Object.prototype||(t[e]=i.value),t},s=function(t){t=["object"==typeof globalThis&&globalThis,t,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof e&&e];for(var i=0;i<t.length;++i){var s=t[i];if(s&&s.Math==Math)return s}throw Error("Cannot find global object")}(this);function o(t,e){if(e)t:{var o=s;t=t.split(".");for(var r=0;r<t.length-1;r++){var n=t[r];if(!(n in o))break t;o=o[n]}(e=e(r=o[t=t[t.length-1]]))!=r&&null!=e&&i(o,t,{configurable:!0,writable:!0,value:e})}}function r(t){return(t={next:t})[Symbol.iterator]=function(){return this},t}function n(e){var i="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return i?i.call(e):{next:t(e)}}function a(t){if(!(t instanceof Array)){t=n(t);for(var e,i=[];!(e=t.next()).done;)i.push(e.value);t=i}return t}o("Symbol",(function(t){function e(t,e){this.l=t,i(this,"description",{configurable:!0,writable:!0,value:e})}if(t)return t;e.prototype.toString=function(){return this.l};var s=0;return function t(i){if(this instanceof t)throw new TypeError("Symbol is not a constructor");return new e("jscomp_symbol_"+(i||"")+"_"+s++,i)}})),o("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var o="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<o.length;n++){var a=s[o[n]];"function"==typeof a&&"function"!=typeof a.prototype[e]&&i(a.prototype,e,{configurable:!0,writable:!0,value:function(){return r(t(this))}})}return e}));var l,c="function"==typeof Object.create?Object.create:function(t){function e(){}return e.prototype=t,new e},d=function(){if("undefined"!=typeof Reflect&&Reflect.construct){if(function(){function t(){}return Reflect.construct(t,[],(function(){})),new t instanceof t}())return Reflect.construct;var t=Reflect.construct;return function(e,i,s){return e=t(e,i),s&&Reflect.setPrototypeOf(e,s.prototype),e}}return function(t,e,i){return void 0===i&&(i=t),i=c(i.prototype||Object.prototype),Function.prototype.apply.call(t,i,e)||i}}();if("function"==typeof Object.setPrototypeOf)l=Object.setPrototypeOf;else{var h;t:{var u={};try{u.__proto__={a:!0},h=u.a;break t}catch(t){}h=!1}l=h?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}var p,g=l,f=window;if(void 0===(null==(p=f.CustomElementRegistryPolyfill)?void 0:p.formAssociated)){var m={};f.CustomElementRegistryPolyfill=(m.formAssociated=new Set,m)}var b,y,v=window.HTMLElement,_=window.customElements.define,w=window.customElements.get,k=window.customElements,S=new WeakMap,E=new WeakMap,x=new WeakMap,C=new WeakMap;function $(){var t;this.promise=new Promise((function(e){t=e})),this.resolve=t}function A(){this.h=new Map,this.m=new Map,this.j=new Map,this.i=new Map}function O(t,e,i,s){var o=t.i.get(i);o||t.i.set(i,o=new Set),s?o.add(e):o.delete(e)}function L(t){var e;null!=(e=y)&&e.has(t)&&P(t,S.get(t))}function P(t,e){var i;null==(i=y)||i.delete(t),e.attributeChangedCallback&&e.observedAttributes.forEach((function(i){t.hasAttribute(i)&&e.attributeChangedCallback.call(t,i,null,t.getAttribute(i))}))}function R(t){var e=Object.getPrototypeOf(t);if(e!==window.HTMLElement)return e===v?Object.setPrototypeOf(t,window.HTMLElement):R(e)}function N(t,e,i){i=void 0!==i&&i,Object.setPrototypeOf(t,e.g.prototype),S.set(t,e),b=t;try{new e.g}catch(t){R(e.g),new e.g}e.attributeChangedCallback&&(void 0===y||t.hasAttributes()?P(t,e):y.add(t)),i&&e.connectedCallback&&t.isConnected&&e.connectedCallback.call(t)}A.prototype.define=function(t,e){if(t=t.toLowerCase(),void 0!==this.h.get(t))throw new DOMException("Failed to execute 'define' on 'CustomElementRegistry': the name \""+t+'" has already been used with this registry');if(void 0!==this.m.get(e))throw new DOMException("Failed to execute 'define' on 'CustomElementRegistry': this constructor has already been used with this registry");var i=e.prototype.attributeChangedCallback,o=new Set(e.observedAttributes||[]);!function(t,e,i){if(0!==e.size&&void 0!==i){var s=t.prototype.setAttribute;s&&(t.prototype.setAttribute=function(t,o){if(L(this),t=t.toLowerCase(),e.has(t)){var r=this.getAttribute(t);s.call(this,t,o),i.call(this,t,r,o)}else s.call(this,t,o)});var o=t.prototype.removeAttribute;o&&(t.prototype.removeAttribute=function(t){if(L(this),t=t.toLowerCase(),e.has(t)){var s=this.getAttribute(t);o.call(this,t),i.call(this,t,s,null)}else o.call(this,t)});var r=t.prototype.toggleAttribute;r&&(t.prototype.toggleAttribute=function(t,s){if(L(this),t=t.toLowerCase(),e.has(t)){var o=this.getAttribute(t);r.call(this,t,s),o!==(s=this.getAttribute(t))&&i.call(this,t,o,s)}else r.call(this,t,s)})}}(e,o,i);var r,a,l=w.call(k,t),c=null!=(a=null==(r=l)?void 0:r.s)?a:e.formAssociated||f.CustomElementRegistryPolyfill.formAssociated.has(t);if(c&&f.CustomElementRegistryPolyfill.formAssociated.add(t),c!=e.formAssociated)try{e.formAssociated=c}catch(t){}if(i={tagName:t,g:e,connectedCallback:e.prototype.connectedCallback,disconnectedCallback:e.prototype.disconnectedCallback,adoptedCallback:e.prototype.adoptedCallback,attributeChangedCallback:i,formAssociated:c,formAssociatedCallback:e.prototype.formAssociatedCallback,formDisabledCallback:e.prototype.formDisabledCallback,formResetCallback:e.prototype.formResetCallback,formStateRestoreCallback:e.prototype.formStateRestoreCallback,observedAttributes:o},this.h.set(t,i),this.m.set(e,i),l||(l=function(t){function e(){var e=Reflect.construct(v,[],this.constructor);Object.setPrototypeOf(e,HTMLElement.prototype);t:{var i=e.getRootNode();if(!(i===document||i instanceof ShadowRoot)){if((i=I[I.length-1])instanceof CustomElementRegistry){var s=i;break t}(i=i.getRootNode())===document||i instanceof ShadowRoot||(i=(null==(s=C.get(i))?void 0:s.getRootNode())||document)}s=i.registry}return(i=(s=s||window.customElements).h.get(t))?N(e,i):E.set(e,s),e}return s.Object.defineProperty(e,"formAssociated",{configurable:!0,enumerable:!0,get:function(){return f.CustomElementRegistryPolyfill.formAssociated.has(t)}}),e.prototype.connectedCallback=function(e){for(var i=[],s=0;s<arguments.length;++s)i[s]=arguments[s];L(this),(s=S.get(this))?s.connectedCallback&&s.connectedCallback.apply(this,i):O(E.get(this),this,t,!0)},e.prototype.disconnectedCallback=function(e){for(var i=[],s=0;s<arguments.length;++s)i[s]=arguments[s];(s=S.get(this))?s.disconnectedCallback&&s.disconnectedCallback.apply(this,i):O(E.get(this),this,t,!1)},e.prototype.adoptedCallback=function(t){for(var e=[],i=0;i<arguments.length;++i)e[i]=arguments[i];var s,o;null==(s=S.get(this))||null==(o=s.adoptedCallback)||o.apply(this,e)},e.prototype.formAssociatedCallback=function(t){for(var e=[],i=0;i<arguments.length;++i)e[i]=arguments[i];var s;null!=(i=S.get(this))&&i.formAssociated&&(null==i||null==(s=i.formAssociatedCallback)||s.apply(this,e))},e.prototype.formDisabledCallback=function(t){for(var e=[],i=0;i<arguments.length;++i)e[i]=arguments[i];var s;null!=(i=S.get(this))&&i.formAssociated&&(null==i||null==(s=i.formDisabledCallback)||s.apply(this,e))},e.prototype.formResetCallback=function(t){for(var e=[],i=0;i<arguments.length;++i)e[i]=arguments[i];var s;null!=(i=S.get(this))&&i.formAssociated&&(null==i||null==(s=i.formResetCallback)||s.apply(this,e))},e.prototype.formStateRestoreCallback=function(t){for(var e=[],i=0;i<arguments.length;++i)e[i]=arguments[i];var s;null!=(i=S.get(this))&&i.formAssociated&&(null==i||null==(s=i.formStateRestoreCallback)||s.apply(this,e))},e}(t),_.call(k,t,l)),this===window.customElements&&(x.set(e,i),i.o=l),l=this.i.get(t))for(this.i.delete(t),o=(l=n(l)).next();!o.done;o=l.next())o=o.value,E.delete(o),N(o,i,!0);return void 0!==(l=this.j.get(t))&&(l.resolve(e),this.j.delete(t)),e},A.prototype.upgrade=function(t){for(var e=[],i=0;i<arguments.length;++i)e[i]=arguments[i];I.push(this),k.upgrade.apply(k,a(e)),I.pop()},A.prototype.get=function(t){var e;return null==(e=this.h.get(t))?void 0:e.g},A.prototype.whenDefined=function(t){var e=this.h.get(t);return void 0!==e?Promise.resolve(e.g):(void 0===(e=this.j.get(t))&&(e=new $,this.j.set(t,e)),e.promise)},window.HTMLElement=function(){var t=b;if(t)return b=void 0,t;var e=x.get(this.constructor);if(!e)throw new TypeError("Illegal constructor (custom element class must be registered with global customElements registry to be newable)");return t=Reflect.construct(v,[],e.o),Object.setPrototypeOf(t,this.constructor.prototype),S.set(t,e),t},window.HTMLElement.prototype=v.prototype,window.CustomElementRegistry=A,"loading"===document.readyState&&(y=new Set,document.addEventListener("readystatechange",(function(){y.forEach((function(t){return P(t,S.get(t))}))}),{once:!0}));var T=Element.prototype.attachShadow;Element.prototype.attachShadow=function(t,e){for(var i=[],s=1;s<arguments.length;++s)i[s-1]=arguments[s];var o=Object.assign({},t);return s=t.customElements,s=void 0===t.registry?s:t.registry,delete o.customElements,delete o.registry,i=T.call.apply(T,[this,o].concat(a(i))),void 0!==s&&(i.customElements=i.registry=s),i};var I=[document];function j(t,e,i){var s=(i?Object.getPrototypeOf(i):t.prototype)[e];t.prototype[e]=function(t){for(var e=[],o=0;o<arguments.length;++o)e[o]=arguments[o];return I.push(this),void 0!==(e=s.apply(i||this,e))&&C.set(e,this),I.pop(),e}}function M(t){var e=Object.getOwnPropertyDescriptor(t.prototype,"innerHTML");Object.defineProperty(t.prototype,"innerHTML",Object.assign({},e,{set:function(t){I.push(this),e.set.call(this,t),I.pop()}}))}if(j(ShadowRoot,"createElement",document),j(ShadowRoot,"createElementNS",document),j(ShadowRoot,"importNode",document),j(Element,"insertAdjacentHTML"),M(Element),M(ShadowRoot),Object.defineProperty(window,"customElements",{value:new CustomElementRegistry,configurable:!0,writable:!0}),window.ElementInternals&&window.ElementInternals.prototype.setFormValue){var D=new WeakMap,U=HTMLElement.prototype.attachInternals;HTMLElement.prototype.attachInternals=function(t){for(var e=[],i=0;i<arguments.length;++i)e[i]=arguments[i];return e=U.call.apply(U,[this].concat(a(e))),D.set(e,this),e},["setFormValue","setValidity","checkValidity","reportValidity"].forEach((function(t){var e=window.ElementInternals.prototype,i=e[t];e[t]=function(t){for(var e=[],s=0;s<arguments.length;++s)e[s]=arguments[s];if(s=D.get(this),!0===S.get(s).formAssociated)return null==i?void 0:i.call.apply(i,[this].concat(a(e)));throw new DOMException("Failed to execute "+i+" on 'ElementInternals': The target element is not a form-associated custom element.")}}));var H=function(t){var e=d(Array,[].concat(a(t)),this.constructor);return e.l=t,e},F=H,V=Array;if(F.prototype=c(V.prototype),F.prototype.constructor=F,g)g(F,V);else for(var G in V)if("prototype"!=G)if(Object.defineProperties){var B=Object.getOwnPropertyDescriptor(V,G);B&&Object.defineProperty(F,G,B)}else F[G]=V[G];F.u=V.prototype,s.Object.defineProperty(H.prototype,"value",{configurable:!0,enumerable:!0,get:function(){var t;return(null==(t=this.l.find((function(t){return!0===t.checked})))?void 0:t.value)||""}});var K=function(t){var e=this,i=new Map;t.forEach((function(t,s){var o=t.getAttribute("name"),r=i.get(o)||[];e[+s]=t,r.push(t),i.set(o,r)})),this.length=t.length,i.forEach((function(t,i){t&&"length"!==i&&"item"!==i&&"namedItem"!==i&&(e[i]=1===t.length?t[0]:new H(t))}))};K.prototype.item=function(t){var e;return null!=(e=this[t])?e:null},K.prototype[Symbol.iterator]=function(){throw Error("Method not implemented.")},K.prototype.namedItem=function(t){var e;return null!=(e=this[t])?e:null};var z=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"elements");Object.defineProperty(HTMLFormElement.prototype,"elements",{get:function(){for(var t=z.get.call(this),e=[],i=(t=n(t)).next();!i.done;i=t.next()){i=i.value;var s=S.get(i);s&&!0!==s.formAssociated||e.push(i)}return new K(e)}})}}.call("object"==typeof globalThis?globalThis:window));
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const i=globalThis,s=i.ShadowRoot&&(void 0===i.ShadyCSS||i.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,o=Symbol(),r=new WeakMap;let n=class{constructor(t,e,i){if(this._$cssResult$=!0,i!==o)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const e=this.t;if(s&&void 0===t){const i=void 0!==e&&1===e.length;i&&(t=r.get(e)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),i&&r.set(e,t))}return t}toString(){return this.cssText}};const a=(t,...e)=>{const i=1===t.length?t[0]:e.reduce(((e,i,s)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[s+1]),t[0]);return new n(i,t,o)},l=(t,e)=>{if(s)t.adoptedStyleSheets=e.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet));else for(const s of e){const e=document.createElement("style"),o=i.litNonce;void 0!==o&&e.setAttribute("nonce",o),e.textContent=s.cssText,t.appendChild(e)}},c=s?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e="";for(const i of t.cssRules)e+=i.cssText;return(t=>new n("string"==typeof t?t:t+"",void 0,o))(e)})(t):t
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */,{is:d,defineProperty:h,getOwnPropertyDescriptor:u,getOwnPropertyNames:p,getOwnPropertySymbols:g,getPrototypeOf:f}=Object,m=globalThis,b=m.trustedTypes,y=b?b.emptyScript:"",v=m.reactiveElementPolyfillSupport,_=(t,e)=>t,w={toAttribute(t,e){switch(e){case Boolean:t=t?y:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){let i=t;switch(e){case Boolean:i=null!==t;break;case Number:i=null===t?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t)}catch(t){i=null}}return i}},k=(t,e)=>!d(t,e),S={attribute:!0,type:String,converter:w,reflect:!1,hasChanged:k};Symbol.metadata??=Symbol("metadata"),m.litPropertyMetadata??=new WeakMap;class E extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,e=S){if(e.state&&(e.attribute=!1),this._$Ei(),this.elementProperties.set(t,e),!e.noAccessor){const i=Symbol(),s=this.getPropertyDescriptor(t,i,e);void 0!==s&&h(this.prototype,t,s)}}static getPropertyDescriptor(t,e,i){const{get:s,set:o}=u(this.prototype,t)??{get(){return this[e]},set(t){this[e]=t}};return{get(){return s?.call(this)},set(e){const r=s?.call(this);o.call(this,e),this.requestUpdate(t,r,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??S}static _$Ei(){if(this.hasOwnProperty(_("elementProperties")))return;const t=f(this);t.finalize(),void 0!==t.l&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(_("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(_("properties"))){const t=this.properties,e=[...p(t),...g(t)];for(const i of e)this.createProperty(i,t[i])}const t=this[Symbol.metadata];if(null!==t){const e=litPropertyMetadata.get(t);if(void 0!==e)for(const[t,i]of e)this.elementProperties.set(t,i)}this._$Eh=new Map;for(const[t,e]of this.elementProperties){const i=this._$Eu(t,e);void 0!==i&&this._$Eh.set(i,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const i=new Set(t.flat(1/0).reverse());for(const t of i)e.unshift(c(t))}else void 0!==t&&e.push(c(t));return e}static _$Eu(t,e){const i=e.attribute;return!1===i?void 0:"string"==typeof i?i:"string"==typeof t?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((t=>t(this)))}addController(t){(this._$EO??=new Set).add(t),void 0!==this.renderRoot&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,e=this.constructor.elementProperties;for(const i of e.keys())this.hasOwnProperty(i)&&(t.set(i,this[i]),delete this[i]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return l(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((t=>t.hostConnected?.()))}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach((t=>t.hostDisconnected?.()))}attributeChangedCallback(t,e,i){this._$AK(t,i)}_$EC(t,e){const i=this.constructor.elementProperties.get(t),s=this.constructor._$Eu(t,i);if(void 0!==s&&!0===i.reflect){const o=(void 0!==i.converter?.toAttribute?i.converter:w).toAttribute(e,i.type);this._$Em=t,null==o?this.removeAttribute(s):this.setAttribute(s,o),this._$Em=null}}_$AK(t,e){const i=this.constructor,s=i._$Eh.get(t);if(void 0!==s&&this._$Em!==s){const t=i.getPropertyOptions(s),o="function"==typeof t.converter?{fromAttribute:t.converter}:void 0!==t.converter?.fromAttribute?t.converter:w;this._$Em=s,this[s]=o.fromAttribute(e,t.type),this._$Em=null}}requestUpdate(t,e,i){if(void 0!==t){if(i??=this.constructor.getPropertyOptions(t),!(i.hasChanged??k)(this[t],e))return;this.P(t,e,i)}!1===this.isUpdatePending&&(this._$ES=this._$ET())}P(t,e,i){this._$AL.has(t)||this._$AL.set(t,e),!0===i.reflect&&this._$Em!==t&&(this._$Ej??=new Set).add(t)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[t,e]of this._$Ep)this[t]=e;this._$Ep=void 0}const t=this.constructor.elementProperties;if(t.size>0)for(const[e,i]of t)!0!==i.wrapped||this._$AL.has(e)||void 0===this[e]||this.P(e,this[e],i)}let t=!1;const e=this._$AL;try{t=this.shouldUpdate(e),t?(this.willUpdate(e),this._$EO?.forEach((t=>t.hostUpdate?.())),this.update(e)):this._$EU()}catch(e){throw t=!1,this._$EU(),e}t&&this._$AE(e)}willUpdate(t){}_$AE(t){this._$EO?.forEach((t=>t.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Ej&&=this._$Ej.forEach((t=>this._$EC(t,this[t]))),this._$EU()}updated(t){}firstUpdated(t){}}E.elementStyles=[],E.shadowRootOptions={mode:"open"},E[_("elementProperties")]=new Map,E[_("finalized")]=new Map,v?.({ReactiveElement:E}),(m.reactiveElementVersions??=[]).push("2.0.4");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const x=globalThis,C=x.trustedTypes,$=C?C.createPolicy("lit-html",{createHTML:t=>t}):void 0,A="$lit$",O=`lit$${Math.random().toFixed(9).slice(2)}$`,L="?"+O,P=`<${L}>`,R=document,N=()=>R.createComment(""),T=t=>null===t||"object"!=typeof t&&"function"!=typeof t,I=Array.isArray,j="[ \t\n\f\r]",M=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,D=/-->/g,U=/>/g,H=RegExp(`>|${j}(?:([^\\s"'>=/]+)(${j}*=${j}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),F=/'/g,V=/"/g,G=/^(?:script|style|textarea|title)$/i,B=(t=>(e,...i)=>({_$litType$:t,strings:e,values:i}))(1),K=Symbol.for("lit-noChange"),z=Symbol.for("lit-nothing"),q=new WeakMap,W=R.createTreeWalker(R,129);function J(t,e){if(!I(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==$?$.createHTML(e):e}const Y=(t,e)=>{const i=t.length-1,s=[];let o,r=2===e?"<svg>":3===e?"<math>":"",n=M;for(let e=0;e<i;e++){const i=t[e];let a,l,c=-1,d=0;for(;d<i.length&&(n.lastIndex=d,l=n.exec(i),null!==l);)d=n.lastIndex,n===M?"!--"===l[1]?n=D:void 0!==l[1]?n=U:void 0!==l[2]?(G.test(l[2])&&(o=RegExp("</"+l[2],"g")),n=H):void 0!==l[3]&&(n=H):n===H?">"===l[0]?(n=o??M,c=-1):void 0===l[1]?c=-2:(c=n.lastIndex-l[2].length,a=l[1],n=void 0===l[3]?H:'"'===l[3]?V:F):n===V||n===F?n=H:n===D||n===U?n=M:(n=H,o=void 0);const h=n===H&&t[e+1].startsWith("/>")?" ":"";r+=n===M?i+P:c>=0?(s.push(a),i.slice(0,c)+A+i.slice(c)+O+h):i+O+(-2===c?e:h)}return[J(t,r+(t[i]||"<?>")+(2===e?"</svg>":3===e?"</math>":"")),s]};class Z{constructor({strings:t,_$litType$:e},i){let s;this.parts=[];let o=0,r=0;const n=t.length-1,a=this.parts,[l,c]=Y(t,e);if(this.el=Z.createElement(l,i),W.currentNode=this.el.content,2===e||3===e){const t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}for(;null!==(s=W.nextNode())&&a.length<n;){if(1===s.nodeType){if(s.hasAttributes())for(const t of s.getAttributeNames())if(t.endsWith(A)){const e=c[r++],i=s.getAttribute(t).split(O),n=/([.?@])?(.*)/.exec(e);a.push({type:1,index:o,name:n[2],strings:i,ctor:"."===n[1]?it:"?"===n[1]?st:"@"===n[1]?ot:et}),s.removeAttribute(t)}else t.startsWith(O)&&(a.push({type:6,index:o}),s.removeAttribute(t));if(G.test(s.tagName)){const t=s.textContent.split(O),e=t.length-1;if(e>0){s.textContent=C?C.emptyScript:"";for(let i=0;i<e;i++)s.append(t[i],N()),W.nextNode(),a.push({type:2,index:++o});s.append(t[e],N())}}}else if(8===s.nodeType)if(s.data===L)a.push({type:2,index:o});else{let t=-1;for(;-1!==(t=s.data.indexOf(O,t+1));)a.push({type:7,index:o}),t+=O.length-1}o++}}static createElement(t,e){const i=R.createElement("template");return i.innerHTML=t,i}}function Q(t,e,i=t,s){if(e===K)return e;let o=void 0!==s?i._$Co?.[s]:i._$Cl;const r=T(e)?void 0:e._$litDirective$;return o?.constructor!==r&&(o?._$AO?.(!1),void 0===r?o=void 0:(o=new r(t),o._$AT(t,i,s)),void 0!==s?(i._$Co??=[])[s]=o:i._$Cl=o),void 0!==o&&(e=Q(t,o._$AS(t,e.values),o,s)),e}class X{constructor(t,e){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:e},parts:i}=this._$AD,s=(t?.creationScope??R).importNode(e,!0);W.currentNode=s;let o=W.nextNode(),r=0,n=0,a=i[0];for(;void 0!==a;){if(r===a.index){let e;2===a.type?e=new tt(o,o.nextSibling,this,t):1===a.type?e=new a.ctor(o,a.name,a.strings,this,t):6===a.type&&(e=new rt(o,this,t)),this._$AV.push(e),a=i[++n]}r!==a?.index&&(o=W.nextNode(),r++)}return W.currentNode=R,s}p(t){let e=0;for(const i of this._$AV)void 0!==i&&(void 0!==i.strings?(i._$AI(t,i,e),e+=i.strings.length-2):i._$AI(t[e])),e++}}class tt{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,e,i,s){this.type=2,this._$AH=z,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=i,this.options=s,this._$Cv=s?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return void 0!==e&&11===t?.nodeType&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=Q(this,t,e),T(t)?t===z||null==t||""===t?(this._$AH!==z&&this._$AR(),this._$AH=z):t!==this._$AH&&t!==K&&this._(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):(t=>I(t)||"function"==typeof t?.[Symbol.iterator])(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==z&&T(this._$AH)?this._$AA.nextSibling.data=t:this.T(R.createTextNode(t)),this._$AH=t}$(t){const{values:e,_$litType$:i}=t,s="number"==typeof i?this._$AC(t):(void 0===i.el&&(i.el=Z.createElement(J(i.h,i.h[0]),this.options)),i);if(this._$AH?._$AD===s)this._$AH.p(e);else{const t=new X(s,this),i=t.u(this.options);t.p(e),this.T(i),this._$AH=t}}_$AC(t){let e=q.get(t.strings);return void 0===e&&q.set(t.strings,e=new Z(t)),e}k(t){I(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let i,s=0;for(const o of t)s===e.length?e.push(i=new tt(this.O(N()),this.O(N()),this,this.options)):i=e[s],i._$AI(o),s++;s<e.length&&(this._$AR(i&&i._$AB.nextSibling,s),e.length=s)}_$AR(t=this._$AA.nextSibling,e){for(this._$AP?.(!1,!0,e);t&&t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){void 0===this._$AM&&(this._$Cv=t,this._$AP?.(t))}}class et{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,e,i,s,o){this.type=1,this._$AH=z,this._$AN=void 0,this.element=t,this.name=e,this._$AM=s,this.options=o,i.length>2||""!==i[0]||""!==i[1]?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=z}_$AI(t,e=this,i,s){const o=this.strings;let r=!1;if(void 0===o)t=Q(this,t,e,0),r=!T(t)||t!==this._$AH&&t!==K,r&&(this._$AH=t);else{const s=t;let n,a;for(t=o[0],n=0;n<o.length-1;n++)a=Q(this,s[i+n],e,n),a===K&&(a=this._$AH[n]),r||=!T(a)||a!==this._$AH[n],a===z?t=z:t!==z&&(t+=(a??"")+o[n+1]),this._$AH[n]=a}r&&!s&&this.j(t)}j(t){t===z?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}class it extends et{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===z?void 0:t}}class st extends et{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==z)}}class ot extends et{constructor(t,e,i,s,o){super(t,e,i,s,o),this.type=5}_$AI(t,e=this){if((t=Q(this,t,e,0)??z)===K)return;const i=this._$AH,s=t===z&&i!==z||t.capture!==i.capture||t.once!==i.once||t.passive!==i.passive,o=t!==z&&(i===z||s);s&&this.element.removeEventListener(this.name,this,i),o&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){"function"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class rt{constructor(t,e,i){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(t){Q(this,t)}}const nt=x.litHtmlPolyfillSupport;nt?.(Z,tt),(x.litHtmlVersions??=[]).push("3.2.1");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
class at extends E{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=((t,e,i)=>{const s=i?.renderBefore??e;let o=s._$litPart$;if(void 0===o){const t=i?.renderBefore??null;s._$litPart$=o=new tt(e.insertBefore(N(),t),t,void 0,i??{})}return o._$AI(t),o})(e,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return K}}at._$litElement$=!0,at.finalized=!0,globalThis.litElementHydrateSupport?.({LitElement:at});const lt=globalThis.litElementPolyfillSupport;lt?.({LitElement:at}),(globalThis.litElementVersions??=[]).push("4.1.1");class ct extends at{constructor(){super(),this.text=""}static get properties(){return{text:{type:String}}}static get styles(){return a`
            .outer {
                display: inline-block;
                vertical-align: sub;
            }
            .inner {
                display: flex;
            }
            .ring {
                display: inline-block;
                position: relative;
                width: 1em;
                height: 1em;
            }
            .ring div {
                box-sizing: border-box;
                display: block;
                position: absolute;
                width: 100%;
                height: 100%;
                border: 0.2em solid currentColor;
                border-radius: 50%;
                animation: ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;
                border-color: currentColor transparent transparent transparent;
            }
            .ring div:nth-child(1) {
                animation-delay: -0.45s;
            }
            .ring div:nth-child(2) {
                animation-delay: -0.3s;
            }
            .ring div:nth-child(3) {
                animation-delay: -0.15s;
            }
            @keyframes ring {
                0% {
                    transform: rotate(0deg);
                }
                100% {
                    transform: rotate(360deg);
                }
            }
            .text {
                display: inline-block;
                margin-left: 0.5em;
                font-size: 0.7em;
            }
        `}render(){const t=""!==this.text?B`
                      <div class="text">${this.text}</div>
                  `:B``;return B`
            <div class="outer">
                <div class="inner">
                    <div class="ring">
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                    </div>
                    ${t}
                </div>
            </div>
        `}}const dt=new WeakMap;const ht="2.2.2",ut=window.scopedElementsVersions||(window.scopedElementsVersions=[]);ut.includes(ht)||ut.push(ht);const pt=!!ShadowRoot.prototype.createElement,gt=(ft=t=>class extends t{static get scopedElements(){return{}}static get scopedElementsVersion(){return ht}static get shadowRootOptions(){return this.__shadowRootOptions}static set shadowRootOptions(t){this.__shadowRootOptions=t}static get elementStyles(){return this.__elementStyles}static set elementStyles(t){this.__elementStyles=t}constructor(...t){super(),this.renderOptions=this.renderOptions||void 0}get registry(){return this.constructor.__registry}set registry(t){this.constructor.__registry=t}createRenderRoot(){const{scopedElements:t,shadowRootOptions:e,elementStyles:i}=this.constructor;if(!this.registry||this.registry===this.constructor.__registry&&!Object.prototype.hasOwnProperty.call(this.constructor,"__registry")){this.registry=pt?new CustomElementRegistry:customElements;for(const[e,i]of Object.entries(t))this.defineScopedElement(e,i)}const s={mode:"open",...e,customElements:this.registry,registry:this.registry},o=this.attachShadow(s);return pt&&(this.renderOptions.creationScope=o),o instanceof ShadowRoot&&(l(o,i),this.renderOptions.renderBefore=this.renderOptions.renderBefore||o.firstChild),o}createScopedElement(t){return(pt?this.shadowRoot:document).createElement(t)}defineScopedElement(t,e){const i=this.registry.get(t);return i&&!1===pt&&i!==e&&console.error([`You are trying to re-register the "${t}" custom element with a different class via ScopedElementsMixin.`,"This is only possible with a CustomElementRegistry.","Your browser does not support this feature so you will need to load a polyfill for it.",'Load "@webcomponents/scoped-custom-element-registry" before you register ANY web component to the global customElements registry.','e.g. add "<script src="/node_modules/@webcomponents/scoped-custom-element-registry/scoped-custom-element-registry.min.js"><\/script>" as your first script tag.',"For more details you can visit https://open-wc.org/docs/development/scoped-elements/"].join("\n")),i?this.registry.get(t):this.registry.define(t,e)}getScopedTagName(t){return this.constructor.getScopedTagName(t)}static getScopedTagName(t){return this.__registry.get(t)?t:void 0}},t=>{if(function(t,e){let i=e;for(;i;){if(dt.get(i)===t)return!0;i=Object.getPrototypeOf(i)}return!1}(ft,t))return t;const e=ft(t);return dt.set(e,ft),e});var ft;function mt(){return a`
        :host {
            /* new new variables */
            --dbp-background:
                    var(--dbp-override-background, #ffffff
            );
            --dbp-content:
                    var(--dbp-override-content, #222120
            );
            --dbp-content-surface:
                    var(--dbp-override-content-surface,
                    var(--dbp-content)
            );
            --dbp-on-content-surface:
                    var(--dbp-override-on-content-surface,
                    var(--dbp-background)
            );
            --dbp-border:
                    var(--dbp-override-border, 1px solid #222120
            );
            --dbp-border-radius:
                    var(--dbp-override-border-radius, 0px
            );
            --dbp-primary:
                    var(--dbp-override-primary,  #3775c1
            );
            --dbp-primary-surface:
                    var(--dbp-override-primary-surface,
                    var(--dbp-primary)
            );
            --dbp-on-primary-surface:
                    var(--dbp-override-on-primary-surface,
                    var(--dbp-on-content-surface)
            );
            --dbp-primary-surface-border-color:
                    var(--dbp-override-primary-surface-border-color,
                    var(--dbp-primary)
            );
            --dbp-secondary:
                    var(--dbp-override-secondary, #222120
            );
            --dbp-secondary-surface:
                    var(--dbp-override-secondary-surface,
                    var(--dbp-secondary)
            );
            --dbp-on-secondary-surface:
                    var(--dbp-override-on-secondary-surface,
                    var(--dbp-on-content-surface)
            );
            --dbp-secondary-surface-border-color:
                    var(--dbp-override-secondary-surface-border-color,
                    var(--dbp-secondary)
            );
            --dbp-muted:
                    var(--dbp-override-muted, #767676
            );
            --dbp-muted-surface:
                    var(--dbp-override-muted-surface,
                    var(--dbp-muted)
            );
            --dbp-on-muted-surface:
                    var(--dbp-override-on-muted-surface,
                    var(--dbp-on-content-surface)
            );
            --dbp-muted-surface-border-color:
                    var(--dbp-override-muted-surface-border-color,
                    var(--dbp-muted)
            );
            --dbp-accent:
                    var(--dbp-override-accent, #9e1e4d
            );
            --dbp-accent-surface:
                    var(--dbp-override-accent-surface,
                    var(--dbp-accent)
            );
            --dbp-on-accent-surface:
                    var(--dbp-override-on-accent-surface,
                    var(--dbp-on-content-surface)
            );
            --dbp-accent-surface-border-color:
                    var(--dbp-override-accent-surface-border-color,
                    var(--dbp-accent)
            );
            --dbp-info:
                    var(--dbp-override-info, #38808a
            );
            --dbp-info-surface:
                    var(--dbp-override-info-surface,
                    var(--dbp-info)
            );
            --dbp-on-info-surface:
                    var(--dbp-override-on-info-surface,
                    var(--dbp-on-content-surface)
            );
            --dbp-info-surface-border-color:
                    var(--dbp-override-info-surface-border-color,
                    var(--dbp-info)
            );
            --dbp-success:
                    var(--dbp-override-success, #338555
            );
            --dbp-success-surface:
                    var(--dbp-override-success-surface,
                    var(--dbp-success)
            );
            --dbp-on-success-surface:
                    var(--dbp-override-on-success-surface,
                    var(--dbp-on-content-surface)
            );
            --dbp-success-surface-border-color:
                    var(--dbp-override-success-surface-border-color,
                    var(--dbp-success)
            );
            --dbp-warning:
                    var(--dbp-override-warning, #bf8808
            );
            --dbp-warning-surface:
                    var(--dbp-override-warning-surface,
                    var(--dbp-warning)
            );
            --dbp-on-warning-surface:
                    var(--dbp-override-on-warning-surface,
                    var(--dbp-on-content-surface)
            );
            --dbp-warning-surface-border-color:
                    var(--dbp-override-warning-surface-border-color,
                    var(--dbp-warning)
            );
            --dbp-danger:
                    var(--dbp-override-danger, #cc3232
            );
            --dbp-danger-surface:
                    var(--dbp-override-danger-surface,
                    var(--dbp-danger)
            );
            --dbp-on-danger-surface:
                    var(--dbp-override-on-danger-surface,
                    var(--dbp-on-content-surface)
            );
            --dbp-danger-surface-border-color:
                    var(--dbp-override-danger-surface-border-color,
                    var(--dbp-danger)
            );
            --dbp-hover-background-color:
                    var(--dbp-override-hover-background-color
            );
            --dbp-hover-color:
                    var(--dbp-override-hover-color
            );
        }

        #root {
            background-color: var(--dbp-background);
            color: var(--dbp-content);
        }

        ::-moz-selection {
            color: var(--dbp-on-primary-surface);
            background: var(--dbp-primary-surface);
        }

        ::selection {
            color: var(--dbp-on-primary-surface);
            background: var(--dbp-primary-surface);
        }

    `}gt(at);gt(at);const bt=new class{get debug(){return window.location.hash.includes("debug")?console.debug:()=>{}}};class yt extends at{constructor(){super(),this.connected=!1,this.deferSubscribe=!1,this.deferUnSubscribe=!1,this.reflectAttribute=!0,this.subscribe="",this.unsubscribe="",this.callbackStore=[],this.propertyStore={},this.lastProperties={},bt.debug("AdapterLitElement("+this.tagName+") constructor()")}getProperty(t){return this.propertyStore[t]}getPropertyByAttributeName(t){return this[this.findPropertyName(t)]}setPropertyByAttributeName(t,e){this[this.findPropertyName(t)]=e}setProperty(t,e){"object"==typeof e&&null!==e?this.setPropertyByAttributeName(t,e):this.attributeChangedCallback(t,this.getPropertyByAttributeName(t),e),this.lastProperties[t]=e,this.propertyStore[t]=e}hasPropertyChanged(t,e){return this.lastProperties[t]!==e}hasProperty(t){return Object.hasOwnProperty.call(this.propertyStore,t)}connectedCallback(){if(super.connectedCallback(),this.deferUnSubscribe){this.unsubscribe.split(",").forEach((t=>this.unSubscribeProviderFor(t))),this.deferSubscribe=!1,this.unsubscribe=""}if(this.deferSubscribe){this.subscribe.split(",").forEach((t=>this.subscribeProviderFor(t))),this.deferSubscribe=!1}this.connected=!0;const t=this;this.addEventListener("dbp-subscribe",(function(e){const i=e.detail.name;(t.hasProperty(i)||t.providerRoot)&&(bt.debug("AdapterLitElementProvider("+t.tagName+') eventListener("dbp-subscribe",..) name "'+i+'" found.'),t.callbackStore.push({name:i,callback:e.detail.callback,sender:e.detail.sender}),e.detail.callback(t.getProperty(i)),e.stopPropagation())}),!1),this.addEventListener("dbp-unsubscribe",(function(e){const i=e.detail.name,s=e.detail.sender;(t.hasProperty(i)||t.providerRoot)&&(bt.debug("AdapterLitElementProvider("+t.tagName+') eventListener("dbp-unsubscribe",..) name "'+i+'" found.'),t.callbackStore.forEach((e=>{if(e.sender===s&&e.name===i){const s=t.callbackStore.indexOf(e);t.callbackStore.splice(s,1),bt.debug("AdapterLitElementProvider("+t.tagName+') eventListener for name "'+i+'" removed.')}})),e.stopPropagation())}),!1),this.addEventListener("dbp-set-property",(function(e){const i=e.detail.name,s=e.detail.value;(t.hasProperty(i)||t.providerRoot)&&(bt.debug("AdapterLitElementProvider("+t.tagName+') eventListener("dbp-set-property",..) name "'+i+'" found.'),t.setProperty(i,s),t.callbackStore.forEach((t=>{t.name===i&&t.callback(s)})),e.stopPropagation())}),!1);const e=new MutationObserver((function(e,i){for(const i of e)if("attributes"===i.type){const e=i.attributeName,s=t.getAttribute(e);t.hasPropertyChanged(e,s)&&(bt.debug("AdapterLitElementProvider ("+t.tagName+') observed attribute "'+e+'" changed'),t.setProperty(e,s),t.callbackStore.forEach((t=>{t.name===e&&t.callback(s)})))}}));if(e.observe(this,{attributes:!0,childList:!1,subtree:!1}),this.hasAttributes()){const e=this.attributes;for(let i=e.length-1;i>=0;i--)["id","class","style","data-tag-name"].includes(e[i].name)||(this.setProperty(e[i].name,e[i].value),bt.debug("AdapterLitElementProvider ("+t.tagName+') found attribute "'+e[i].name+'" = "'+e[i].value+'"'))}}disconnectedCallback(){this.subscribe.split(",").forEach((t=>this.unSubscribeProviderFor(t))),super.disconnectedCallback()}subscribeProviderFor(t){bt.debug("AdapterLitElement("+this.tagName+") subscribeProviderFor( "+t+" )");const e=t.trim().split(":"),i=e[0],s=e[1]||i,o=this,r=new CustomEvent("dbp-subscribe",{bubbles:!0,composed:!0,detail:{name:s,callback:t=>{void 0!==t&&(bt.debug("AdapterLitElement("+o.tagName+") sub/Callback "+s+" -> "+i+" = "+t),"object"==typeof t&&null!==t?o.setPropertyByAttributeName(i,t):(o.attributeChangedCallback(i,o.getPropertyByAttributeName(i),t),null!==o.getAttribute(i)&&(console.warn('Provider callback: "'+i+'" is also an attribute in tag "'+o.tagName+'", this is not supported!'),o.reflectAttribute&&o.setAttribute(i,t))))},sender:this}});this.dispatchEvent(r)}unSubscribeProviderFor(t){bt.debug("AdapterLitElement("+this.tagName+") unSubscribeProviderFor( "+t+" )");const e=t.trim().split(":"),i=e[1]||e[0],s=new CustomEvent("dbp-unsubscribe",{bubbles:!0,composed:!0,detail:{name:i,sender:this}});this.dispatchEvent(s)}static get properties(){return{...super.properties,subscribe:{type:String},unsubscribe:{type:String},providerRoot:{type:Boolean,attribute:"provider-root"}}}findPropertyName(t){let e=t;const i=this.constructor.properties;for(const s in i){if(i[s].attribute===t){e=s;break}}return e}attributeChangedCallback(t,e,i){switch(t){case"subscribe":if(bt.debug("AdapterLitElement() attributeChangesCallback( "+t+", "+e+", "+i+")"),this.subscribe&&this.subscribe.length>0)if(this.connected){this.subscribe.split(",").forEach((t=>this.unSubscribeProviderFor(t)))}else this.deferUnSubscribe=this.subscribe.length>0,this.unsubscribe=this.subscribe;if(null!==i)if(this.subscribe=i,this.connected){i.split(",").forEach((t=>this.subscribeProviderFor(t)))}else this.deferSubscribe=i&&i.length>0;break;default:if("object"==typeof e&&!e&&!i||!i&&e&&t)break;super.attributeChangedCallback(t,e,i)}}sendSetPropertyEvent(t,e,i=!1){const s=new CustomEvent("dbp-set-property",{bubbles:!0,composed:!0,detail:{name:t,value:e}});return(this.parentElement&&!i?this.parentElement:this).dispatchEvent(s)}}class vt extends yt{constructor(){super(),this.htmlOverrides="",this._localTemplateSlotsImported=!1,this._globalSlotsContainer=null,this._globalTemplateSlotsImported=!1,this._renderDone=!1,this.routingUrl=""}static get properties(){return{...super.properties,htmlOverrides:{type:String,attribute:"html-overrides"},routingUrl:{type:String,attribute:"routing-url"}}}disconnectedCallback(){super.disconnectedCallback(),null!==this._globalSlotsContainer&&this._globalSlotsContainer.remove()}_(t){return null===this.shadowRoot?this.querySelector(t):this.shadowRoot.querySelector(t)}_a(t){return null===this.shadowRoot?this.querySelectorAll(t):this.shadowRoot.querySelectorAll(t)}firstUpdated(){super.firstUpdated(),this._renderDone=!0,this._importTemplateSlots()}update(t){t.forEach(((t,e)=>{if("html-overrides"===e)this._importTemplateSlots()})),super.update(t)}_importTemplateSlots(){this._renderDone&&(this._importLocalTemplateSlots(),this._importGlobalTemplateSlots())}_importLocalTemplateSlots(){if(this._localTemplateSlotsImported)return;let t=this.querySelectorAll(':scope > template[slot]:not([slot=""]');for(let e of t){const t=document.createElement("div");t.slot=e.getAttribute("slot"),t.appendChild(e.content.cloneNode(!0)),e.remove(),this.appendChild(t)}this._localTemplateSlotsImported=!0}_importGlobalTemplateSlots(){if(""===this.htmlOverrides||this._globalTemplateSlotsImported)return;let t=document.querySelector("template#"+this.htmlOverrides);if(null!==t){const e=t.content.cloneNode(!0).querySelector("template#"+this.tagName.toLowerCase());if(null!==e){const i=e.content.cloneNode(!0);let s=[];for(let t of i.querySelectorAll('[slot]:not([slot=""]'))t.parentNode===i&&s.push(t);for(let t of s)for(let e of this.querySelectorAll('[slot="'+t.slot+'"]'))e.remove();let o=document.createElement("div");t.append(o),this._globalSlotsContainer=o;for(let t of s)o.appendChild(t);for(;o.childNodes.length;)this.appendChild(o.removeChild(o.childNodes[0]))}}this._globalTemplateSlotsImported=!0}getRoutingData(){return function(t){const e=new URL(t,"https://example.com");return{pathname:e.pathname,pathSegments:e.pathname.split("/").filter((t=>""!==t)).map((t=>decodeURIComponent(t))),queryParams:e.searchParams,queryString:e.search,hash:e.hash,fragment:e.hash.replace(/^#/,"")}}(this.routingUrl)}}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const _t=2;class wt{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,i){this._$Ct=t,this._$AM=e,this._$Ci=i}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class kt extends wt{constructor(t){if(super(t),this.it=z,t.type!==_t)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(t){if(t===z||null==t)return this._t=void 0,this.it=t;if(t===K)return t;if("string"!=typeof t)throw Error(this.constructor.directiveName+"() called with a non-string value");if(t===this.it)return this._t;this.it=t;const e=[t];return e.raw=e,this._t={_$litType$:this.constructor.resultType,strings:e,values:[]}}}kt.directiveName="unsafeHTML",kt.resultType=1;const St=(t=>(...e)=>({_$litDirective$:t,values:e}))(kt),Et=t=>"string"==typeof t,xt=()=>{let t,e;const i=new Promise(((i,s)=>{t=i,e=s}));return i.resolve=t,i.reject=e,i},Ct=t=>null==t?"":""+t,$t=/###/g,At=t=>t&&t.indexOf("###")>-1?t.replace($t,"."):t,Ot=t=>!t||Et(t),Lt=(t,e,i)=>{const s=Et(e)?e.split("."):e;let o=0;for(;o<s.length-1;){if(Ot(t))return{};const e=At(s[o]);!t[e]&&i&&(t[e]=new i),t=Object.prototype.hasOwnProperty.call(t,e)?t[e]:{},++o}return Ot(t)?{}:{obj:t,k:At(s[o])}},Pt=(t,e,i)=>{const{obj:s,k:o}=Lt(t,e,Object);if(void 0!==s||1===e.length)return void(s[o]=i);let r=e[e.length-1],n=e.slice(0,e.length-1),a=Lt(t,n,Object);for(;void 0===a.obj&&n.length;)r=`${n[n.length-1]}.${r}`,n=n.slice(0,n.length-1),a=Lt(t,n,Object),a?.obj&&void 0!==a.obj[`${a.k}.${r}`]&&(a.obj=void 0);a.obj[`${a.k}.${r}`]=i},Rt=(t,e)=>{const{obj:i,k:s}=Lt(t,e);if(i&&Object.prototype.hasOwnProperty.call(i,s))return i[s]},Nt=(t,e,i)=>{for(const s in e)"__proto__"!==s&&"constructor"!==s&&(s in t?Et(t[s])||t[s]instanceof String||Et(e[s])||e[s]instanceof String?i&&(t[s]=e[s]):Nt(t[s],e[s],i):t[s]=e[s]);return t},Tt=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var It={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const jt=t=>Et(t)?t.replace(/[&<>"'\/]/g,(t=>It[t])):t;const Mt=[" ",",","?","!",";"],Dt=new class{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const e=this.regExpMap.get(t);if(void 0!==e)return e;const i=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,i),this.regExpQueue.push(t),i}}(20),Ut=function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!t)return;if(t[e]){if(!Object.prototype.hasOwnProperty.call(t,e))return;return t[e]}const s=e.split(i);let o=t;for(let t=0;t<s.length;){if(!o||"object"!=typeof o)return;let e,r="";for(let n=t;n<s.length;++n)if(n!==t&&(r+=i),r+=s[n],e=o[r],void 0!==e){if(["string","number","boolean"].indexOf(typeof e)>-1&&n<s.length-1)continue;t+=n-t+1;break}o=e}return o},Ht=t=>t?.replace("_","-"),Ft={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}};class Vt{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(t,e)}init(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=e.prefix||"i18next:",this.logger=t||Ft,this.options=e,this.debug=e.debug}log(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.forward(e,"log","",!0)}warn(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.forward(e,"warn","",!0)}error(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.forward(e,"error","")}deprecate(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(t,e,i,s){return s&&!this.debug?null:(Et(t[0])&&(t[0]=`${i}${this.prefix} ${t[0]}`),this.logger[e](t))}create(t){return new Vt(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return(t=t||this.options).prefix=t.prefix||this.prefix,new Vt(this.logger,t)}}var Gt=new Vt;class Bt{constructor(){this.observers={}}on(t,e){return t.split(" ").forEach((t=>{this.observers[t]||(this.observers[t]=new Map);const i=this.observers[t].get(e)||0;this.observers[t].set(e,i+1)})),this}off(t,e){this.observers[t]&&(e?this.observers[t].delete(e):delete this.observers[t])}emit(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),s=1;s<e;s++)i[s-1]=arguments[s];if(this.observers[t]){Array.from(this.observers[t].entries()).forEach((t=>{let[e,s]=t;for(let t=0;t<s;t++)e(...i)}))}if(this.observers["*"]){Array.from(this.observers["*"].entries()).forEach((e=>{let[s,o]=e;for(let e=0;e<o;e++)s.apply(s,[t,...i])}))}}}class Kt extends Bt{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=e,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const e=this.options.ns.indexOf(t);e>-1&&this.options.ns.splice(e,1)}getResource(t,e,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o=void 0!==s.keySeparator?s.keySeparator:this.options.keySeparator,r=void 0!==s.ignoreJSONStructure?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let n;t.indexOf(".")>-1?n=t.split("."):(n=[t,e],i&&(Array.isArray(i)?n.push(...i):Et(i)&&o?n.push(...i.split(o)):n.push(i)));const a=Rt(this.data,n);return!a&&!e&&!i&&t.indexOf(".")>-1&&(t=n[0],e=n[1],i=n.slice(2).join(".")),!a&&r&&Et(i)?Ut(this.data?.[t]?.[e],i,o):a}addResource(t,e,i,s){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1};const r=void 0!==o.keySeparator?o.keySeparator:this.options.keySeparator;let n=[t,e];i&&(n=n.concat(r?i.split(r):i)),t.indexOf(".")>-1&&(n=t.split("."),s=e,e=n[1]),this.addNamespaces(e),Pt(this.data,n,s),o.silent||this.emit("added",t,e,i,s)}addResources(t,e,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(const s in i)(Et(i[s])||Array.isArray(i[s]))&&this.addResource(t,e,s,i[s],{silent:!0});s.silent||this.emit("added",t,e,i)}addResourceBundle(t,e,i,s,o){let r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},n=[t,e];t.indexOf(".")>-1&&(n=t.split("."),s=i,i=e,e=n[1]),this.addNamespaces(e);let a=Rt(this.data,n)||{};r.skipCopy||(i=JSON.parse(JSON.stringify(i))),s?Nt(a,i,o):a={...a,...i},Pt(this.data,n,a),r.silent||this.emit("added",t,e,i)}removeResourceBundle(t,e){this.hasResourceBundle(t,e)&&delete this.data[t][e],this.removeNamespaces(e),this.emit("removed",t,e)}hasResourceBundle(t,e){return void 0!==this.getResource(t,e)}getResourceBundle(t,e){return e||(e=this.options.defaultNS),this.getResource(t,e)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const e=this.getDataByLanguage(t);return!!(e&&Object.keys(e)||[]).find((t=>e[t]&&Object.keys(e[t]).length>0))}toJSON(){return this.data}}var zt={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,i,s,o){return t.forEach((t=>{e=this.processors[t]?.process(e,i,s,o)??e})),e}};const qt={},Wt=t=>!Et(t)&&"boolean"!=typeof t&&"number"!=typeof t;class Jt extends Bt{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),((t,e,i)=>{t.forEach((t=>{e[t]&&(i[t]=e[t])}))})(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=e,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=Gt.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==t)return!1;const i=this.resolve(t,e);return void 0!==i?.res}extractFromKey(t,e){let i=void 0!==e.nsSeparator?e.nsSeparator:this.options.nsSeparator;void 0===i&&(i=":");const s=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator;let o=e.ns||this.options.defaultNS||[];const r=i&&t.indexOf(i)>-1,n=!(this.options.userDefinedKeySeparator||e.keySeparator||this.options.userDefinedNsSeparator||e.nsSeparator||((t,e,i)=>{e=e||"",i=i||"";const s=Mt.filter((t=>e.indexOf(t)<0&&i.indexOf(t)<0));if(0===s.length)return!0;const o=Dt.getRegExp(`(${s.map((t=>"?"===t?"\\?":t)).join("|")})`);let r=!o.test(t);if(!r){const e=t.indexOf(i);e>0&&!o.test(t.substring(0,e))&&(r=!0)}return r})(t,i,s));if(r&&!n){const e=t.match(this.interpolator.nestingRegexp);if(e&&e.length>0)return{key:t,namespaces:Et(o)?[o]:o};const r=t.split(i);(i!==s||i===s&&this.options.ns.indexOf(r[0])>-1)&&(o=r.shift()),t=r.join(s)}return{key:t,namespaces:Et(o)?[o]:o}}translate(t,e,i){if("object"!=typeof e&&this.options.overloadTranslationOptionHandler&&(e=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof e&&(e={...e}),e||(e={}),null==t)return"";Array.isArray(t)||(t=[String(t)]);const s=void 0!==e.returnDetails?e.returnDetails:this.options.returnDetails,o=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,{key:r,namespaces:n}=this.extractFromKey(t[t.length-1],e),a=n[n.length-1],l=e.lng||this.language,c=e.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if("cimode"===l?.toLowerCase()){if(c){const t=e.nsSeparator||this.options.nsSeparator;return s?{res:`${a}${t}${r}`,usedKey:r,exactUsedKey:r,usedLng:l,usedNS:a,usedParams:this.getUsedParamsDetails(e)}:`${a}${t}${r}`}return s?{res:r,usedKey:r,exactUsedKey:r,usedLng:l,usedNS:a,usedParams:this.getUsedParamsDetails(e)}:r}const d=this.resolve(t,e);let h=d?.res;const u=d?.usedKey||r,p=d?.exactUsedKey||r,g=void 0!==e.joinArrays?e.joinArrays:this.options.joinArrays,f=!this.i18nFormat||this.i18nFormat.handleAsObject,m=void 0!==e.count&&!Et(e.count),b=Jt.hasDefaultValue(e),y=m?this.pluralResolver.getSuffix(l,e.count,e):"",v=e.ordinal&&m?this.pluralResolver.getSuffix(l,e.count,{ordinal:!1}):"",_=m&&!e.ordinal&&0===e.count,w=_&&e[`defaultValue${this.options.pluralSeparator}zero`]||e[`defaultValue${y}`]||e[`defaultValue${v}`]||e.defaultValue;let k=h;f&&!h&&b&&(k=w);const S=Wt(k),E=Object.prototype.toString.apply(k);if(!(f&&k&&S&&["[object Number]","[object Function]","[object RegExp]"].indexOf(E)<0)||Et(g)&&Array.isArray(k))if(f&&Et(g)&&Array.isArray(h))h=h.join(g),h&&(h=this.extendTranslation(h,t,e,i));else{let s=!1,n=!1;!this.isValidLookup(h)&&b&&(s=!0,h=w),this.isValidLookup(h)||(n=!0,h=r);const c=(e.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&n?void 0:h,u=b&&w!==h&&this.options.updateMissing;if(n||s||u){if(this.logger.log(u?"updateKey":"missingKey",l,a,r,u?w:h),o){const t=this.resolve(r,{...e,keySeparator:!1});t&&t.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let t=[];const i=this.languageUtils.getFallbackCodes(this.options.fallbackLng,e.lng||this.language);if("fallback"===this.options.saveMissingTo&&i&&i[0])for(let e=0;e<i.length;e++)t.push(i[e]);else"all"===this.options.saveMissingTo?t=this.languageUtils.toResolveHierarchy(e.lng||this.language):t.push(e.lng||this.language);const s=(t,i,s)=>{const o=b&&s!==h?s:c;this.options.missingKeyHandler?this.options.missingKeyHandler(t,a,i,o,u,e):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(t,a,i,o,u,e),this.emit("missingKey",t,a,i,h)};this.options.saveMissing&&(this.options.saveMissingPlurals&&m?t.forEach((t=>{const i=this.pluralResolver.getSuffixes(t,e);_&&e[`defaultValue${this.options.pluralSeparator}zero`]&&i.indexOf(`${this.options.pluralSeparator}zero`)<0&&i.push(`${this.options.pluralSeparator}zero`),i.forEach((i=>{s([t],r+i,e[`defaultValue${i}`]||w)}))})):s(t,r,w))}h=this.extendTranslation(h,t,e,d,i),n&&h===r&&this.options.appendNamespaceToMissingKey&&(h=`${a}:${r}`),(n||s)&&this.options.parseMissingKeyHandler&&(h=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${a}:${r}`:r,s?h:void 0))}else{if(!e.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const t=this.options.returnedObjectHandler?this.options.returnedObjectHandler(u,k,{...e,ns:n}):`key '${r} (${this.language})' returned an object instead of string.`;return s?(d.res=t,d.usedParams=this.getUsedParamsDetails(e),d):t}if(o){const t=Array.isArray(k),i=t?[]:{},s=t?p:u;for(const t in k)if(Object.prototype.hasOwnProperty.call(k,t)){const r=`${s}${o}${t}`;i[t]=b&&!h?this.translate(r,{...e,defaultValue:Wt(w)?w[t]:void 0,joinArrays:!1,ns:n}):this.translate(r,{...e,joinArrays:!1,ns:n}),i[t]===r&&(i[t]=k[t])}h=i}}return s?(d.res=h,d.usedParams=this.getUsedParamsDetails(e),d):h}extendTranslation(t,e,i,s,o){var r=this;if(this.i18nFormat?.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const n=Et(t)&&(void 0!==i?.interpolation?.skipOnVariables?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let a;if(n){const e=t.match(this.interpolator.nestingRegexp);a=e&&e.length}let l=i.replace&&!Et(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(l={...this.options.interpolation.defaultVariables,...l}),t=this.interpolator.interpolate(t,l,i.lng||this.language||s.usedLng,i),n){const e=t.match(this.interpolator.nestingRegexp);a<(e&&e.length)&&(i.nest=!1)}!i.lng&&s&&s.res&&(i.lng=this.language||s.usedLng),!1!==i.nest&&(t=this.interpolator.nest(t,(function(){for(var t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];return o?.[0]!==s[0]||i.context?r.translate(...s,e):(r.logger.warn(`It seems you are nesting recursively key: ${s[0]} in key: ${e[0]}`),null)}),i)),i.interpolation&&this.interpolator.reset()}const n=i.postProcess||this.options.postProcess,a=Et(n)?[n]:n;return null!=t&&a?.length&&!1!==i.applyPostProcessor&&(t=zt.handle(a,t,e,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),t}resolve(t){let e,i,s,o,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Et(t)&&(t=[t]),t.forEach((t=>{if(this.isValidLookup(e))return;const a=this.extractFromKey(t,n),l=a.key;i=l;let c=a.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));const d=void 0!==n.count&&!Et(n.count),h=d&&!n.ordinal&&0===n.count,u=void 0!==n.context&&(Et(n.context)||"number"==typeof n.context)&&""!==n.context,p=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);c.forEach((t=>{this.isValidLookup(e)||(r=t,qt[`${p[0]}-${t}`]||!this.utils?.hasLoadedNamespace||this.utils?.hasLoadedNamespace(r)||(qt[`${p[0]}-${t}`]=!0,this.logger.warn(`key "${i}" for languages "${p.join(", ")}" won't get resolved as namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach((i=>{if(this.isValidLookup(e))return;o=i;const r=[l];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(r,l,i,t,n);else{let t;d&&(t=this.pluralResolver.getSuffix(i,n.count,n));const e=`${this.options.pluralSeparator}zero`,s=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(d&&(r.push(l+t),n.ordinal&&0===t.indexOf(s)&&r.push(l+t.replace(s,this.options.pluralSeparator)),h&&r.push(l+e)),u){const i=`${l}${this.options.contextSeparator}${n.context}`;r.push(i),d&&(r.push(i+t),n.ordinal&&0===t.indexOf(s)&&r.push(i+t.replace(s,this.options.pluralSeparator)),h&&r.push(i+e))}}let a;for(;a=r.pop();)this.isValidLookup(e)||(s=a,e=this.getResource(i,t,a,n))})))}))})),{res:e,usedKey:i,exactUsedKey:s,usedLng:o,usedNS:r}}isValidLookup(t){return!(void 0===t||!this.options.returnNull&&null===t||!this.options.returnEmptyString&&""===t)}getResource(t,e,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat?.getResource?this.i18nFormat.getResource(t,e,i,s):this.resourceStore.getResource(t,e,i,s)}getUsedParamsDetails(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=t.replace&&!Et(t.replace);let s=i?t.replace:t;if(i&&void 0!==t.count&&(s.count=t.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!i){s={...s};for(const t of e)delete s[t]}return s}static hasDefaultValue(t){const e="defaultValue";for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&e===i.substring(0,12)&&void 0!==t[i])return!0;return!1}}class Yt{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Gt.create("languageUtils")}getScriptPartFromCode(t){if(!(t=Ht(t))||t.indexOf("-")<0)return null;const e=t.split("-");return 2===e.length?null:(e.pop(),"x"===e[e.length-1].toLowerCase()?null:this.formatLanguageCode(e.join("-")))}getLanguagePartFromCode(t){if(!(t=Ht(t))||t.indexOf("-")<0)return t;const e=t.split("-");return this.formatLanguageCode(e[0])}formatLanguageCode(t){if(Et(t)&&t.indexOf("-")>-1){let e;try{e=Intl.getCanonicalLocales(t)[0]}catch(t){}return e&&this.options.lowerCaseLng&&(e=e.toLowerCase()),e||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let e;return t.forEach((t=>{if(e)return;const i=this.formatLanguageCode(t);this.options.supportedLngs&&!this.isSupportedCode(i)||(e=i)})),!e&&this.options.supportedLngs&&t.forEach((t=>{if(e)return;const i=this.getLanguagePartFromCode(t);if(this.isSupportedCode(i))return e=i;e=this.options.supportedLngs.find((t=>t===i?t:t.indexOf("-")<0&&i.indexOf("-")<0?void 0:t.indexOf("-")>0&&i.indexOf("-")<0&&t.substring(0,t.indexOf("-"))===i||0===t.indexOf(i)&&i.length>1?t:void 0))})),e||(e=this.getFallbackCodes(this.options.fallbackLng)[0]),e}getFallbackCodes(t,e){if(!t)return[];if("function"==typeof t&&(t=t(e)),Et(t)&&(t=[t]),Array.isArray(t))return t;if(!e)return t.default||[];let i=t[e];return i||(i=t[this.getScriptPartFromCode(e)]),i||(i=t[this.formatLanguageCode(e)]),i||(i=t[this.getLanguagePartFromCode(e)]),i||(i=t.default),i||[]}toResolveHierarchy(t,e){const i=this.getFallbackCodes(e||this.options.fallbackLng||[],t),s=[],o=t=>{t&&(this.isSupportedCode(t)?s.push(t):this.logger.warn(`rejecting language code not found in supportedLngs: ${t}`))};return Et(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(t)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(t)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(t))):Et(t)&&o(this.formatLanguageCode(t)),i.forEach((t=>{s.indexOf(t)<0&&o(this.formatLanguageCode(t))})),s}}const Zt={zero:0,one:1,two:2,few:3,many:4,other:5},Qt={select:t=>1===t?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Xt{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=t,this.options=e,this.logger=Gt.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,e){this.rules[t]=e}clearCache(){this.pluralRulesCache={}}getRule(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=Ht("dev"===t?"en":t),s=e.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:i,type:s});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let r;try{r=new Intl.PluralRules(i,{type:s})}catch(i){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Qt;if(!t.match(/-|_/))return Qt;const s=this.languageUtils.getLanguagePartFromCode(t);r=this.getRule(s,e)}return this.pluralRulesCache[o]=r,r}needsPlural(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.getRule(t,e);return i||(i=this.getRule("dev",e)),i?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(t,i).map((t=>`${e}${t}`))}getSuffixes(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.getRule(t,e);return i||(i=this.getRule("dev",e)),i?i.resolvedOptions().pluralCategories.sort(((t,e)=>Zt[t]-Zt[e])).map((t=>`${this.options.prepend}${e.ordinal?`ordinal${this.options.prepend}`:""}${t}`)):[]}getSuffix(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=this.getRule(t,i);return s?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${s.select(e)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",e,i))}}const te=function(t,e,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],r=((t,e,i)=>{const s=Rt(t,i);return void 0!==s?s:Rt(e,i)})(t,e,i);return!r&&o&&Et(i)&&(r=Ut(t,i,s),void 0===r&&(r=Ut(e,i,s))),r},ee=t=>t.replace(/\$/g,"$$$$");class ie{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=Gt.create("interpolator"),this.options=t,this.format=t?.interpolation?.format||(t=>t),this.init(t)}init(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const{escape:e,escapeValue:i,useRawValueToEscape:s,prefix:o,prefixEscaped:r,suffix:n,suffixEscaped:a,formatSeparator:l,unescapeSuffix:c,unescapePrefix:d,nestingPrefix:h,nestingPrefixEscaped:u,nestingSuffix:p,nestingSuffixEscaped:g,nestingOptionsSeparator:f,maxReplaces:m,alwaysFormat:b}=t.interpolation;this.escape=void 0!==e?e:jt,this.escapeValue=void 0===i||i,this.useRawValueToEscape=void 0!==s&&s,this.prefix=o?Tt(o):r||"{{",this.suffix=n?Tt(n):a||"}}",this.formatSeparator=l||",",this.unescapePrefix=c?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=h?Tt(h):u||Tt("$t("),this.nestingSuffix=p?Tt(p):g||Tt(")"),this.nestingOptionsSeparator=f||",",this.maxReplaces=m||1e3,this.alwaysFormat=void 0!==b&&b,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(t,e)=>t?.source===e?(t.lastIndex=0,t):new RegExp(e,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,e,i,s){let o,r,n;const a=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},l=t=>{if(t.indexOf(this.formatSeparator)<0){const o=te(e,a,t,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(o,void 0,i,{...s,...e,interpolationkey:t}):o}const o=t.split(this.formatSeparator),r=o.shift().trim(),n=o.join(this.formatSeparator).trim();return this.format(te(e,a,r,this.options.keySeparator,this.options.ignoreJSONStructure),n,i,{...s,...e,interpolationkey:r})};this.resetRegExp();const c=s?.missingInterpolationHandler||this.options.missingInterpolationHandler,d=void 0!==s?.interpolation?.skipOnVariables?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:t=>ee(t)},{regex:this.regexp,safeValue:t=>this.escapeValue?ee(this.escape(t)):ee(t)}].forEach((e=>{for(n=0;o=e.regex.exec(t);){const i=o[1].trim();if(r=l(i),void 0===r)if("function"==typeof c){const e=c(t,o,s);r=Et(e)?e:""}else if(s&&Object.prototype.hasOwnProperty.call(s,i))r="";else{if(d){r=o[0];continue}this.logger.warn(`missed to pass in variable ${i} for interpolating ${t}`),r=""}else Et(r)||this.useRawValueToEscape||(r=Ct(r));const a=e.safeValue(r);if(t=t.replace(o[0],a),d?(e.regex.lastIndex+=r.length,e.regex.lastIndex-=o[0].length):e.regex.lastIndex=0,n++,n>=this.maxReplaces)break}})),t}nest(t,e){let i,s,o,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=(t,e)=>{const i=this.nestingOptionsSeparator;if(t.indexOf(i)<0)return t;const s=t.split(new RegExp(`${i}[ ]*{`));let r=`{${s[1]}`;t=s[0],r=this.interpolate(r,o);const n=r.match(/'/g),a=r.match(/"/g);((n?.length??0)%2==0&&!a||a.length%2!=0)&&(r=r.replace(/'/g,'"'));try{o=JSON.parse(r),e&&(o={...e,...o})}catch(e){return this.logger.warn(`failed parsing options string in nesting for key ${t}`,e),`${t}${i}${r}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,t};for(;i=this.nestingRegexp.exec(t);){let a=[];o={...r},o=o.replace&&!Et(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let l=!1;if(-1!==i[0].indexOf(this.formatSeparator)&&!/{.*}/.test(i[1])){const t=i[1].split(this.formatSeparator).map((t=>t.trim()));i[1]=t.shift(),a=t,l=!0}if(s=e(n.call(this,i[1].trim(),o),o),s&&i[0]===t&&!Et(s))return s;Et(s)||(s=Ct(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${t}`),s=""),l&&(s=a.reduce(((t,e)=>this.format(t,e,r.lng,{...r,interpolationkey:i[1].trim()})),s.trim())),t=t.replace(i[0],s),this.regexp.lastIndex=0}return t}}const se=t=>{const e={};return(i,s,o)=>{let r=o;o&&o.interpolationkey&&o.formatParams&&o.formatParams[o.interpolationkey]&&o[o.interpolationkey]&&(r={...r,[o.interpolationkey]:void 0});const n=s+JSON.stringify(r);let a=e[n];return a||(a=t(Ht(s),o),e[n]=a),a(i)}};class oe{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=Gt.create("formatter"),this.options=t,this.formats={number:se(((t,e)=>{const i=new Intl.NumberFormat(t,{...e});return t=>i.format(t)})),currency:se(((t,e)=>{const i=new Intl.NumberFormat(t,{...e,style:"currency"});return t=>i.format(t)})),datetime:se(((t,e)=>{const i=new Intl.DateTimeFormat(t,{...e});return t=>i.format(t)})),relativetime:se(((t,e)=>{const i=new Intl.RelativeTimeFormat(t,{...e});return t=>i.format(t,e.range||"day")})),list:se(((t,e)=>{const i=new Intl.ListFormat(t,{...e});return t=>i.format(t)}))},this.init(t)}init(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};this.formatSeparator=e.interpolation.formatSeparator||","}add(t,e){this.formats[t.toLowerCase().trim()]=e}addCached(t,e){this.formats[t.toLowerCase().trim()]=se(e)}format(t,e,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o=e.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find((t=>t.indexOf(")")>-1))){const t=o.findIndex((t=>t.indexOf(")")>-1));o[0]=[o[0],...o.splice(1,t)].join(this.formatSeparator)}const r=o.reduce(((t,e)=>{const{formatName:o,formatOptions:r}=(t=>{let e=t.toLowerCase().trim();const i={};if(t.indexOf("(")>-1){const s=t.split("(");e=s[0].toLowerCase().trim();const o=s[1].substring(0,s[1].length-1);"currency"===e&&o.indexOf(":")<0?i.currency||(i.currency=o.trim()):"relativetime"===e&&o.indexOf(":")<0?i.range||(i.range=o.trim()):o.split(";").forEach((t=>{if(t){const[e,...s]=t.split(":"),o=s.join(":").trim().replace(/^'+|'+$/g,""),r=e.trim();i[r]||(i[r]=o),"false"===o&&(i[r]=!1),"true"===o&&(i[r]=!0),isNaN(o)||(i[r]=parseInt(o,10))}}))}return{formatName:e,formatOptions:i}})(e);if(this.formats[o]){let e=t;try{const n=s?.formatParams?.[s.interpolationkey]||{},a=n.locale||n.lng||s.locale||s.lng||i;e=this.formats[o](t,a,{...r,...s,...n})}catch(t){this.logger.warn(t)}return e}return this.logger.warn(`there was no format function for ${o}`),t}),t);return r}}class re extends Bt{constructor(t,e,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=t,this.store=e,this.services=i,this.languageUtils=i.languageUtils,this.options=s,this.logger=Gt.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(i,s.backend,s)}queueLoad(t,e,i,s){const o={},r={},n={},a={};return t.forEach((t=>{let s=!0;e.forEach((e=>{const n=`${t}|${e}`;!i.reload&&this.store.hasResourceBundle(t,e)?this.state[n]=2:this.state[n]<0||(1===this.state[n]?void 0===r[n]&&(r[n]=!0):(this.state[n]=1,s=!1,void 0===r[n]&&(r[n]=!0),void 0===o[n]&&(o[n]=!0),void 0===a[e]&&(a[e]=!0)))})),s||(n[t]=!0)})),(Object.keys(o).length||Object.keys(r).length)&&this.queue.push({pending:r,pendingCount:Object.keys(r).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(o),pending:Object.keys(r),toLoadLanguages:Object.keys(n),toLoadNamespaces:Object.keys(a)}}loaded(t,e,i){const s=t.split("|"),o=s[0],r=s[1];e&&this.emit("failedLoading",o,r,e),!e&&i&&this.store.addResourceBundle(o,r,i,void 0,void 0,{skipCopy:!0}),this.state[t]=e?-1:2,e&&i&&(this.state[t]=0);const n={};this.queue.forEach((i=>{((t,e,i)=>{const{obj:s,k:o}=Lt(t,e,Object);s[o]=s[o]||[],s[o].push(i)})(i.loaded,[o],r),((t,e)=>{void 0!==t.pending[e]&&(delete t.pending[e],t.pendingCount--)})(i,t),e&&i.errors.push(e),0!==i.pendingCount||i.done||(Object.keys(i.loaded).forEach((t=>{n[t]||(n[t]={});const e=i.loaded[t];e.length&&e.forEach((e=>{void 0===n[t][e]&&(n[t][e]=!0)}))})),i.done=!0,i.errors.length?i.callback(i.errors):i.callback())})),this.emit("loaded",n),this.queue=this.queue.filter((t=>!t.done))}read(t,e,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,r=arguments.length>5?arguments[5]:void 0;if(!t.length)return r(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:t,ns:e,fcName:i,tried:s,wait:o,callback:r});this.readingCalls++;const n=(n,a)=>{if(this.readingCalls--,this.waitingReads.length>0){const t=this.waitingReads.shift();this.read(t.lng,t.ns,t.fcName,t.tried,t.wait,t.callback)}n&&a&&s<this.maxRetries?setTimeout((()=>{this.read.call(this,t,e,i,s+1,2*o,r)}),o):r(n,a)},a=this.backend[i].bind(this.backend);if(2!==a.length)return a(t,e,n);try{const i=a(t,e);i&&"function"==typeof i.then?i.then((t=>n(null,t))).catch(n):n(null,i)}catch(t){n(t)}}prepareLoading(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();Et(t)&&(t=this.languageUtils.toResolveHierarchy(t)),Et(e)&&(e=[e]);const o=this.queueLoad(t,e,i,s);if(!o.toLoad.length)return o.pending.length||s(),null;o.toLoad.forEach((t=>{this.loadOne(t)}))}load(t,e,i){this.prepareLoading(t,e,{},i)}reload(t,e,i){this.prepareLoading(t,e,{reload:!0},i)}loadOne(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const i=t.split("|"),s=i[0],o=i[1];this.read(s,o,"read",void 0,void 0,((i,r)=>{i&&this.logger.warn(`${e}loading namespace ${o} for language ${s} failed`,i),!i&&r&&this.logger.log(`${e}loaded namespace ${o} for language ${s}`,r),this.loaded(t,i,r)}))}saveMissing(t,e,i,s,o){let r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},n=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(!this.services?.utils?.hasLoadedNamespace||this.services?.utils?.hasLoadedNamespace(e)){if(null!=i&&""!==i){if(this.backend?.create){const a={...r,isUpdate:o},l=this.backend.create.bind(this.backend);if(l.length<6)try{let o;o=5===l.length?l(t,e,i,s,a):l(t,e,i,s),o&&"function"==typeof o.then?o.then((t=>n(null,t))).catch(n):n(null,o)}catch(t){n(t)}else l(t,e,i,s,n,a)}t&&t[0]&&this.store.addResource(t[0],e,i,s)}}else this.logger.warn(`did not save key "${i}" as the namespace "${e}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")}}const ne=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if("object"==typeof t[1]&&(e=t[1]),Et(t[1])&&(e.defaultValue=t[1]),Et(t[2])&&(e.tDescription=t[2]),"object"==typeof t[2]||"object"==typeof t[3]){const i=t[3]||t[2];Object.keys(i).forEach((t=>{e[t]=i[t]}))}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),ae=t=>(Et(t.ns)&&(t.ns=[t.ns]),Et(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),Et(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),"boolean"==typeof t.initImmediate&&(t.initAsync=t.initImmediate),t),le=()=>{};class ce extends Bt{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;var i;if(super(),this.options=ae(t),this.services={},this.logger=Gt,this.modules={external:[]},i=this,Object.getOwnPropertyNames(Object.getPrototypeOf(i)).forEach((t=>{"function"==typeof i[t]&&(i[t]=i[t].bind(i))})),e&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,e),this;setTimeout((()=>{this.init(t,e)}),0)}}init(){var t=this;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"==typeof e&&(i=e,e={}),null==e.defaultNS&&e.ns&&(Et(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const s=ne();this.options={...s,...this.options,...ae(e)},this.options.interpolation={...s.interpolation,...this.options.interpolation},void 0!==e.keySeparator&&(this.options.userDefinedKeySeparator=e.keySeparator),void 0!==e.nsSeparator&&(this.options.userDefinedNsSeparator=e.nsSeparator);const o=t=>t?"function"==typeof t?new t:t:null;if(!this.options.isClone){let e;this.modules.logger?Gt.init(o(this.modules.logger),this.options):Gt.init(null,this.options),e=this.modules.formatter?this.modules.formatter:oe;const i=new Yt(this.options);this.store=new Kt(this.options.resources,this.options);const r=this.services;r.logger=Gt,r.resourceStore=this.store,r.languageUtils=i,r.pluralResolver=new Xt(i,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!e||this.options.interpolation.format&&this.options.interpolation.format!==s.interpolation.format||(r.formatter=o(e),r.formatter.init(r,this.options),this.options.interpolation.format=r.formatter.format.bind(r.formatter)),r.interpolator=new ie(this.options),r.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},r.backendConnector=new re(o(this.modules.backend),r.resourceStore,r,this.options),r.backendConnector.on("*",(function(e){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];t.emit(e,...s)})),this.modules.languageDetector&&(r.languageDetector=o(this.modules.languageDetector),r.languageDetector.init&&r.languageDetector.init(r,this.options.detection,this.options)),this.modules.i18nFormat&&(r.i18nFormat=o(this.modules.i18nFormat),r.i18nFormat.init&&r.i18nFormat.init(this)),this.translator=new Jt(this.services,this.options),this.translator.on("*",(function(e){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];t.emit(e,...s)})),this.modules.external.forEach((t=>{t.init&&t.init(this)}))}if(this.format=this.options.interpolation.format,i||(i=le),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const t=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);t.length>0&&"dev"!==t[0]&&(this.options.lng=t[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((e=>{this[e]=function(){return t.store[e](...arguments)}}));["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((e=>{this[e]=function(){return t.store[e](...arguments),t}}));const r=xt(),n=()=>{const t=(t,e)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),r.resolve(e),i(t,e)};if(this.languages&&!this.isInitialized)return t(null,this.t.bind(this));this.changeLanguage(this.options.lng,t)};return this.options.resources||!this.options.initAsync?n():setTimeout(n,0),r}loadResources(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:le;const i=Et(t)?t:this.language;if("function"==typeof t&&(e=t),!this.options.resources||this.options.partialBundledLanguages){if("cimode"===i?.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return e();const t=[],s=e=>{if(!e)return;if("cimode"===e)return;this.services.languageUtils.toResolveHierarchy(e).forEach((e=>{"cimode"!==e&&t.indexOf(e)<0&&t.push(e)}))};if(i)s(i);else{this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((t=>s(t)))}this.options.preload?.forEach?.((t=>s(t))),this.services.backendConnector.load(t,this.options.ns,(t=>{t||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),e(t)}))}else e(null)}reloadResources(t,e,i){const s=xt();return"function"==typeof t&&(i=t,t=void 0),"function"==typeof e&&(i=e,e=void 0),t||(t=this.languages),e||(e=this.options.ns),i||(i=le),this.services.backendConnector.reload(t,e,(t=>{s.resolve(),i(t)})),s}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===t.type&&(this.modules.backend=t),("logger"===t.type||t.log&&t.warn&&t.error)&&(this.modules.logger=t),"languageDetector"===t.type&&(this.modules.languageDetector=t),"i18nFormat"===t.type&&(this.modules.i18nFormat=t),"postProcessor"===t.type&&zt.addPostProcessor(t),"formatter"===t.type&&(this.modules.formatter=t),"3rdParty"===t.type&&this.modules.external.push(t),this}setResolvedLanguage(t){if(t&&this.languages&&!(["cimode","dev"].indexOf(t)>-1))for(let t=0;t<this.languages.length;t++){const e=this.languages[t];if(!(["cimode","dev"].indexOf(e)>-1)&&this.store.hasLanguageSomeTranslations(e)){this.resolvedLanguage=e;break}}}changeLanguage(t,e){var i=this;this.isLanguageChangingTo=t;const s=xt();this.emit("languageChanging",t);const o=t=>{this.language=t,this.languages=this.services.languageUtils.toResolveHierarchy(t),this.resolvedLanguage=void 0,this.setResolvedLanguage(t)},r=(t,r)=>{r?(o(r),this.translator.changeLanguage(r),this.isLanguageChangingTo=void 0,this.emit("languageChanged",r),this.logger.log("languageChanged",r)):this.isLanguageChangingTo=void 0,s.resolve((function(){return i.t(...arguments)})),e&&e(t,(function(){return i.t(...arguments)}))},n=e=>{t||e||!this.services.languageDetector||(e=[]);const i=Et(e)?e:this.services.languageUtils.getBestMatchFromCodes(e);i&&(this.language||o(i),this.translator.language||this.translator.changeLanguage(i),this.services.languageDetector?.cacheUserLanguage?.(i)),this.loadResources(i,(t=>{r(t,i)}))};return t||!this.services.languageDetector||this.services.languageDetector.async?!t&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(n):this.services.languageDetector.detect(n):n(t):n(this.services.languageDetector.detect()),s}getFixedT(t,e,i){var s=this;const o=function(t,e){let r;if("object"!=typeof e){for(var n=arguments.length,a=new Array(n>2?n-2:0),l=2;l<n;l++)a[l-2]=arguments[l];r=s.options.overloadTranslationOptionHandler([t,e].concat(a))}else r={...e};r.lng=r.lng||o.lng,r.lngs=r.lngs||o.lngs,r.ns=r.ns||o.ns,""!==r.keyPrefix&&(r.keyPrefix=r.keyPrefix||i||o.keyPrefix);const c=s.options.keySeparator||".";let d;return d=r.keyPrefix&&Array.isArray(t)?t.map((t=>`${r.keyPrefix}${c}${t}`)):r.keyPrefix?`${r.keyPrefix}${c}${t}`:t,s.t(d,r)};return Et(t)?o.lng=t:o.lngs=t,o.ns=e,o.keyPrefix=i,o}t(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.translator?.translate(...e)}exists(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.translator?.exists(...e)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=e.lng||this.resolvedLanguage||this.languages[0],s=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===i.toLowerCase())return!0;const r=(t,e)=>{const i=this.services.backendConnector.state[`${t}|${e}`];return-1===i||0===i||2===i};if(e.precheck){const t=e.precheck(this,r);if(void 0!==t)return t}return!!this.hasResourceBundle(i,t)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!r(i,t)||s&&!r(o,t)))}loadNamespaces(t,e){const i=xt();return this.options.ns?(Et(t)&&(t=[t]),t.forEach((t=>{this.options.ns.indexOf(t)<0&&this.options.ns.push(t)})),this.loadResources((t=>{i.resolve(),e&&e(t)})),i):(e&&e(),Promise.resolve())}loadLanguages(t,e){const i=xt();Et(t)&&(t=[t]);const s=this.options.preload||[],o=t.filter((t=>s.indexOf(t)<0&&this.services.languageUtils.isSupportedCode(t)));return o.length?(this.options.preload=s.concat(o),this.loadResources((t=>{i.resolve(),e&&e(t)})),i):(e&&e(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!t)return"rtl";const e=this.services?.languageUtils||new Yt(ne());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(e.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){return new ce(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}cloneInstance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:le;const i=t.forkResourceStore;i&&delete t.forkResourceStore;const s={...this.options,...t,isClone:!0},o=new ce(s);void 0===t.debug&&void 0===t.prefix||(o.logger=o.logger.clone(t));if(["store","services","language"].forEach((t=>{o[t]=this[t]})),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},i){const t=Object.keys(this.store.data).reduce(((t,e)=>(t[e]={...this.store.data[e]},Object.keys(t[e]).reduce(((i,s)=>(i[s]={...t[e][s]},i)),{}))),{});o.store=new Kt(t,s),o.services.resourceStore=o.store}return o.translator=new Jt(o.services,s),o.translator.on("*",(function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),s=1;s<e;s++)i[s-1]=arguments[s];o.emit(t,...i)})),o.init(s,e),o.translator.options=s,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const de=ce.createInstance();function he(t,e,i,s){void 0===s&&(s="translation");let o=function(t){return"--"+t+"-override"}(s);var r={lng:e,fallbackLng:[i,e,...Object.keys(t)],debug:!1,ns:[o,s],defaultNS:s,fallbackNS:s,initImmediate:!1,initAsync:!1,resources:{},compatibilityJSON:"v4"};Object.keys(t).forEach((function(e){r.resources[e]={[s]:t[e]}}));var n=de.createInstance();return n.init(r),console.assert(n.isInitialized),n}de.createInstance=ce.createInstance,de.createInstance,de.dir,de.init,de.loadResources,de.reloadResources,de.use,de.changeLanguage,de.getFixedT,de.t,de.exists,de.setDefaultNamespace,de.hasLoadedNamespace,de.loadNamespaces,de.loadLanguages;var ue=window.CustomEvent;function pe(t,e){var i="on"+e.type.toLowerCase();return"function"==typeof t[i]&&t[i](e),t.dispatchEvent(e)}function ge(t){for(;t;){if("dialog"===t.localName)return t;t=t.parentElement?t.parentElement:t.parentNode?t.parentNode.host:null}return null}function fe(t){for(;t&&t.shadowRoot&&t.shadowRoot.activeElement;)t=t.shadowRoot.activeElement;t&&t.blur&&t!==document.body&&t.blur()}function me(t,e){for(var i=0;i<t.length;++i)if(t[i]===e)return!0;return!1}function be(t){return!(!t||!t.hasAttribute("method"))&&"dialog"===t.getAttribute("method").toLowerCase()}function ye(t){var e=["button","input","keygen","select","textarea"].map((function(t){return t+":not([disabled])"}));e.push('[tabindex]:not([disabled]):not([tabindex=""])');var i=t.querySelector(e.join(", "));if(!i&&"attachShadow"in Element.prototype)for(var s=t.querySelectorAll("*"),o=0;o<s.length&&!(s[o].tagName&&s[o].shadowRoot&&(i=ye(s[o].shadowRoot)));o++);return i}function ve(t){return t.isConnected||document.body.contains(t)}function _e(t){if(t.submitter)return t.submitter;var e=t.target;if(!(e instanceof HTMLFormElement))return null;var i=Se.formSubmitter;if(!i){var s=t.target;i=("getRootNode"in s&&s.getRootNode()||document).activeElement}return i&&i.form===e?i:null}function we(t){if(!t.defaultPrevented){var e=t.target,i=Se.imagemapUseValue,s=_e(t);null===i&&s&&(i=s.value);var o=ge(e);if(o)"dialog"===(s&&s.getAttribute("formmethod")||e.getAttribute("method"))&&(t.preventDefault(),null!=i?o.close(i):o.close())}}function ke(t){if(this.dialog_=t,this.replacedStyleTop_=!1,this.openAsModal_=!1,t.hasAttribute("role")||t.setAttribute("role","dialog"),t.show=this.show.bind(this),t.showModal=this.showModal.bind(this),t.close=this.close.bind(this),t.addEventListener("submit",we,!1),"returnValue"in t||(t.returnValue=""),"MutationObserver"in window){new MutationObserver(this.maybeHideModal.bind(this)).observe(t,{attributes:!0,attributeFilter:["open"]})}else{var e,i=!1,s=function(){i?this.downgradeModal():this.maybeHideModal(),i=!1}.bind(this),o=function(o){if(o.target===t){var r="DOMNodeRemoved";i|=o.type.substr(0,14)===r,window.clearTimeout(e),e=window.setTimeout(s,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach((function(e){t.addEventListener(e,o)}))}Object.defineProperty(t,"open",{set:this.setOpen.bind(this),get:t.hasAttribute.bind(t,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("mouseup",this.backdropMouseEvent_.bind(this)),this.backdrop_.addEventListener("mousedown",this.backdropMouseEvent_.bind(this)),this.backdrop_.addEventListener("click",this.backdropMouseEvent_.bind(this))}ue&&"object"!=typeof ue||(ue=function(t,e){e=e||{};var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,!!e.bubbles,!!e.cancelable,e.detail||null),i},ue.prototype=window.Event.prototype),ke.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&ve(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),Se.dm.removeDialog(this))},setOpen:function(t){t?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropMouseEvent_:function(t){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var e=document.createElement("div");this.dialog_.insertBefore(e,this.dialog_.firstChild),e.tabIndex=-1,e.focus(),this.dialog_.removeChild(e)}var i=document.createEvent("MouseEvents");i.initMouseEvent(t.type,t.bubbles,t.cancelable,window,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget),this.dialog_.dispatchEvent(i),t.stopPropagation()},focus_:function(){var t=this.dialog_.querySelector("[autofocus]:not([disabled])");!t&&this.dialog_.tabIndex>=0&&(t=this.dialog_),t||(t=ye(this.dialog_)),fe(document.activeElement),t&&t.focus()},updateZIndex:function(t,e){if(t<e)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=t,this.backdrop_.style.zIndex=e},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!ve(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!Se.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");(function(t){for(;t&&t!==document.body;){var e=window.getComputedStyle(t),i=function(t,i){return!(void 0===e[t]||e[t]===i)};if(e.opacity<1||i("zIndex","auto")||i("transform","none")||i("mixBlendMode","normal")||i("filter","none")||i("perspective","none")||"isolate"===e.isolation||"fixed"===e.position||"touch"===e.webkitOverflowScrolling)return!0;t=t.parentElement}return!1})(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,Se.needsCentering(this.dialog_)?(Se.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(t){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),void 0!==t&&(this.dialog_.returnValue=t);var e=new ue("close",{bubbles:!1,cancelable:!1});pe(this.dialog_,e)}};var Se={reposition:function(t){var e=document.body.scrollTop||document.documentElement.scrollTop,i=e+(window.innerHeight-t.offsetHeight)/2;t.style.top=Math.max(e,i)+"px"},isInlinePositionSetByStylesheet:function(t){for(var e=0;e<document.styleSheets.length;++e){var i=document.styleSheets[e],s=null;try{s=i.cssRules}catch(t){}if(s)for(var o=0;o<s.length;++o){var r=s[o],n=null;try{n=document.querySelectorAll(r.selectorText)}catch(t){}if(n&&me(n,t)){var a=r.style.getPropertyValue("top"),l=r.style.getPropertyValue("bottom");if(a&&"auto"!==a||l&&"auto"!==l)return!0}}}return!1},needsCentering:function(t){return"absolute"===window.getComputedStyle(t).position&&(!("auto"!==t.style.top&&""!==t.style.top||"auto"!==t.style.bottom&&""!==t.style.bottom)&&!Se.isInlinePositionSetByStylesheet(t))},forceRegisterDialog:function(t){if((window.HTMLDialogElement||t.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",t),"dialog"!==t.localName)throw new Error("Failed to register dialog: The element is not a dialog.");new ke(t)},registerDialog:function(t){t.showModal||Se.forceRegisterDialog(t)},DialogManager:function(){this.pendingDialogStack=[];var t=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",function(e){this.forwardTab_=void 0,e.stopPropagation(),t([])}.bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver((function(e){var i=[];e.forEach((function(t){for(var e,s=0;e=t.removedNodes[s];++s)e instanceof Element&&("dialog"===e.localName&&i.push(e),i=i.concat(e.querySelectorAll("dialog")))})),i.length&&t(i)})))}};if(Se.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},Se.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},Se.DialogManager.prototype.updateStacking=function(){for(var t,e=this.zIndexHigh_,i=0;t=this.pendingDialogStack[i];++i)t.updateZIndex(--e,--e),0===i&&(this.overlay.style.zIndex=--e);var s=this.pendingDialogStack[0];s?(s.dialog.parentNode||document.body).appendChild(this.overlay):this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},Se.DialogManager.prototype.containedByTopDialog_=function(t){for(;t=ge(t);){for(var e,i=0;e=this.pendingDialogStack[i];++i)if(e.dialog===t)return 0===i;t=t.parentElement}return!1},Se.DialogManager.prototype.handleFocus_=function(t){var e=t.composedPath?t.composedPath()[0]:t.target;if(!this.containedByTopDialog_(e)&&document.activeElement!==document.documentElement&&(t.preventDefault(),t.stopPropagation(),fe(e),void 0!==this.forwardTab_)){var i=this.pendingDialogStack[0];return i.dialog.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?i.focus_():e!==document.documentElement&&document.documentElement.focus()),!1}},Se.DialogManager.prototype.handleKey_=function(t){if(this.forwardTab_=void 0,27===t.keyCode){t.preventDefault(),t.stopPropagation();var e=new ue("cancel",{bubbles:!1,cancelable:!0}),i=this.pendingDialogStack[0];i&&pe(i.dialog,e)&&i.dialog.close()}else 9===t.keyCode&&(this.forwardTab_=!t.shiftKey)},Se.DialogManager.prototype.checkDOM_=function(t){this.pendingDialogStack.slice().forEach((function(e){-1!==t.indexOf(e.dialog)?e.downgradeModal():e.maybeHideModal()}))},Se.DialogManager.prototype.pushDialog=function(t){var e=(this.zIndexHigh_-this.zIndexLow_)/2-1;return!(this.pendingDialogStack.length>=e)&&(1===this.pendingDialogStack.unshift(t)&&this.blockDocument(),this.updateStacking(),!0)},Se.DialogManager.prototype.removeDialog=function(t){var e=this.pendingDialogStack.indexOf(t);-1!==e&&(this.pendingDialogStack.splice(e,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},Se.dm=new Se.DialogManager,Se.formSubmitter=null,Se.imagemapUseValue=null,void 0===window.HTMLDialogElement){var Ee=document.createElement("form");if(Ee.setAttribute("method","dialog"),"dialog"!==Ee.method){var xe=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(xe){var Ce=xe.get;xe.get=function(){return be(this)?"dialog":Ce.call(this)};var $e=xe.set;xe.set=function(t){return"string"==typeof t&&"dialog"===t.toLowerCase()?this.setAttribute("method",t):$e.call(this,t)},Object.defineProperty(HTMLFormElement.prototype,"method",xe)}}document.addEventListener("click",(function(t){if(Se.formSubmitter=null,Se.imagemapUseValue=null,!t.defaultPrevented){var e=t.target;if("composedPath"in t)e=t.composedPath().shift()||e;if(e&&be(e.form)){if(!("submit"===e.type&&["button","input"].indexOf(e.localName)>-1)){if("input"!==e.localName||"image"!==e.type)return;Se.imagemapUseValue=t.offsetX+","+t.offsetY}ge(e)&&(Se.formSubmitter=e)}}}),!1),document.addEventListener("submit",(function(t){var e=t.target;if(!ge(e)){var i=_e(t);"dialog"===(i&&i.getAttribute("formmethod")||e.getAttribute("method"))&&t.preventDefault()}}));var Ae=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){if(!be(this))return Ae.call(this);var t=ge(this);t&&t.close()}}gt(vt);var Oe={login:"Anmelden","login-failed":"Kommunikation mit dem Anmeldeserver fehlgeschlagen",logout:"Abmelden","logging-in":"Einloggen"},Le={login:"Login","login-failed":"Communication with the login server failed",logout:"Logout","logging-in":"Logging in"};function Pe(){return he({en:Le,de:Oe},"de","en")}class Re extends EventTarget{constructor(t,e,i,s,o,r){super(),this._baseURL=t,this._realm=e,this._clientId=i,this._keycloak=null,this._initPromise=null,this._silentCheckSsoUri=s,this._checkLoginIframe=o,this._idpHint=r,this._checkId=null,this.MIN_VALIDITY=20,this.CHECK_INTERVAL=10,this.DEBUG=!1,this._onVisibilityChanged=this._onVisibilityChanged.bind(this),document.addEventListener("visibilitychange",this._onVisibilityChanged)}close(){document.removeEventListener("visibilitychange",this._onVisibilityChanged)}_onVisibilityChanged(){"visible"===document.visibilityState&&this._keycloak.authenticated&&this._checkTokeHasExpired()}_onChanged(){const t=new CustomEvent("changed",{detail:this._keycloak,bubbles:!0,composed:!0});this.dispatchEvent(t)}_onReady(t){t&&this._onChanged()}async _onTokenExpired(){console.log("Token has expired");let t=!1;try{t=await this._keycloak.updateToken(-1)}catch(t){return void console.log("Failed to refresh the token",t)}console.assert(t,"token should have been refreshed")}async _checkTokeHasExpired(){let t,e=this.MIN_VALIDITY+this.CHECK_INTERVAL;this.DEBUG&&console.log(`Updating token if not valid for at least ${e}s`);try{t=await this._keycloak.updateToken(e)}catch(t){console.log("Failed to refresh the token",t)}this.DEBUG&&t&&console.log("token has been refreshed")}async _onAuthSuccess(){null!==this._checkId&&(clearInterval(this._checkId),this._checkId=null),this._checkId=setInterval(this._checkTokeHasExpired.bind(this),1e3*this.CHECK_INTERVAL),this._onChanged()}async _onAuthLogout(){null!==this._checkId&&(clearInterval(this._checkId),this._checkId=null),this._onChanged()}async _init(){const t=(await import("./shared/keycloak.DkF-y31F.es.js")).default;this._keycloak=new t({url:this._baseURL,realm:this._realm,clientId:this._clientId}),this._keycloak.onTokenExpired=this._onTokenExpired.bind(this),this._keycloak.onAuthRefreshSuccess=this._onChanged.bind(this),this._keycloak.onAuthRefreshError=this._onChanged.bind(this),this._keycloak.onAuthLogout=this._onAuthLogout.bind(this),this._keycloak.onAuthSuccess=this._onAuthSuccess.bind(this),this._keycloak.onAuthError=this._onChanged.bind(this),this._keycloak.onReady=this._onReady.bind(this);const e={promiseType:"native",pkceMethod:"S256"};this.DEBUG&&(e.enableLogging=!0),e.checkLoginIframe=this._checkLoginIframe,this._silentCheckSsoUri?(e.onLoad="check-sso",e.silentCheckSsoRedirectUri=function(t){try{return new URL(t).href}catch{return new URL(t,window.location.href).href}}(this._silentCheckSsoUri),await function(t,e){let i=new Promise(((e,i)=>{let s=setTimeout((()=>{clearTimeout(s),i("Timed out in "+t+"ms.")}),t)}));return Promise.race([e,i])}(5e3,this._keycloak.init(e)).catch((()=>{console.log("Login timed out"),this._onChanged()}))):await this._keycloak.init(e)}async _ensureInit(){return null===this._initPromise&&(this._initPromise=this._init()),this._initPromise}isLoggingIn(){const t=window.location.href;return t.search("[&#]state=")>=0&&t.search("[&#]session_state=")>=0}async login(t){await this._ensureInit();const e=(t=t||{}).lang||"en",i=t.scope||"";this._keycloak.authenticated||await this._keycloak.login({kcLocale:e,locale:e,scope:i,idpHint:this._idpHint})}async tryLogin(){await this._ensureInit()}async localLogout(){this._keycloak.clearToken()}async logout(){await this._ensureInit(),this._keycloak.logout()}}const Ne=Object.freeze({UNKNOWN:"unknown",LOGGING_IN:"logging-in",LOGGED_IN:"logged-in",LOGGING_OUT:"logging-out",LOGGED_OUT:"logged-out"});class Te extends yt{constructor(){super(),this.forceLogin=!1,this.token="",this.subject="",this.name="",this.tryLogin=!1,this.entryPointUrl="",this._user=null,this._userId="",this._authenticated=!1,this._loginStatus=Ne.UNKNOWN,this.requestedLoginStatus=Ne.UNKNOWN,this._i18n=Pe(),this.lang=this._i18n.language,this.keycloakUrl=null,this.realm=null,this.clientId=null,this.silentCheckSsoRedirectUri=null,this.noCheckLoginIframe=!1,this.scope=null,this.idpHint="",this._onKCChanged=this._onKCChanged.bind(this),window.playwright&&this.setAttribute("data-testid","dbp-auth-keycloak")}update(t){t.forEach(((t,e)=>{switch(e){case"lang":this._i18n.changeLanguage(this.lang);break;case"requestedLoginStatus":switch(console.log("requested-login-status changed",this.requestedLoginStatus),this.requestedLoginStatus){case Ne.LOGGED_IN:this._kcwrapper.login({lang:this.lang,scope:this.scope||""});break;case Ne.LOGGED_OUT:this._loginStatus===Ne.LOGGED_IN&&this._setLoginStatus(Ne.LOGGING_OUT),this._kcwrapper.logout(),this._loginStatus===Ne.LOGGING_OUT&&this._setLoginStatus(Ne.LOGGED_IN)}}})),super.update(t)}async _fetchUser(t){const e=(i=this.entryPointUrl,s=`/frontend/users/${encodeURIComponent(t)}`,i.endsWith("/")||(i+="/"),new URL(s.replace(/^\/+/,""),i).href);var i,s;let o=await fetch(e,{headers:{Authorization:"Bearer "+this.token}});if(!o.ok)throw o;return{roles:(await o.json()).roles??[]}}async _onKCChanged(t){const e=t.detail;if(this._authenticated=e.authenticated,e.authenticated){let t=this.token!==e.token;this.name=e.idTokenParsed.name,this.token=e.token,this.subject=e.subject;const i=e.idTokenParsed.preferred_username;let s=i!==this._userId;if(s){let t;this._userId=i;try{t=await this._fetchUser(i)}catch(e){console.error(e),t={roles:[]}}i===this._userId&&(this._user=t)}null!==this._user&&this._setLoginStatus(Ne.LOGGED_IN,t||s)}else this._loginStatus===Ne.LOGGED_IN&&this._setLoginStatus(Ne.LOGGING_OUT),this.name="",this.token="",this.subject="",this._userId="",this._user=null,this._setLoginStatus(Ne.LOGGED_OUT)}sendSetPropertyEvents(){const t={"login-status":this._loginStatus,subject:this.subject,token:this.token,"user-full-name":this.name,"user-id":this._userId,"person-id":this._userId,person:this._user};(window.Cypress||window.playwright)&&(window.DBPAuth=t,console.log("Cypress/Playwright detected")),this.setAttribute("data-auth-set","true"),this.sendSetPropertyEvent("auth",t)}_setLoginStatus(t,e){(this._loginStatus!==t||e)&&(this._loginStatus=t,this.sendSetPropertyEvents())}static get properties(){return{...super.properties,lang:{type:String},forceLogin:{type:Boolean,attribute:"force-login"},tryLogin:{type:Boolean,attribute:"try-login"},entryPointUrl:{type:String,attribute:"entry-point-url"},name:{type:String,attribute:!1},token:{type:String,attribute:!1},subject:{type:String,attribute:!1},_userId:{type:String,attribute:!1},_user:{type:Object,attribute:!1},_loginStatus:{type:String,attribute:!1},keycloakUrl:{type:String,attribute:"url"},realm:{type:String},clientId:{type:String,attribute:"client-id"},silentCheckSsoRedirectUri:{type:String,attribute:"silent-check-sso-redirect-uri"},scope:{type:String},idpHint:{type:String,attribute:"idp-hint"},requestedLoginStatus:{type:String,attribute:"requested-login-status"},noCheckLoginIframe:{type:Boolean,attribute:"no-check-login-iframe"}}}connectedCallback(){if(super.connectedCallback(),!this.keycloakUrl)throw Error("url not set");if(!this.realm)throw Error("realm not set");if(!this.clientId)throw Error("client-id not set");this._kcwrapper=new Re(this.keycloakUrl,this.realm,this.clientId,this.silentCheckSsoRedirectUri,!this.noCheckLoginIframe,this.idpHint),this._kcwrapper.addEventListener("changed",this._onKCChanged);(async()=>{try{this.forceLogin||this._kcwrapper.isLoggingIn()?(this._setLoginStatus(Ne.LOGGING_IN),await this._kcwrapper.login({lang:this.lang,scope:this.scope||""})):this.tryLogin?(this._setLoginStatus(Ne.LOGGING_IN),await this._kcwrapper.tryLogin(),this._authenticated||this._setLoginStatus(Ne.LOGGED_OUT)):this._setLoginStatus(Ne.LOGGED_OUT)}catch(t){throw this._setLoginStatus(Ne.LOGGED_OUT),function(t){const e=new CustomEvent("dbp-notification-send",{bubbles:!0,cancelable:!0,detail:t});window.dispatchEvent(e)&&(alert((void 0!==t.summary&&""!==t.summary?t.summary+": ":"")+t.body),console.log("Use the web component dbp-notification to show fancy notifications."))}({summary:this._i18n.t("login-failed"),type:"danger",timeout:5}),t}})()}disconnectedCallback(){this._kcwrapper.close(),this._kcwrapper.removeEventListener("changed",this._onKCChanged),super.disconnectedCallback()}}class Ie extends(gt(yt)){constructor(){super(),this._i18n=Pe(),this.lang=this._i18n.language,this.auth={}}static get scopedElements(){return{"dbp-mini-spinner":ct}}static get properties(){return{lang:{type:String},auth:{type:Object}}}connectedCallback(){super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback()}_onLoginClicked(t){this.sendSetPropertyEvent("requested-login-status",Ne.LOGGED_IN),t.preventDefault()}_onLogoutClicked(t){this.sendSetPropertyEvent("requested-login-status",Ne.LOGGED_OUT),t.preventDefault()}update(t){t.forEach(((t,e)=>{"lang"===e&&this._i18n.changeLanguage(this.lang)})),super.update(t)}static get styles(){return[mt(),a`
                :host {
                    display: inline-block;
                }

                a {
                    color: var(--dbp-content);
                    fill: var(--dbp-content);
                    cursor: pointer;
                    text-decoration: none;
                }

                .login-box {
                    display: flex;
                    align-items: center;
                    padding: 0.3em 0.4em;
                    transition: background-color 0.15s, color 0.15s;
                }

                .login-box svg,
                .icon {
                    width: 1.1em;
                    height: 1.1em;
                }

                .login-box svg,
                .spinner {
                    display: flex;
                }

                .login-box:hover svg path {
                    fill: var(--dbp-hover-color);
                }

                .login-box:hover {
                    color: var(--dbp-hover-color, var(--dbp-content));
                    background-color: var(--dbp-hover-background-color);
                    cursor: pointer;
                    transition: none;
                }

                .login-box .label {
                    padding-left: 0.2em;
                }
            `]}render(){let t=this._i18n;return this.auth["login-status"]===Ne.LOGGING_IN?B`
                <a href="#">
                    <div class="login-box login-button" aria-busy="true">
                        <div class="icon" aria-hidden="false" aria-label="${t.t("logging-in")}">
                            <dbp-mini-spinner class="spinner"></dbp-mini-spinner>
                        </div>
                        <div class="label" aria-hidden="true">&#8203;</div>
                    </div>
                </a>
            `:this.auth["login-status"]===Ne.LOGGED_IN?B`
                <a href="#" @click="${this._onLogoutClicked}">
                    <div class="login-box login-button">
                        <div class="icon" aria-hidden="true">${St('\n<svg\n   viewBox="0 0 100 100"\n   y="0px"\n   x="0px"\n   id="icon"\n   role="img"\n   version="1.1">\n<g\n   id="g6">\n  <path\n     d="m 20.749313,38.894934 -5.885859,6.967885 h 43.408213 c 1.839331,0 3.433418,1.741972 3.433418,4.064599 0,2.322628 -1.471465,4.064599 -3.433418,4.064599 H 14.863454 l 5.885859,6.967883 c 1.348843,1.596808 1.348843,4.064599 0,5.661406 -1.348843,1.596808 -3.433418,1.596808 -4.782261,0 L 1.9881356,49.927418 15.967052,33.378693 c 1.348843,-1.596806 3.433418,-1.596806 4.782261,0 1.348843,1.596807 1.348843,4.064599 0,5.516241 z"\n     id="path2"\n     style="stroke-width:1.33417916"\n     inkscape:connector-curvature="0" />\n  <path\n     style="stroke-width:0.67017764"\n     d="M 61.663665,16.308792 C 48.158763,16.560171 35.913199,25.828579 30.896087,38.197464 34.816744,37.806184 40.033349,39.91491 41.470306,35.017776 50.594944,21.215302 72.517616,20.362655 82.800384,33.07637 93.497261,44.618596 90.228387,65.093356 76.499603,72.791214 64.104901,80.786232 45.895432,75.593227 39.470306,62.310745 35.613955,62.60637 27.974792,60.593775 32.925384,66.267776 41.232037,82.878292 64.023613,89.46919 79.876556,79.765823 96.140149,70.989504 102.10102,48.145494 91.970306,32.629104 85.705979,22.257901 73.793809,15.772382 61.663665,16.308792 Z"\n     id="path4"\n     inkscape:connector-curvature="0" />\n</g>\n</svg>\n')}</div>
                        <div class="label">${t.t("logout")}</div>
                    </div>
                </a>
            `:B`
                <a href="#" @click="${this._onLoginClicked}">
                    <div class="login-box login-button">
                        <div class="icon" aria-hidden="true">${St('\n<svg\n   viewBox="0 0 100 100"\n   y="0px"\n   x="0px"\n   id="icon"\n   role="img"\n   version="1.1">\n<g\n   id="g6">\n    <path\n   style="stroke-width:1.33417916"\n   id="path2"\n   d="m 42.943908,38.894934 5.885859,6.967885 H 5.4215537 c -1.8393311,0 -3.4334181,1.741972 -3.4334181,4.064599 0,2.322628 1.4714649,4.064599 3.4334181,4.064599 H 48.829767 L 42.943908,60.9599 c -1.348843,1.596808 -1.348843,4.064599 0,5.661406 1.348843,1.596808 3.433418,1.596808 4.782261,0 L 61.705085,49.927418 47.726169,33.378693 c -1.348843,-1.596806 -3.433418,-1.596806 -4.782261,0 -1.348843,1.596807 -1.348843,4.064599 0,5.516241 z" />\n    <path\n   id="path4"\n   d="m 50,2.3007812 c -18.777325,0 -35.049449,10.9124408 -42.8261719,26.7246098 H 13.390625 C 20.672112,16.348362 34.336876,7.8007812 50,7.8007812 73.3,7.8007812 92.300781,26.7 92.300781,50 92.300781,73.3 73.3,92.300781 50,92.300781 c -15.673389,0 -29.345175,-8.60579 -36.623047,-21.326172 H 7.1640625 C 14.942553,86.8272 31.242598,97.800781 50.099609,97.800781 76.399609,97.800781 97.900391,76.4 97.900391,50 97.800391,23.7 76.3,2.3007812 50,2.3007812 Z" />\n</g>\n</svg>\n')}</div>
                        <div class="label">${t.t("login")}</div>
                    </div>
                </a>
            `}}class je extends(gt(yt)){constructor(){super(),this.auth={},this.lang="en",this.url="",this.realm="",this.clientId="",this.silentCheckSsoRedirectUri="",this.entryPointUrl=""}static get scopedElements(){return{"dbp-auth-keycloak":Te,"dbp-login-button":Ie}}static get properties(){return{...super.properties,auth:{type:Object},lang:{type:String},url:{type:String},realm:{type:String},clientId:{type:String,attribute:"client-id"},silentCheckSsoRedirectUri:{type:String,attribute:"silent-check-sso-redirect-uri"},entryPointUrl:{type:String,attribute:"entry-point-url"}}}update(t){t.forEach(((t,e)=>{if("auth"===e){const t=new CustomEvent("api-platform-auth-update",{detail:this.auth,bubbles:!0,composed:!0});window.dispatchEvent(t)}})),super.update(t)}render(){return B`
            <dbp-auth-keycloak subscribe="requested-login-status"
                               lang="${this.lang}"
                               entry-point-url="${this.entryPointUrl}"
                               silent-check-sso-redirect-uri="${this.silentCheckSsoRedirectUri}"
                               url="${this.url}"
                               realm="${this.realm}"
                               client-id="${this.clientId}"
                               try-login></dbp-auth-keycloak>
            <dbp-login-button subscribe="auth" lang="${this.lang}"></dbp-login-button>
        `}}((t,e,i)=>{if(customElements.get(t)===e)return!0;if(!("attachShadow"in Element.prototype&&"getRootNode"in Element.prototype&&window.customElements)){for(var s=document.getElementsByTagName(t),o=0;o<s.length;o++)s[o].innerHTML="<span style='border: 1px solid red; font-size: 0.8em; opacity: 0.5; padding: 0.2em;'>☹ Your browser is not supported ☹</span>";return!1}customElements.define(t,e,i)})("api-platform-auth",je);export{je as ApiPlatformAuth};
//# sourceMappingURL=api-platform-auth.js.map
