/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const e="undefined"!=typeof window&&null!=window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,t=(e,t,n=null)=>{for(;t!==n;){const n=t.nextSibling;e.removeChild(t),t=n}},n=`{{lit-${String(Math.random()).slice(2)}}}`,i=`\x3c!--${n}--\x3e`,r=new RegExp(`${n}|${i}`),s="$lit$";class o{constructor(e,t){this.parts=[],this.element=t;const i=[],o=[],l=document.createTreeWalker(t.content,133,null,!1);let p=0,d=-1,h=0;const{strings:g,values:{length:f}}=e;for(;h<f;){const e=l.nextNode();if(null!==e){if(d++,1===e.nodeType){if(e.hasAttributes()){const t=e.attributes,{length:n}=t;let i=0;for(let e=0;e<n;e++)a(t[e].name,s)&&i++;for(;i-- >0;){const t=g[h],n=u.exec(t)[2],i=n.toLowerCase()+s,o=e.getAttribute(i);e.removeAttribute(i);const a=o.split(r);this.parts.push({type:"attribute",index:d,name:n,strings:a}),h+=a.length-1}}"TEMPLATE"===e.tagName&&(o.push(e),l.currentNode=e.content)}else if(3===e.nodeType){const t=e.data;if(t.indexOf(n)>=0){const n=e.parentNode,o=t.split(r),l=o.length-1;for(let t=0;t<l;t++){let i,r=o[t];if(""===r)i=c();else{const e=u.exec(r);null!==e&&a(e[2],s)&&(r=r.slice(0,e.index)+e[1]+e[2].slice(0,-5)+e[3]),i=document.createTextNode(r)}n.insertBefore(i,e),this.parts.push({type:"node",index:++d})}""===o[l]?(n.insertBefore(c(),e),i.push(e)):e.data=o[l],h+=l}}else if(8===e.nodeType)if(e.data===n){const t=e.parentNode;null!==e.previousSibling&&d!==p||(d++,t.insertBefore(c(),e)),p=d,this.parts.push({type:"node",index:d}),null===e.nextSibling?e.data="":(i.push(e),d--),h++}else{let t=-1;for(;-1!==(t=e.data.indexOf(n,t+1));)this.parts.push({type:"node",index:-1}),h++}}else l.currentNode=o.pop()}for(const e of i)e.parentNode.removeChild(e)}}const a=(e,t)=>{const n=e.length-t.length;return n>=0&&e.slice(n)===t},l=e=>-1!==e.index,c=()=>document.createComment(""),u=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;function p(e,t){const{element:{content:n},parts:i}=e,r=document.createTreeWalker(n,133,null,!1);let s=h(i),o=i[s],a=-1,l=0;const c=[];let u=null;for(;r.nextNode();){a++;const e=r.currentNode;for(e.previousSibling===u&&(u=null),t.has(e)&&(c.push(e),null===u&&(u=e)),null!==u&&l++;void 0!==o&&o.index===a;)o.index=null!==u?-1:o.index-l,s=h(i,s),o=i[s]}c.forEach((e=>e.parentNode.removeChild(e)))}const d=e=>{let t=11===e.nodeType?0:1;const n=document.createTreeWalker(e,133,null,!1);for(;n.nextNode();)t++;return t},h=(e,t=-1)=>{for(let n=t+1;n<e.length;n++){const t=e[n];if(l(t))return n}return-1};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const g=new WeakMap,f=e=>"function"==typeof e&&g.has(e),b={},y={};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
class v{constructor(e,t,n){this.__parts=[],this.template=e,this.processor=t,this.options=n}update(e){let t=0;for(const n of this.__parts)void 0!==n&&n.setValue(e[t]),t++;for(const e of this.__parts)void 0!==e&&e.commit()}_clone(){const t=e?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),n=[],i=this.template.parts,r=document.createTreeWalker(t,133,null,!1);let s,o=0,a=0,c=r.nextNode();for(;o<i.length;)if(s=i[o],l(s)){for(;a<s.index;)a++,"TEMPLATE"===c.nodeName&&(n.push(c),r.currentNode=c.content),null===(c=r.nextNode())&&(r.currentNode=n.pop(),c=r.nextNode());if("node"===s.type){const e=this.processor.handleTextExpression(this.options);e.insertAfterNode(c.previousSibling),this.__parts.push(e)}else this.__parts.push(...this.processor.handleAttributeExpressions(c,s.name,s.strings,this.options));o++}else this.__parts.push(void 0),o++;return e&&(document.adoptNode(t),customElements.upgrade(t)),t}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const m=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:e=>e}),S=` ${n} `;class k{constructor(e,t,n,i){this.strings=e,this.values=t,this.type=n,this.processor=i}getHTML(){const e=this.strings.length-1;let t="",r=!1;for(let o=0;o<e;o++){const e=this.strings[o],a=e.lastIndexOf("\x3c!--");r=(a>-1||r)&&-1===e.indexOf("--\x3e",a+1);const l=u.exec(e);t+=null===l?e+(r?S:i):e.substr(0,l.index)+l[1]+l[2]+s+l[3]+n}return t+=this.strings[e],t}getTemplateElement(){const e=document.createElement("template");let t=this.getHTML();return void 0!==m&&(t=m.createHTML(t)),e.innerHTML=t,e}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const w=e=>null===e||!("object"==typeof e||"function"==typeof e),_=e=>Array.isArray(e)||!(!e||!e[Symbol.iterator]);class E{constructor(e,t,n){this.dirty=!0,this.element=e,this.name=t,this.strings=n,this.parts=[];for(let e=0;e<n.length-1;e++)this.parts[e]=this._createPart()}_createPart(){return new x(this)}_getValue(){const e=this.strings,t=e.length-1,n=this.parts;if(1===t&&""===e[0]&&""===e[1]){const e=n[0].value;if("symbol"==typeof e)return String(e);if("string"==typeof e||!_(e))return e}let i="";for(let r=0;r<t;r++){i+=e[r];const t=n[r];if(void 0!==t){const e=t.value;if(w(e)||!_(e))i+="string"==typeof e?e:String(e);else for(const t of e)i+="string"==typeof t?t:String(t)}}return i+=e[t],i}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class x{constructor(e){this.value=void 0,this.committer=e}setValue(e){e===b||w(e)&&e===this.value||(this.value=e,f(e)||(this.committer.dirty=!0))}commit(){for(;f(this.value);){const e=this.value;this.value=b,e(this)}this.value!==b&&this.committer.commit()}}class P{constructor(e){this.value=void 0,this.__pendingValue=void 0,this.options=e}appendInto(e){this.startNode=e.appendChild(c()),this.endNode=e.appendChild(c())}insertAfterNode(e){this.startNode=e,this.endNode=e.nextSibling}appendIntoPart(e){e.__insert(this.startNode=c()),e.__insert(this.endNode=c())}insertAfterPart(e){e.__insert(this.startNode=c()),this.endNode=e.endNode,e.endNode=this.startNode}setValue(e){this.__pendingValue=e}commit(){if(null===this.startNode.parentNode)return;for(;f(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=b,e(this)}const e=this.__pendingValue;e!==b&&(w(e)?e!==this.value&&this.__commitText(e):e instanceof k?this.__commitTemplateResult(e):e instanceof Node?this.__commitNode(e):_(e)?this.__commitIterable(e):e===y?(this.value=y,this.clear()):this.__commitText(e))}__insert(e){this.endNode.parentNode.insertBefore(e,this.endNode)}__commitNode(e){this.value!==e&&(this.clear(),this.__insert(e),this.value=e)}__commitText(e){const t=this.startNode.nextSibling,n="string"==typeof(e=null==e?"":e)?e:String(e);t===this.endNode.previousSibling&&3===t.nodeType?t.data=n:this.__commitNode(document.createTextNode(n)),this.value=e}__commitTemplateResult(e){const t=this.options.templateFactory(e);if(this.value instanceof v&&this.value.template===t)this.value.update(e.values);else{const n=new v(t,e.processor,this.options),i=n._clone();n.update(e.values),this.__commitNode(i),this.value=n}}__commitIterable(e){Array.isArray(this.value)||(this.value=[],this.clear());const t=this.value;let n,i=0;for(const r of e)n=t[i],void 0===n&&(n=new P(this.options),t.push(n),0===i?n.appendIntoPart(this):n.insertAfterPart(t[i-1])),n.setValue(r),n.commit(),i++;i<t.length&&(t.length=i,this.clear(n&&n.endNode))}clear(e=this.startNode){t(this.startNode.parentNode,e.nextSibling,this.endNode)}}class L{constructor(e,t,n){if(this.value=void 0,this.__pendingValue=void 0,2!==n.length||""!==n[0]||""!==n[1])throw new Error("Boolean attributes can only contain a single expression");this.element=e,this.name=t,this.strings=n}setValue(e){this.__pendingValue=e}commit(){for(;f(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=b,e(this)}if(this.__pendingValue===b)return;const e=!!this.__pendingValue;this.value!==e&&(e?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=e),this.__pendingValue=b}}class N extends E{constructor(e,t,n){super(e,t,n),this.single=2===n.length&&""===n[0]&&""===n[1]}_createPart(){return new C(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class C extends x{}let O=!1;(()=>{try{const e={get capture(){return O=!0,!1}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){}})();class R{constructor(e,t,n){this.value=void 0,this.__pendingValue=void 0,this.element=e,this.eventName=t,this.eventContext=n,this.__boundHandleEvent=e=>this.handleEvent(e)}setValue(e){this.__pendingValue=e}commit(){for(;f(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=b,e(this)}if(this.__pendingValue===b)return;const e=this.__pendingValue,t=this.value,n=null==e||null!=t&&(e.capture!==t.capture||e.once!==t.once||e.passive!==t.passive),i=null!=e&&(null==t||n);n&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),i&&(this.__options=T(e),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=e,this.__pendingValue=b}handleEvent(e){"function"==typeof this.value?this.value.call(this.eventContext||this.element,e):this.value.handleEvent(e)}}const T=e=>e&&(O?{capture:e.capture,passive:e.passive,once:e.once}:e.capture)
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */;function A(e){let t=I.get(e.type);void 0===t&&(t={stringsArray:new WeakMap,keyString:new Map},I.set(e.type,t));let i=t.stringsArray.get(e.strings);if(void 0!==i)return i;const r=e.strings.join(n);return i=t.keyString.get(r),void 0===i&&(i=new o(e,e.getTemplateElement()),t.keyString.set(r,i)),t.stringsArray.set(e.strings,i),i}const I=new Map,j=new WeakMap;
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const U=new
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
class{handleAttributeExpressions(e,t,n,i){const r=t[0];if("."===r){return new N(e,t.slice(1),n).parts}if("@"===r)return[new R(e,t.slice(1),i.eventContext)];if("?"===r)return[new L(e,t.slice(1),n)];return new E(e,t,n).parts}handleTextExpression(e){return new P(e)}};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.4.1");const F=(e,...t)=>new k(e,t,"html",U)
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */,V=(e,t)=>`${e}--${t}`;let D=!0;void 0===window.ShadyCSS?D=!1:void 0===window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),D=!1);const M=e=>t=>{const i=V(t.type,e);let r=I.get(i);void 0===r&&(r={stringsArray:new WeakMap,keyString:new Map},I.set(i,r));let s=r.stringsArray.get(t.strings);if(void 0!==s)return s;const a=t.strings.join(n);if(s=r.keyString.get(a),void 0===s){const n=t.getTemplateElement();D&&window.ShadyCSS.prepareTemplateDom(n,e),s=new o(t,n),r.keyString.set(a,s)}return r.stringsArray.set(t.strings,s),s},B=["html","svg"],H=new Set,G=(e,t,n)=>{H.add(e);const i=n?n.element:document.createElement("template"),r=t.querySelectorAll("style"),{length:s}=r;if(0===s)return void window.ShadyCSS.prepareTemplateStyles(i,e);const o=document.createElement("style");for(let e=0;e<s;e++){const t=r[e];t.parentNode.removeChild(t),o.textContent+=t.textContent}(e=>{B.forEach((t=>{const n=I.get(V(t,e));void 0!==n&&n.keyString.forEach((e=>{const{element:{content:t}}=e,n=new Set;Array.from(t.querySelectorAll("style")).forEach((e=>{n.add(e)})),p(e,n)}))}))})(e);const a=i.content;n?function(e,t,n=null){const{element:{content:i},parts:r}=e;if(null==n)return void i.appendChild(t);const s=document.createTreeWalker(i,133,null,!1);let o=h(r),a=0,l=-1;for(;s.nextNode();)for(l++,s.currentNode===n&&(a=d(t),n.parentNode.insertBefore(t,n));-1!==o&&r[o].index===l;){if(a>0){for(;-1!==o;)r[o].index+=a,o=h(r,o);return}o=h(r,o)}}(n,o,a.firstChild):a.insertBefore(o,a.firstChild),window.ShadyCSS.prepareTemplateStyles(i,e);const l=a.querySelector("style");if(window.ShadyCSS.nativeShadow&&null!==l)t.insertBefore(l.cloneNode(!0),t.firstChild);else if(n){a.insertBefore(o,a.firstChild);const e=new Set;e.add(o),p(n,e)}};window.JSCompiler_renameProperty=(e,t)=>e;const $={toAttribute(e,t){switch(t){case Boolean:return e?"":null;case Object:case Array:return null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){switch(t){case Boolean:return null!==e;case Number:return null===e?null:Number(e);case Object:case Array:return JSON.parse(e)}return e}},z=(e,t)=>t!==e&&(t==t||e==e),W={attribute:!0,type:String,converter:$,reflect:!1,hasChanged:z},q="finalized";class K extends HTMLElement{constructor(){super(),this.initialize()}static get observedAttributes(){this.finalize();const e=[];return this._classProperties.forEach(((t,n)=>{const i=this._attributeNameForProperty(n,t);void 0!==i&&(this._attributeToPropertyMap.set(i,n),e.push(i))})),e}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;const e=Object.getPrototypeOf(this)._classProperties;void 0!==e&&e.forEach(((e,t)=>this._classProperties.set(t,e)))}}static createProperty(e,t=W){if(this._ensureClassProperties(),this._classProperties.set(e,t),t.noAccessor||this.prototype.hasOwnProperty(e))return;const n="symbol"==typeof e?Symbol():`__${e}`,i=this.getPropertyDescriptor(e,n,t);void 0!==i&&Object.defineProperty(this.prototype,e,i)}static getPropertyDescriptor(e,t,n){return{get(){return this[t]},set(i){const r=this[e];this[t]=i,this.requestUpdateInternal(e,r,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this._classProperties&&this._classProperties.get(e)||W}static finalize(){const e=Object.getPrototypeOf(this);if(e.hasOwnProperty(q)||e.finalize(),this[q]=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){const e=this.properties,t=[...Object.getOwnPropertyNames(e),..."function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[]];for(const n of t)this.createProperty(n,e[n])}}static _attributeNameForProperty(e,t){const n=t.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof e?e.toLowerCase():void 0}static _valueHasChanged(e,t,n=z){return n(e,t)}static _propertyValueFromAttribute(e,t){const n=t.type,i=t.converter||$,r="function"==typeof i?i:i.fromAttribute;return r?r(e,n):e}static _propertyValueToAttribute(e,t){if(void 0===t.reflect)return;const n=t.type,i=t.converter;return(i&&i.toAttribute||$.toAttribute)(e,n)}initialize(){this._updateState=0,this._updatePromise=new Promise((e=>this._enableUpdatingResolver=e)),this._changedProperties=new Map,this._saveInstanceProperties(),this.requestUpdateInternal()}_saveInstanceProperties(){this.constructor._classProperties.forEach(((e,t)=>{if(this.hasOwnProperty(t)){const e=this[t];delete this[t],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(t,e)}}))}_applyInstanceProperties(){this._instanceProperties.forEach(((e,t)=>this[t]=e)),this._instanceProperties=void 0}connectedCallback(){this.enableUpdating()}enableUpdating(){void 0!==this._enableUpdatingResolver&&(this._enableUpdatingResolver(),this._enableUpdatingResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(e,t,n){t!==n&&this._attributeToProperty(e,n)}_propertyToAttribute(e,t,n=W){const i=this.constructor,r=i._attributeNameForProperty(e,n);if(void 0!==r){const e=i._propertyValueToAttribute(t,n);if(void 0===e)return;this._updateState=8|this._updateState,null==e?this.removeAttribute(r):this.setAttribute(r,e),this._updateState=-9&this._updateState}}_attributeToProperty(e,t){if(8&this._updateState)return;const n=this.constructor,i=n._attributeToPropertyMap.get(e);if(void 0!==i){const e=n.getPropertyOptions(i);this._updateState=16|this._updateState,this[i]=n._propertyValueFromAttribute(t,e),this._updateState=-17&this._updateState}}requestUpdateInternal(e,t,n){let i=!0;if(void 0!==e){const r=this.constructor;n=n||r.getPropertyOptions(e),r._valueHasChanged(this[e],t,n.hasChanged)?(this._changedProperties.has(e)||this._changedProperties.set(e,t),!0!==n.reflect||16&this._updateState||(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(e,n))):i=!1}!this._hasRequestedUpdate&&i&&(this._updatePromise=this._enqueueUpdate())}requestUpdate(e,t){return this.requestUpdateInternal(e,t),this.updateComplete}async _enqueueUpdate(){this._updateState=4|this._updateState;try{await this._updatePromise}catch(e){}const e=this.performUpdate();return null!=e&&await e,!this._hasRequestedUpdate}get _hasRequestedUpdate(){return 4&this._updateState}get hasUpdated(){return 1&this._updateState}performUpdate(){if(!this._hasRequestedUpdate)return;this._instanceProperties&&this._applyInstanceProperties();let e=!1;const t=this._changedProperties;try{e=this.shouldUpdate(t),e?this.update(t):this._markUpdated()}catch(t){throw e=!1,this._markUpdated(),t}e&&(1&this._updateState||(this._updateState=1|this._updateState,this.firstUpdated(t)),this.updated(t))}_markUpdated(){this._changedProperties=new Map,this._updateState=-5&this._updateState}get updateComplete(){return this._getUpdateComplete()}_getUpdateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._updatePromise}shouldUpdate(e){return!0}update(e){void 0!==this._reflectingProperties&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach(((e,t)=>this._propertyToAttribute(t,this[t],e))),this._reflectingProperties=void 0),this._markUpdated()}updated(e){}firstUpdated(e){}}K[q]=!0;
/**
@license
Copyright (c) 2019 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const J=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Y=Symbol();class X{constructor(e,t){if(t!==Y)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e}get styleSheet(){return void 0===this._styleSheet&&(J?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}toString(){return this.cssText}}const Z=(e,...t)=>{const n=t.reduce(((t,n,i)=>t+(e=>{if(e instanceof X)return e.cssText;if("number"==typeof e)return e;throw new Error(`Value passed to 'css' function must be a 'css' function result: ${e}. Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security.`)})(n)+e[i+1]),e[0]);return new X(n,Y)};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
(window.litElementVersions||(window.litElementVersions=[])).push("2.5.1");const Q={};class ee extends K{static getStyles(){return this.styles}static _getUniqueStyles(){if(this.hasOwnProperty(JSCompiler_renameProperty("_styles",this)))return;const e=this.getStyles();if(Array.isArray(e)){const t=(e,n)=>e.reduceRight(((e,n)=>Array.isArray(n)?t(n,e):(e.add(n),e)),n),n=t(e,new Set),i=[];n.forEach((e=>i.unshift(e))),this._styles=i}else this._styles=void 0===e?[]:[e];this._styles=this._styles.map((e=>{if(e instanceof CSSStyleSheet&&!J){const t=Array.prototype.slice.call(e.cssRules).reduce(((e,t)=>e+t.cssText),"");return new X(String(t),Y)}return e}))}initialize(){super.initialize(),this.constructor._getUniqueStyles(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow(this.constructor.shadowRootOptions)}adoptStyles(){const e=this.constructor._styles;0!==e.length&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow?J?this.renderRoot.adoptedStyleSheets=e.map((e=>e instanceof CSSStyleSheet?e:e.styleSheet)):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(e.map((e=>e.cssText)),this.localName))}connectedCallback(){super.connectedCallback(),this.hasUpdated&&void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this)}update(e){const t=this.render();super.update(e),t!==Q&&this.constructor.render(t,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach((e=>{const t=document.createElement("style");t.textContent=e.cssText,this.renderRoot.appendChild(t)})))}render(){return Q}}ee.finalized=!0,ee.render=(e,n,i)=>{if(!i||"object"!=typeof i||!i.scopeName)throw new Error("The `scopeName` option is required.");const r=i.scopeName,s=j.has(n),o=D&&11===n.nodeType&&!!n.host,a=o&&!H.has(r),l=a?document.createDocumentFragment():n;if(((e,n,i)=>{let r=j.get(n);void 0===r&&(t(n,n.firstChild),j.set(n,r=new P(Object.assign({templateFactory:A},i))),r.appendInto(n)),r.setValue(e),r.commit()})(e,l,Object.assign({templateFactory:M(r)},i)),a){const e=j.get(l);j.delete(l);const i=e.value instanceof v?e.value.template:void 0;G(r,l,i),t(n,n.firstChild),n.appendChild(l),j.set(n,e)}!s&&o&&window.ShadyCSS.styleElement(n.host)},ee.shadowRootOptions={mode:"open"};const te=new WeakMap;class ne{constructor(e){this._parent=e,this._cache=new Map}has(e){return!!(this._cache.has(e)||this._parent&&this._parent._cache.has(e))}set(e,t){return this._cache.set(e,t),this}get(e){return this._cache.get(e)||this._parent&&this._parent._cache.get(e)}}let ie=Math.round(1e5*Math.random());const re="-|\\.|[0-9]|[a-z]",se=new RegExp(`[a-z](${re})*-(${re})*`),oe=(e,t)=>{const n=`${e}-${ie+=1}`;return((e,t)=>!!t.get(e))(n,t)?oe(e,t):n};function ae(e,t=customElements){if(n=e,null===se.exec(n))throw new Error("tagName is invalid");var n;return oe(e,t)}const le=new WeakMap,ce=(e,t)=>le.set(t,e),ue=e=>le.get(e);const pe=(e,t,n=customElements)=>{ce(e,t),n.define(e,class extends t{})},de=(e,t,n)=>{const i=customElements;if(!function(e){let t=e;for(;t;){if(t===window.HTMLElement||"HTMLElement"===t.name)return!0;t=Object.getPrototypeOf(t)}return!1}(t))return((e,t,n)=>{const i=ae(e,t);if(!n)throw new Error("Lazy scoped elements requires the use of tags cache");return n.set(e,i),i})(e,i,n);if(t===customElements.get(e))return ce(e,t),e;const r=ae(e,i);return pe(r,t,i),r};function he(e,t,n=void 0){return ue(t)||n&&n.get(e)||de(e,t,n)}const ge="-|\\.|[0-9]|[a-z]",fe=new RegExp(`<\\/?([a-z](${ge})*-(${ge})*)`,"g"),be=new ne,ye=(e,t,n,i)=>{const r=e.map((e=>{let n=e;const r=(e=>{const t=[];let n;for(;null!==(n=fe.exec(e));)t.push(n);return t})(e);for(let e=r.length-1;e>=0;e-=1){const s=r[e],[o,a]=s,l=he(a,t[a],i),c=s.index+o.length-a.length,u=c+a.length,p=0===o.indexOf("</");n=n.slice(0,c)+(p?l:`${l} data-tag-name="${a}"`)+n.slice(u)}return n}));return n.set(e,r),r};let ve=!0;const{ShadyCSS:me}=window;(void 0===me||void 0===me.prepareTemplateDom)&&(ve=!1);const Se=new WeakMap,ke=new WeakMap,we=e=>(ke.has(e)||ke.set(e,new ne(ke.get(e.constructor))),ke.get(e)),_e=(e,t,n,i)=>e.map((e=>e instanceof k?Ee(e,t,n,i):Array.isArray(e)?_e(e,t,n,i):e)),Ee=(e,t,n,i)=>new k(function(e,t,n=be,i){return n.get(e)||ye(e,t,n,i)}(e.strings,t,n,i),_e(e.values,t,n,i),e.type,e.processor),xe=(e,t,i,r)=>s=>{const a=Ee(s,t,i,r);return(e=>t=>{const i=((e,t)=>`${e}--${t}`)(t.type,e);let r=I.get(i);void 0===r&&(r={stringsArray:new WeakMap,keyString:new Map},I.set(i,r));let s=r.stringsArray.get(t.strings);if(void 0!==s)return s;const a=t.strings.join(n);if(s=r.keyString.get(a),void 0===s){const n=t.getTemplateElement();ve&&me.prepareTemplateDom(n,e),s=new o(t,n),r.keyString.set(a,s)}return r.stringsArray.set(t.strings,s),s})(e)(a)},Pe=(Le=e=>class extends e{static get scopedElements(){return{}}static render(e,t,n){if(!n||"object"!=typeof n||!n.scopeName)throw new Error("The `scopeName` option is required.");const{scopeName:i,eventContext:r}=n,s=(o=r,Se.has(o)||Se.set(o,new ne(Se.get(o.constructor))),Se.get(o));var o;const a=we(r),{scopedElements:l}=this;return super.render(e,t,{...n,templateFactory:xe(i,l,s,a)})}defineScopedElement(e,t){return function(e,t,n){const i=n.get(e);i?void 0===customElements.get(i)&&pe(i,t,customElements):n.set(e,he(e,t,n))}(e,t,we(this))}static getScopedTagName(e){const t=this.scopedElements[e];return t?he(e,t,we(this)):we(this).get(e)}getScopedTagName(e){const t=this.constructor.scopedElements[e];return t?he(e,t,we(this)):we(this).get(e)}},e=>{if(function(e,t){let n=t;for(;n;){if(te.get(n)===e)return!0;n=Object.getPrototypeOf(n)}return!1}(Le,e))return e;const t=Le(e);return te.set(t,Le),t});var Le;function Ne(e){return Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ne(e)}function Ce(e){var t=function(e,t){if("object"!==Ne(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Ne(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ne(t)?t:String(t)}function Oe(e,t,n){return(t=Ce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&i.push.apply(i,Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach((function(t){Oe(e,t,n[t])}))}return e}function Te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ae(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Ce(i.key),i)}}function Ie(e,t,n){return t&&Ae(e.prototype,t),n&&Ae(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function je(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ue(e,t){if(t&&("object"===Ne(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return je(e)}function Fe(e){return Fe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Fe(e)}function Ve(e,t){return Ve=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ve(e,t)}function De(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ve(e,t)}var Me={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},Be=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Te(this,e),this.init(t,n)}return Ie(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||Me,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,i){return i&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,Re({},{prefix:"".concat(this.prefix,":").concat(t,":")},this.options))}}]),e}(),He=new Be,Ge=function(){function e(){Te(this,e),this.observers={}}return Ie(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this.observers[e]&&[].concat(this.observers[e]).forEach((function(e){e.apply(void 0,n)}));this.observers["*"]&&[].concat(this.observers["*"]).forEach((function(t){t.apply(t,[e].concat(n))}))}}]),e}();function $e(){var e,t,n=new Promise((function(n,i){e=n,t=i}));return n.resolve=e,n.reject=t,n}function ze(e){return null==e?"":""+e}function We(e,t,n){function i(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function r(){return!e||"string"==typeof e}for(var s="string"!=typeof t?[].concat(t):t.split(".");s.length>1;){if(r())return{};var o=i(s.shift());!e[o]&&n&&(e[o]=new n),e=Object.prototype.hasOwnProperty.call(e,o)?e[o]:{}}return r()?{}:{obj:e,k:i(s.shift())}}function qe(e,t,n){var i=We(e,t,Object);i.obj[i.k]=n}function Ke(e,t){var n=We(e,t),i=n.obj,r=n.k;if(i)return i[r]}function Je(e,t,n){var i=Ke(e,n);return void 0!==i?i:Ke(t,n)}function Ye(e,t,n){for(var i in t)"__proto__"!==i&&"constructor"!==i&&(i in e?"string"==typeof e[i]||e[i]instanceof String||"string"==typeof t[i]||t[i]instanceof String?n&&(e[i]=t[i]):Ye(e[i],t[i],n):e[i]=t[i]);return e}function Xe(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Ze={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function Qe(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(function(e){return Ze[e]})):e}var et="undefined"!=typeof window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1;function tt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t])return e[t];for(var i=t.split(n),r=e,s=0;s<i.length;++s){if(!r)return;if("string"==typeof r[i[s]]&&s+1<i.length)return;if(void 0===r[i[s]]){for(var o=2,a=i.slice(s,s+o).join(n),l=r[a];void 0===l&&i.length>s+o;)o++,l=r[a=i.slice(s,s+o).join(n)];if(void 0===l)return;if("string"==typeof l)return l;if(a&&"string"==typeof l[a])return l[a];var c=i.slice(s+o).join(n);return c?tt(l,c,n):void 0}r=r[i[s]]}return r}}var nt=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return Te(this,t),n=Ue(this,Fe(t).call(this)),et&&Ge.call(je(n)),n.data=e||{},n.options=i,void 0===n.options.keySeparator&&(n.options.keySeparator="."),void 0===n.options.ignoreJSONStructure&&(n.options.ignoreJSONStructure=!0),n}return De(t,Ge),Ie(t,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,s=void 0!==i.ignoreJSONStructure?i.ignoreJSONStructure:this.options.ignoreJSONStructure,o=[e,t];n&&"string"!=typeof n&&(o=o.concat(n)),n&&"string"==typeof n&&(o=o.concat(r?n.split(r):n)),e.indexOf(".")>-1&&(o=e.split("."));var a=Ke(this.data,o);return a||!s||"string"!=typeof n?a:tt(this.data&&this.data[e]&&this.data[e][t],n,r)}},{key:"addResource",value:function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},s=this.options.keySeparator;void 0===s&&(s=".");var o=[e,t];n&&(o=o.concat(s?n.split(s):n)),e.indexOf(".")>-1&&(i=t,t=(o=e.split("."))[1]),this.addNamespaces(t),qe(this.data,o,i),r.silent||this.emit("added",e,t,n,i)}},{key:"addResources",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var r in n)"string"!=typeof n[r]&&"[object Array]"!==Object.prototype.toString.apply(n[r])||this.addResource(e,t,r,n[r],{silent:!0});i.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,i,r){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},o=[e,t];e.indexOf(".")>-1&&(i=n,n=t,t=(o=e.split("."))[1]),this.addNamespaces(t);var a=Ke(this.data,o)||{};i?Ye(a,n,r):a=Re({},a,n),qe(this.data,o,a),s.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?Re({},{},this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"toJSON",value:function(){return this.data}}]),t}(),it={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,i,r){var s=this;return e.forEach((function(e){s.processors[e]&&(t=s.processors[e].process(t,n,i,r))})),t}},rt={},st=function(e){function t(e){var n,i,r,s,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Te(this,t),n=Ue(this,Fe(t).call(this)),et&&Ge.call(je(n)),i=["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],r=e,s=je(n),i.forEach((function(e){r[e]&&(s[e]=r[e])})),n.options=o,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n.logger=He.create("translator"),n}return De(t,Ge),Ie(t,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;var n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var i=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,r=t.ns||this.options.defaultNS;if(n&&e.indexOf(n)>-1){var s=e.match(this.interpolator.nestingRegexp);if(s&&s.length>0)return{key:e,namespaces:r};var o=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(o[0])>-1)&&(r=o.shift()),e=o.join(i)}return"string"==typeof r&&(r=[r]),{key:e,namespaces:r}}},{key:"translate",value:function(e,n,i){var r=this;if("object"!==Ne(n)&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),n||(n={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);var s=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,o=this.extractFromKey(e[e.length-1],n),a=o.key,l=o.namespaces,c=l[l.length-1],u=n.lng||this.language,p=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&"cimode"===u.toLowerCase()){if(p){var d=n.nsSeparator||this.options.nsSeparator;return c+d+a}return a}var h=this.resolve(e,n),g=h&&h.res,f=h&&h.usedKey||a,b=h&&h.exactUsedKey||a,y=Object.prototype.toString.apply(g),v=void 0!==n.joinArrays?n.joinArrays:this.options.joinArrays,m=!this.i18nFormat||this.i18nFormat.handleAsObject;if(m&&g&&("string"!=typeof g&&"boolean"!=typeof g&&"number"!=typeof g)&&["[object Number]","[object Function]","[object RegExp]"].indexOf(y)<0&&("string"!=typeof v||"[object Array]"!==y)){if(!n.returnObjects&&!this.options.returnObjects)return this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(f,g,Re({},n,{ns:l})):"key '".concat(a," (").concat(this.language,")' returned an object instead of string.");if(s){var S="[object Array]"===y,k=S?[]:{},w=S?b:f;for(var _ in g)if(Object.prototype.hasOwnProperty.call(g,_)){var E="".concat(w).concat(s).concat(_);k[_]=this.translate(E,Re({},n,{joinArrays:!1,ns:l})),k[_]===E&&(k[_]=g[_])}g=k}}else if(m&&"string"==typeof v&&"[object Array]"===y)(g=g.join(v))&&(g=this.extendTranslation(g,e,n,i));else{var x=!1,P=!1,L=void 0!==n.count&&"string"!=typeof n.count,N=t.hasDefaultValue(n),C=L?this.pluralResolver.getSuffix(u,n.count):"",O=n["defaultValue".concat(C)]||n.defaultValue;!this.isValidLookup(g)&&N&&(x=!0,g=O),this.isValidLookup(g)||(P=!0,g=a);var R=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&P?void 0:g,T=N&&O!==g&&this.options.updateMissing;if(P||x||T){if(this.logger.log(T?"updateKey":"missingKey",u,c,a,T?O:g),s){var A=this.resolve(a,Re({},n,{keySeparator:!1}));A&&A.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var I=[],j=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if("fallback"===this.options.saveMissingTo&&j&&j[0])for(var U=0;U<j.length;U++)I.push(j[U]);else"all"===this.options.saveMissingTo?I=this.languageUtils.toResolveHierarchy(n.lng||this.language):I.push(n.lng||this.language);var F=function(e,t,i){r.options.missingKeyHandler?r.options.missingKeyHandler(e,c,t,T?i:R,T,n):r.backendConnector&&r.backendConnector.saveMissing&&r.backendConnector.saveMissing(e,c,t,T?i:R,T,n),r.emit("missingKey",e,c,t,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&L?I.forEach((function(e){r.pluralResolver.getSuffixes(e).forEach((function(t){F([e],a+t,n["defaultValue".concat(t)]||O)}))})):F(I,a,O))}g=this.extendTranslation(g,e,n,h,i),P&&g===a&&this.options.appendNamespaceToMissingKey&&(g="".concat(c,":").concat(a)),(P||x)&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(g))}return g}},{key:"extendTranslation",value:function(e,t,n,i,r){var s=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,n,i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(Re({},n,{interpolation:Re({},this.options.interpolation,n.interpolation)}));var o,a=n.interpolation&&n.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;if(a){var l=e.match(this.interpolator.nestingRegexp);o=l&&l.length}var c=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(c=Re({},this.options.interpolation.defaultVariables,c)),e=this.interpolator.interpolate(e,c,n.lng||this.language,n),a){var u=e.match(this.interpolator.nestingRegexp);o<(u&&u.length)&&(n.nest=!1)}!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return r&&r[0]===i[0]&&!n.context?(s.logger.warn("It seems you are nesting recursively key: ".concat(i[0]," in key: ").concat(t[0])),null):s.translate.apply(s,i.concat([t]))}),n)),n.interpolation&&this.interpolator.reset()}var p=n.postProcess||this.options.postProcess,d="string"==typeof p?[p]:p;return null!=e&&d&&d.length&&!1!==n.applyPostProcessor&&(e=it.handle(d,e,t,this.options&&this.options.postProcessPassResolved?Re({i18nResolved:i},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,i,r,s,o=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((function(e){if(!o.isValidLookup(t)){var l=o.extractFromKey(e,a),c=l.key;n=c;var u=l.namespaces;o.options.fallbackNS&&(u=u.concat(o.options.fallbackNS));var p=void 0!==a.count&&"string"!=typeof a.count,d=void 0!==a.context&&("string"==typeof a.context||"number"==typeof a.context)&&""!==a.context,h=a.lngs?a.lngs:o.languageUtils.toResolveHierarchy(a.lng||o.language,a.fallbackLng);u.forEach((function(e){o.isValidLookup(t)||(s=e,!rt["".concat(h[0],"-").concat(e)]&&o.utils&&o.utils.hasLoadedNamespace&&!o.utils.hasLoadedNamespace(s)&&(rt["".concat(h[0],"-").concat(e)]=!0,o.logger.warn('key "'.concat(n,'" for languages "').concat(h.join(", "),'" won\'t get resolved as namespace "').concat(s,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),h.forEach((function(n){if(!o.isValidLookup(t)){r=n;var s,l,u=c,h=[u];if(o.i18nFormat&&o.i18nFormat.addLookupKeys)o.i18nFormat.addLookupKeys(h,c,n,e,a);else p&&(s=o.pluralResolver.getSuffix(n,a.count)),p&&d&&h.push(u+s),d&&h.push(u+="".concat(o.options.contextSeparator).concat(a.context)),p&&h.push(u+=s);for(;l=h.pop();)o.isValidLookup(t)||(i=l,t=o.getResource(n,e,l,a))}})))}))}})),{res:t,usedKey:n,exactUsedKey:i,usedLng:r,usedNS:s}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,i):this.resourceStore.getResource(e,t,n,i)}}],[{key:"hasDefaultValue",value:function(e){var t="defaultValue";for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,12)&&void 0!==e[n])return!0;return!1}}]),t}();function ot(e){return e.charAt(0).toUpperCase()+e.slice(1)}var at=function(){function e(t){Te(this,e),this.options=t,this.whitelist=this.options.supportedLngs||!1,this.supportedLngs=this.options.supportedLngs||!1,this.logger=He.create("languageUtils")}return Ie(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=ot(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=ot(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=ot(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isWhitelisted",value:function(e){return this.logger.deprecate("languageUtils.isWhitelisted",'function "isWhitelisted" will be renamed to "isSupportedCode" in the next major - please make sure to rename it\'s usage asap.'),this.isSupportedCode(e)}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var i=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(i)||(t=i)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var i=n.getLanguagePartFromCode(e);if(n.isSupportedCode(i))return t=i;t=n.options.supportedLngs.find((function(e){if(0===e.indexOf(i))return e}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,i=this.getFallbackCodes(t||this.options.fallbackLng||[],e),r=[],s=function(e){e&&(n.isSupportedCode(e)?r.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&s(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&s(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&s(this.getLanguagePartFromCode(e))):"string"==typeof e&&s(this.formatLanguageCode(e)),i.forEach((function(e){r.indexOf(e)<0&&s(n.formatLanguageCode(e))})),r}}]),e}(),lt=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],ct={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}};var ut=function(){function e(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Te(this,e),this.languageUtils=t,this.options=i,this.logger=He.create("pluralResolver"),this.rules=(n={},lt.forEach((function(e){e.lngs.forEach((function(t){n[t]={numbers:e.nr,plurals:ct[e.fc]}}))})),n)}return Ie(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=this.getRule(e);return t&&t.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){return this.getSuffixes(e).map((function(e){return t+e}))}},{key:"getSuffixes",value:function(e){var t=this,n=this.getRule(e);return n?n.numbers.map((function(n){return t.getSuffix(e,n)})):[]}},{key:"getSuffix",value:function(e,t){var n=this,i=this.getRule(e);if(i){var r=i.noAbs?i.plurals(t):i.plurals(Math.abs(t)),s=i.numbers[r];this.options.simplifyPluralSuffix&&2===i.numbers.length&&1===i.numbers[0]&&(2===s?s="plural":1===s&&(s=""));var o=function(){return n.options.prepend&&s.toString()?n.options.prepend+s.toString():s.toString()};return"v1"===this.options.compatibilityJSON?1===s?"":"number"==typeof s?"_plural_".concat(s.toString()):o():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===i.numbers.length&&1===i.numbers[0]?o():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}return this.logger.warn("no plural rule found for: ".concat(e)),""}}]),e}(),pt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Te(this,e),this.logger=He.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return Ie(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:Qe,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?Xe(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?Xe(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?Xe(t.nestingPrefix):t.nestingPrefixEscaped||Xe("$t("),this.nestingSuffix=t.nestingSuffix?Xe(t.nestingSuffix):t.nestingSuffixEscaped||Xe(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,i){var r,s,o,a=this,l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(e){return e.replace(/\$/g,"$$$$")}var u=function(e){if(e.indexOf(a.formatSeparator)<0){var r=Je(t,l,e);return a.alwaysFormat?a.format(r,void 0,n,Re({},i,t,{interpolationkey:e})):r}var s=e.split(a.formatSeparator),o=s.shift().trim(),c=s.join(a.formatSeparator).trim();return a.format(Je(t,l,o),c,n,Re({},i,t,{interpolationkey:o}))};this.resetRegExp();var p=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,d=i&&i.interpolation&&i.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return c(e)}},{regex:this.regexp,safeValue:function(e){return a.escapeValue?c(a.escape(e)):c(e)}}].forEach((function(t){for(o=0;r=t.regex.exec(e);){if(void 0===(s=u(r[1].trim())))if("function"==typeof p){var n=p(e,r,i);s="string"==typeof n?n:""}else{if(d){s=r[0];continue}a.logger.warn("missed to pass in variable ".concat(r[1]," for interpolating ").concat(e)),s=""}else"string"==typeof s||a.useRawValueToEscape||(s=ze(s));var l=t.safeValue(s);if(e=e.replace(r[0],l),d?(t.regex.lastIndex+=l.length,t.regex.lastIndex-=r[0].length):t.regex.lastIndex=0,++o>=a.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var n,i,r=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=Re({},s);function a(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var i=e.split(new RegExp("".concat(n,"[ ]*{"))),r="{".concat(i[1]);e=i[0],r=(r=this.interpolate(r,o)).replace(/'/g,'"');try{o=JSON.parse(r),t&&(o=Re({},t,o))}catch(t){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),t),"".concat(e).concat(n).concat(r)}return delete o.defaultValue,e}for(o.applyPostProcessor=!1,delete o.defaultValue;n=this.nestingRegexp.exec(e);){var l=[],c=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var u=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=u.shift(),l=u,c=!0}if((i=t(a.call(this,n[1].trim(),o),o))&&n[0]===e&&"string"!=typeof i)return i;"string"!=typeof i&&(i=ze(i)),i||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),i=""),c&&(i=l.reduce((function(e,t){return r.format(e,t,s.lng,Re({},s,{interpolationkey:n[1].trim()}))}),i.trim())),e=e.replace(n[0],i),this.regexp.lastIndex=0}return e}}]),e}();var dt=function(e){function t(e,n,i){var r,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Te(this,t),r=Ue(this,Fe(t).call(this)),et&&Ge.call(je(r)),r.backend=e,r.store=n,r.services=i,r.languageUtils=i.languageUtils,r.options=s,r.logger=He.create("backendConnector"),r.state={},r.queue=[],r.backend&&r.backend.init&&r.backend.init(i,s.backend,s),r}return De(t,Ge),Ie(t,[{key:"queueLoad",value:function(e,t,n,i){var r=this,s=[],o=[],a=[],l=[];return e.forEach((function(e){var i=!0;t.forEach((function(t){var a="".concat(e,"|").concat(t);!n.reload&&r.store.hasResourceBundle(e,t)?r.state[a]=2:r.state[a]<0||(1===r.state[a]?o.indexOf(a)<0&&o.push(a):(r.state[a]=1,i=!1,o.indexOf(a)<0&&o.push(a),s.indexOf(a)<0&&s.push(a),l.indexOf(t)<0&&l.push(t)))})),i||a.push(e)})),(s.length||o.length)&&this.queue.push({pending:o,loaded:{},errors:[],callback:i}),{toLoad:s,pending:o,toLoadLanguages:a,toLoadNamespaces:l}}},{key:"loaded",value:function(e,t,n){var i=e.split("|"),r=i[0],s=i[1];t&&this.emit("failedLoading",r,s,t),n&&this.store.addResourceBundle(r,s,n),this.state[e]=t?-1:2;var o={};this.queue.forEach((function(n){var i,a,l,c,u,p;i=n.loaded,a=s,c=We(i,[r],Object),u=c.obj,p=c.k,u[p]=u[p]||[],l&&(u[p]=u[p].concat(a)),l||u[p].push(a),function(e,t){for(var n=e.indexOf(t);-1!==n;)e.splice(n,1),n=e.indexOf(t)}(n.pending,e),t&&n.errors.push(t),0!==n.pending.length||n.done||(Object.keys(n.loaded).forEach((function(e){o[e]||(o[e]=[]),n.loaded[e].length&&n.loaded[e].forEach((function(t){o[e].indexOf(t)<0&&o[e].push(t)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",o),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var i=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:350,o=arguments.length>5?arguments[5]:void 0;return e.length?this.backend[n](e,t,(function(a,l){a&&l&&r<5?setTimeout((function(){i.read.call(i,e,t,n,r+1,2*s,o)}),s):o(a,l)})):o(null,{})}},{key:"prepareLoading",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var s=this.queueLoad(e,t,i,r);if(!s.toLoad.length)return s.pending.length||r(),null;s.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=e.split("|"),r=i[0],s=i[1];this.read(r,s,"read",void 0,void 0,(function(i,o){i&&t.logger.warn("".concat(n,"loading namespace ").concat(s," for language ").concat(r," failed"),i),!i&&o&&t.logger.log("".concat(n,"loaded namespace ").concat(s," for language ").concat(r),o),t.loaded(e,i,o)}))}},{key:"saveMissing",value:function(e,t,n,i,r){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(e,t,n,i,null,Re({},s,{isUpdate:r})),e&&e[0]&&this.store.addResource(e[0],t,n,i))}}]),t}();function ht(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.whitelist&&(e.whitelist&&e.whitelist.indexOf("cimode")<0&&(e.whitelist=e.whitelist.concat(["cimode"])),e.supportedLngs=e.whitelist),e.nonExplicitWhitelist&&(e.nonExplicitSupportedLngs=e.nonExplicitWhitelist),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function gt(){}var ft=new(function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if(Te(this,t),e=Ue(this,Fe(t).call(this)),et&&Ge.call(je(e)),e.options=ht(n),e.services={},e.logger=He,e.modules={external:[]},i&&!e.isInitialized&&!n.isClone){if(!e.options.initImmediate)return e.init(n,i),Ue(e,je(e));setTimeout((function(){e.init(n,i)}),0)}return e}return De(t,Ge),Ie(t,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;function i(e){return e?"function"==typeof e?new e:e:null}if("function"==typeof t&&(n=t,t={}),t.whitelist&&!t.supportedLngs&&this.logger.deprecate("whitelist",'option "whitelist" will be renamed to "supportedLngs" in the next major - please make sure to rename this option asap.'),t.nonExplicitWhitelist&&!t.nonExplicitSupportedLngs&&this.logger.deprecate("whitelist",'options "nonExplicitWhitelist" will be renamed to "nonExplicitSupportedLngs" in the next major - please make sure to rename this option asap.'),this.options=Re({},{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===Ne(e[1])&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"===Ne(e[2])||"object"===Ne(e[3])){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,n,i){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!1}},this.options,ht(t)),this.format=this.options.interpolation.format,n||(n=gt),!this.options.isClone){this.modules.logger?He.init(i(this.modules.logger),this.options):He.init(null,this.options);var r=new at(this.options);this.store=new nt(this.options.resources,this.options);var s=this.services;s.logger=He,s.resourceStore=this.store,s.languageUtils=r,s.pluralResolver=new ut(r,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),s.interpolator=new pt(this.options),s.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},s.backendConnector=new dt(i(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",(function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.emit.apply(e,[t].concat(i))})),this.modules.languageDetector&&(s.languageDetector=i(this.modules.languageDetector),s.languageDetector.init(s,this.options.detection,this.options)),this.modules.i18nFormat&&(s.i18nFormat=i(this.modules.i18nFormat),s.i18nFormat.init&&s.i18nFormat.init(this)),this.translator=new st(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.emit.apply(e,[t].concat(i))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var o=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);o.length>0&&"dev"!==o[0]&&(this.options.lng=o[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}}));["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments),e}}));var a=$e(),l=function(){var t=function(t,i){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),a.resolve(i),n(t,i)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?l():setTimeout(l,0),a}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt,i="string"==typeof e?e:this.language;if("function"==typeof e&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&"cimode"===i.toLowerCase())return n();var r=[],s=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){r.indexOf(e)<0&&r.push(e)}))};if(i)s(i);else this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((function(e){return s(e)}));this.options.preload&&this.options.preload.forEach((function(e){return s(e)})),this.services.backendConnector.load(r,this.options.ns,n)}else n(null)}},{key:"reloadResources",value:function(e,t,n){var i=$e();return e||(e=this.languages),t||(t=this.options.ns),n||(n=gt),this.services.backendConnector.reload(e,t,(function(e){i.resolve(),n(e)})),i}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&it.addPostProcessor(e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"changeLanguage",value:function(e,t){var n=this;this.isLanguageChangingTo=e;var i=$e();this.emit("languageChanging",e);var r=function(r){e||r||!n.services.languageDetector||(r=[]);var s="string"==typeof r?r:n.services.languageUtils.getBestMatchFromCodes(r);s&&(n.language||(n.language=s,n.languages=n.services.languageUtils.toResolveHierarchy(s)),n.translator.language||n.translator.changeLanguage(s),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(s)),n.loadResources(s,(function(e){!function(e,r){r?(n.language=r,n.languages=n.services.languageUtils.toResolveHierarchy(r),n.translator.changeLanguage(r),n.isLanguageChangingTo=void 0,n.emit("languageChanged",r),n.logger.log("languageChanged",r)):n.isLanguageChangingTo=void 0,i.resolve((function(){return n.t.apply(n,arguments)})),t&&t(e,(function(){return n.t.apply(n,arguments)}))}(e,s)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(r):r(e):r(this.services.languageDetector.detect()),i}},{key:"getFixedT",value:function(e,t,n){var i=this,r=function e(t,r){var s;if("object"!==Ne(r)){for(var o=arguments.length,a=new Array(o>2?o-2:0),l=2;l<o;l++)a[l-2]=arguments[l];s=i.options.overloadTranslationOptionHandler([t,r].concat(a))}else s=Re({},r);s.lng=s.lng||e.lng,s.lngs=s.lngs||e.lngs,s.ns=s.ns||e.ns;var c=i.options.keySeparator||".",u=n?"".concat(n).concat(c).concat(t):t;return i.t(u,s)};return"string"==typeof e?r.lng=e:r.lngs=e,r.ns=t,r.keyPrefix=n,r}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var i=this.languages[0],r=!!this.options&&this.options.fallbackLng,s=this.languages[this.languages.length-1];if("cimode"===i.toLowerCase())return!0;var o=function(e,n){var i=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===i||2===i};if(n.precheck){var a=n.precheck(this,o);if(void 0!==a)return a}return!!this.hasResourceBundle(i,e)||(!this.services.backendConnector.backend||!(!o(i,e)||r&&!o(s,e)))}},{key:"loadNamespaces",value:function(e,t){var n=this,i=$e();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){i.resolve(),t&&t(e)})),i):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=$e();"string"==typeof e&&(e=[e]);var i=this.options.preload||[],r=e.filter((function(e){return i.indexOf(e)<0}));return r.length?(this.options.preload=i.concat(r),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){if(e||(e=this.languages&&this.languages.length>0?this.languages[0]:this.language),!e)return"rtl";return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>=0?"rtl":"ltr"}},{key:"createInstance",value:function(){return new t(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}},{key:"cloneInstance",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt,r=Re({},this.options,n,{isClone:!0}),s=new t(r);return["store","services","language"].forEach((function(t){s[t]=e[t]})),s.services=Re({},this.services),s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s.translator=new st(s.services,s.options),s.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];s.emit.apply(s,[e].concat(n))})),s.init(r,i),s.translator.options=s.options,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages}}}]),t}());function bt(e,t,n,i){void 0===i&&(i="translation");let r=function(e){return"--"+e+"-override"}(i);var s={lng:t,fallbackLng:[n,t,...Object.keys(e)],debug:!1,ns:[r,i],defaultNS:i,fallbackNS:i,initImmediate:!1,resources:{}};Object.keys(e).forEach((function(t){s.resources[t]={[i]:e[t]}}));var o=ft.createInstance();return o.init(s),console.assert(o.isInitialized),o}var yt={login:"Anmelden",logout:"Abmelden"},vt={login:"Login",logout:"Logout"};function mt(){return bt({en:vt,de:yt},"de","en")}var St={error:{summary:"Ein Fehler ist aufgetreten","connection-to-server-refused":"Verbindungs zum Server verweigert!"},jsonld:{"error-api-server":"Verbindung zum API Server {{apiUrl}} fehlgeschlagen!","error-hydra-documentation-url-not-set":"Hydra apiDocumentation URL wurden fr server {{apiUrl}} nicht gesetzt!","api-documentation-server":"Verbindung zum apiDocumentation API Server {{apiDocUrl}} fehlgeschlagen!"}},kt={error:{summary:"An error occurred","connection-to-server-refused":"Connection to server refused!"},jsonld:{"error-api-server":"Connection to api server {{apiUrl}} failed!","error-hydra-documentation-url-not-set":"Hydra apiDocumentation url was not set for server {{apiUrl}}!","api-documentation-server":"Connection to apiDocumentation server {{apiDocUrl}} failed!"}};class wt{constructor(e,t){this.entities=t,this.baseApiUrl=e;let n={};for(const e in t){n[t[e]["@id"]]=e}this.idToEntityNameMatchList=n}static async getInstance(e,t="de"){let n=wt.promises[e];return void 0===n&&(n=new Promise(((n,i)=>{wt._initialize(e,(e=>n(e)),(e=>i(e)),t)})),wt.promises[e]=n),n}static initialize(e,t,n,i="de"){console.warn("DEPRECATED: JSONLD.initialize(), use JSONLD.getInstance() instead"),wt._initialize(e,t,n,i)}static doInitializationOnce(e){console.warn("DEPRECATED: JSONLD.doInitializationOnce() calls can be removed")}static _initialize(e,t,n,i="de"){wt._i18n.changeLanguage(i),void 0===wt.instances[e]?(void 0===wt.successFunctions[e]&&(wt.successFunctions[e]=[]),void 0===wt.failureFunctions[e]&&(wt.failureFunctions[e]=[]),"function"==typeof t&&wt.successFunctions[e].push(t),"function"==typeof n&&wt.failureFunctions[e].push(n),e&&void 0===wt.initStarted[e]&&(wt.initStarted[e]=!0,wt._doInitialization(e))):"function"==typeof t&&t(wt.instances[e])}static _doInitialization(e){const t=new XMLHttpRequest,n=wt._i18n;t.open("GET",e,!0),t.onreadystatechange=function(){if(4===t.readyState)if(200===t.status){const i=JSON.parse(t.responseText);let r={};for(let e in i)e.startsWith("@")||(r[e.toLowerCase()]=i[e]);const s=(e=>{if(0===e.length)throw new Error("input must not be of zero length");const t=e.split(","),n={};for(let e=0;e<t.length;e++){const i=t[e].split(";");if(2!==i.length)throw new Error("section could not be split on ';'");const r=i[0].replace(/<(.*)>/,"$1").trim();n[i[1].replace(/rel="(.*)"/,"$1").trim()]=r}return n})(this.getResponseHeader("link")),o=s["http://www.w3.org/ns/hydra/core#apiDocumentation"];if(void 0!==o){const t=new XMLHttpRequest;t.open("GET",o,!0),t.setRequestHeader("Content-Type","application/json"),t.onreadystatechange=function(){4===t.readyState&&(200===t.status?wt._gatherEntities(t,e,r):wt._executeFailureFunctions(e,n.t("jsonld.api-documentation-server",{apiUrl:o})))},t.send()}else wt._executeFailureFunctions(e,n.t("jsonld.error-hydra-documentation-url-not-set",{apiUrl:e}))}else wt._executeFailureFunctions(e,n.t("jsonld.error-api-server",{apiUrl:e}))},t.send()}static _gatherEntities(e,t,n){const i=JSON.parse(e.responseText)["hydra:supportedClass"];let r={};const s=(e=>{const t=e.split("/");return t[0]+"//"+t[2]})(t);i.forEach((function(e){const t=e["hydra:title"];let i=n[t.toLowerCase()];void 0===i||i.startsWith("http")||(i=s+i),e["@entryPoint"]=i,r[t]=e}));const o=new wt(s,r);if(wt.instances[t]=o,void 0!==wt.successFunctions[t])for(const e of wt.successFunctions[t])"function"==typeof e&&e(o);wt.successFunctions[t]=[]}static _executeFailureFunctions(e,t=""){const n=wt._i18n;if(void 0!==wt.failureFunctions[e])for(const n of wt.failureFunctions[e])"function"==typeof n&&n(new Error(t));wt.failureFunctions[e]=[],""!==t&&function(e){const t=new CustomEvent("dbp-notification-send",{bubbles:!0,cancelable:!0,detail:e});window.dispatchEvent(t)&&(alert((void 0!==e.summary&&""!==e.summary?e.summary+": ":"")+e.body),console.log("Use the web component dbp-notification to show fancy notifications."))}({summary:n.t("error.summary"),body:t,type:"danger"})}getEntityForIdentifier(e){let t=this.getEntityNameForIdentifier(e);return this.getEntityForEntityName(t)}getEntityForEntityName(e){return this.entities[e]}getApiUrlForIdentifier(e){const t=this.getEntityForIdentifier(e);if(void 0===t||void 0===t["@entryPoint"])throw new Error(`Entity with identifier "${e}" not found!`);return t["@entryPoint"]}getApiUrlForEntityName(e){const t=this.getEntityForEntityName(e);if(void 0===t||void 0===t["@entryPoint"])throw new Error(`Entity "${e}" not found!`);return t["@entryPoint"]}getEntityNameForIdentifier(e){return this.idToEntityNameMatchList[e]}getApiIdentifierList(){let e=[];for(const t in this.idToEntityNameMatchList)e.push(t);return e}expandMember(e,t){void 0===t&&(t=e["@context"]);let n={"@id":e["@id"]};for(const i of Object.keys(t)){const r=t[i];void 0!==e[i]&&(n[r]=e[i])}return n}compactMember(e,t){let n={};for(const i in t){const r=e[t[i]];void 0!==r&&(n[i]=r)}return n}transformMembers(e,t){const n=e["hydra:member"];if(void 0===n||0===n.length)return[];const i=e["@context"];let r=[],s=this;return n.forEach((function(e){r.push(s.compactMember(s.expandMember(e,i),t))})),r}}function _t(e,t,...n){if(!e)throw new TypeError(Et(t,n))}function Et(e,t){let n=0;return e.replace(/%[os]/gu,(()=>xt(t[n++])))}function xt(e){return"object"!=typeof e||null===e?String(e):Object.prototype.toString.call(e)}wt._i18n=bt({en:kt,de:St},"de","en"),wt.instances={},wt.successFunctions={},wt.failureFunctions={},wt.initStarted={},wt.promises={};const Pt="undefined"!=typeof window?window:"undefined"!=typeof self?self:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:void 0;class Lt{constructor(e,t){this.code=e,this.message=t}warn(...e){var t;try{undefined;const n=(null!==(t=(new Error).stack)&&void 0!==t?t:"").replace(/^(?:.+?\n){2}/gu,"\n");console.warn(this.message,...e,n)}catch(e){}}}const Nt=new Lt("W01","Unable to initialize event under dispatching."),Ct=new Lt("W02","Assigning any falsy value to 'cancelBubble' property has no effect."),Ot=new Lt("W03","Assigning any truthy value to 'returnValue' property has no effect."),Rt=new Lt("W04","Unable to preventDefault on non-cancelable events."),Tt=new Lt("W05","Unable to preventDefault inside passive event listener invocation."),At=new Lt("W06","An event listener wasn't added because it has been added already: %o, %o"),It=new Lt("W07","The %o option value was abandoned because the event listener wasn't added as duplicated."),jt=new Lt("W08","The 'callback' argument must be a function or an object that has 'handleEvent' method: %o");class Ut{static get NONE(){return Ft}static get CAPTURING_PHASE(){return Vt}static get AT_TARGET(){return Dt}static get BUBBLING_PHASE(){return Mt}constructor(e,t){Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});const n=null!=t?t:{};Bt.set(this,{type:String(e),bubbles:Boolean(n.bubbles),cancelable:Boolean(n.cancelable),composed:Boolean(n.composed),target:null,currentTarget:null,stopPropagationFlag:!1,stopImmediatePropagationFlag:!1,canceledFlag:!1,inPassiveListenerFlag:!1,dispatchFlag:!1,timeStamp:Date.now()})}get type(){return Ht(this).type}get target(){return Ht(this).target}get srcElement(){return Ht(this).target}get currentTarget(){return Ht(this).currentTarget}composedPath(){const e=Ht(this).currentTarget;return e?[e]:[]}get NONE(){return Ft}get CAPTURING_PHASE(){return Vt}get AT_TARGET(){return Dt}get BUBBLING_PHASE(){return Mt}get eventPhase(){return Ht(this).dispatchFlag?2:0}stopPropagation(){Ht(this).stopPropagationFlag=!0}get cancelBubble(){return Ht(this).stopPropagationFlag}set cancelBubble(e){e?Ht(this).stopPropagationFlag=!0:Ct.warn()}stopImmediatePropagation(){const e=Ht(this);e.stopPropagationFlag=e.stopImmediatePropagationFlag=!0}get bubbles(){return Ht(this).bubbles}get cancelable(){return Ht(this).cancelable}get returnValue(){return!Ht(this).canceledFlag}set returnValue(e){e?Ot.warn():Gt(Ht(this))}preventDefault(){Gt(Ht(this))}get defaultPrevented(){return Ht(this).canceledFlag}get composed(){return Ht(this).composed}get isTrusted(){return!1}get timeStamp(){return Ht(this).timeStamp}initEvent(e,t=!1,n=!1){const i=Ht(this);i.dispatchFlag?Nt.warn():Bt.set(this,{...i,type:String(e),bubbles:Boolean(t),cancelable:Boolean(n),target:null,currentTarget:null,stopPropagationFlag:!1,stopImmediatePropagationFlag:!1,canceledFlag:!1})}}const Ft=0,Vt=1,Dt=2,Mt=3,Bt=new WeakMap;function Ht(e,t="this"){const n=Bt.get(e);return _t(null!=n,"'%s' must be an object that Event constructor created, but got another one: %o",t,e),n}function Gt(e){e.inPassiveListenerFlag?Tt.warn():e.cancelable?e.canceledFlag=!0:Rt.warn()}Object.defineProperty(Ut,"NONE",{enumerable:!0}),Object.defineProperty(Ut,"CAPTURING_PHASE",{enumerable:!0}),Object.defineProperty(Ut,"AT_TARGET",{enumerable:!0}),Object.defineProperty(Ut,"BUBBLING_PHASE",{enumerable:!0});const $t=Object.getOwnPropertyNames(Ut.prototype);for(let e=0;e<$t.length;++e)"constructor"!==$t[e]&&Object.defineProperty(Ut.prototype,$t[e],{enumerable:!0});let zt;void 0!==Pt&&void 0!==Pt.Event&&Object.setPrototypeOf(Ut.prototype,Pt.Event.prototype);const Wt={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25};function qt(e){const t=Object.keys(Wt);for(let n=0;n<t.length;++n){const i=t[n],r=Wt[i];Object.defineProperty(e,i,{get:()=>r,configurable:!0,enumerable:!0})}}class Kt extends Ut{static wrap(e){return new(Zt(e))(e)}constructor(e){super(e.type,{bubbles:e.bubbles,cancelable:e.cancelable,composed:e.composed}),e.cancelBubble&&super.stopPropagation(),e.defaultPrevented&&super.preventDefault(),Jt.set(this,{original:e});const t=Object.keys(e);for(let n=0;n<t.length;++n){const i=t[n];i in this||Object.defineProperty(this,i,Qt(e,i))}}stopPropagation(){super.stopPropagation();const{original:e}=Yt(this);"stopPropagation"in e&&e.stopPropagation()}get cancelBubble(){return super.cancelBubble}set cancelBubble(e){super.cancelBubble=e;const{original:t}=Yt(this);"cancelBubble"in t&&(t.cancelBubble=e)}stopImmediatePropagation(){super.stopImmediatePropagation();const{original:e}=Yt(this);"stopImmediatePropagation"in e&&e.stopImmediatePropagation()}get returnValue(){return super.returnValue}set returnValue(e){super.returnValue=e;const{original:t}=Yt(this);"returnValue"in t&&(t.returnValue=e)}preventDefault(){super.preventDefault();const{original:e}=Yt(this);"preventDefault"in e&&e.preventDefault()}get timeStamp(){const{original:e}=Yt(this);return"timeStamp"in e?e.timeStamp:super.timeStamp}}const Jt=new WeakMap;function Yt(e){const t=Jt.get(e);return _t(null!=t,"'this' is expected an Event object, but got",e),t}const Xt=new WeakMap;function Zt(e){const t=Object.getPrototypeOf(e);if(null==t)return Kt;let n=Xt.get(t);return null==n&&(n=function(e,t){class n extends e{}const i=Object.keys(t);for(let e=0;e<i.length;++e)Object.defineProperty(n.prototype,i[e],Qt(t,i[e]));return n}(Zt(t),t),Xt.set(t,n)),n}function Qt(e,t){const n=Object.getOwnPropertyDescriptor(e,t);return{get(){const e=Yt(this).original,n=e[t];return"function"==typeof n?n.bind(e):n},set(e){Yt(this).original[t]=e},configurable:n.configurable,enumerable:n.enumerable}}function en(e){return 1==(1&e.flags)}function tn(e){return 2==(2&e.flags)}function nn(e){return 4==(4&e.flags)}function rn(e){return 8==(8&e.flags)}function sn({callback:e},t,n){try{"function"==typeof e?e.call(t,n):"function"==typeof e.handleEvent&&e.handleEvent(n)}catch(e){!function(e){try{const t=e instanceof Error?e:new Error(xt(e));if("function"==typeof dispatchEvent&&"function"==typeof ErrorEvent)dispatchEvent(new ErrorEvent("error",{error:t,message:t.message}));else if("undefined"!=typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",t);console.error(t)}catch(e){}}(e)}}function on({listeners:e},t,n){for(let i=0;i<e.length;++i)if(e[i].callback===t&&en(e[i])===n)return i;return-1}function an(e,t,n){const i=on(e,t,n);return-1!==i&&ln(e,i)}function ln(e,t,n=!1){const i=e.listeners[t];return function(e){e.flags|=8}(i),i.signal&&i.signal.removeEventListener("abort",i.signalListener),e.cow&&!n?(e.cow=!1,e.listeners=e.listeners.filter(((e,n)=>n!==t)),!1):(e.listeners.splice(t,1),!0)}Xt.set(Object.prototype,Kt),void 0!==Pt&&void 0!==Pt.Event&&Xt.set(Pt.Event.prototype,Kt);class cn{constructor(){un.set(this,Object.create(null))}addEventListener(e,t,n){const i=pn(this),{callback:r,capture:s,once:o,passive:a,signal:l,type:c}=function(e,t,n){var i;if(dn(t),"object"==typeof n&&null!==n)return{type:String(e),callback:null!=t?t:void 0,capture:Boolean(n.capture),passive:Boolean(n.passive),once:Boolean(n.once),signal:null!==(i=n.signal)&&void 0!==i?i:void 0};return{type:String(e),callback:null!=t?t:void 0,capture:Boolean(n),passive:!1,once:!1,signal:void 0}}(e,t,n);if(null==r||(null==l?void 0:l.aborted))return;const u=function(e,t){var n;return null!==(n=e[t])&&void 0!==n?n:e[t]={attrCallback:void 0,attrListener:void 0,cow:!1,listeners:[]}}(i,c),p=on(u,r,s);-1===p?function(e,t,n,i,r,s){let o;s&&(o=an.bind(null,e,t,n),s.addEventListener("abort",o));const a=function(e,t,n,i,r,s){return{callback:e,flags:(t?1:0)|(n?2:0)|(i?4:0),signal:r,signalListener:s}}(t,n,i,r,s,o);e.cow?(e.cow=!1,e.listeners=[...e.listeners,a]):e.listeners.push(a)}(u,r,s,a,o,l):function(e,t,n,i){At.warn(en(e)?"capture":"bubble",e.callback),tn(e)!==t&&It.warn("passive");nn(e)!==n&&It.warn("once");e.signal!==i&&It.warn("signal")}(u.listeners[p],a,o,l)}removeEventListener(e,t,n){const i=pn(this),{callback:r,capture:s,type:o}=function(e,t,n){if(dn(t),"object"==typeof n&&null!==n)return{type:String(e),callback:null!=t?t:void 0,capture:Boolean(n.capture)};return{type:String(e),callback:null!=t?t:void 0,capture:Boolean(n)}}(e,t,n),a=i[o];null!=r&&a&&an(a,r,s)}dispatchEvent(e){const t=pn(this)[String(e.type)];if(null==t)return!0;const n=e instanceof Ut?e:Kt.wrap(e),i=Ht(n,"event");if(i.dispatchFlag)throw r="This event has been in dispatching.",Pt.DOMException?new Pt.DOMException(r,"InvalidStateError"):(null==zt&&(zt=class e extends Error{constructor(t){super(t),Error.captureStackTrace&&Error.captureStackTrace(this,e)}get code(){return 11}get name(){return"InvalidStateError"}},Object.defineProperties(zt.prototype,{code:{enumerable:!0},name:{enumerable:!0}}),qt(zt),qt(zt.prototype)),new zt(r));var r;if(i.dispatchFlag=!0,i.target=i.currentTarget=this,!i.stopPropagationFlag){const{cow:e,listeners:r}=t;t.cow=!0;for(let s=0;s<r.length;++s){const o=r[s];if(!rn(o)&&(nn(o)&&ln(t,s,!e)&&(s-=1),i.inPassiveListenerFlag=tn(o),sn(o,this,n),i.inPassiveListenerFlag=!1,i.stopImmediatePropagationFlag))break}e||(t.cow=!1)}return i.target=null,i.currentTarget=null,i.stopImmediatePropagationFlag=!1,i.stopPropagationFlag=!1,i.dispatchFlag=!1,!i.canceledFlag}}const un=new WeakMap;function pn(e,t="this"){const n=un.get(e);return _t(null!=n,"'%s' must be an object that EventTarget constructor created, but got another one: %o",t,e),n}function dn(e){if("function"!=typeof e&&("object"!=typeof e||null===e||"function"!=typeof e.handleEvent)){if(null!=e&&"object"!=typeof e)throw new TypeError(Et(jt.message,[e]));jt.warn(e)}}const hn=Object.getOwnPropertyNames(cn.prototype);for(let e=0;e<hn.length;++e)"constructor"!==hn[e]&&Object.defineProperty(cn.prototype,hn[e],{enumerable:!0});async function gn(e){const t=e+"/js/keycloak.min.js";return await import(t),void 0!==gn._keycloakMod||(gn._keycloakMod=window.Keycloak,delete window.Keycloak),gn._keycloakMod}void 0!==Pt&&void 0!==Pt.EventTarget&&Object.setPrototypeOf(cn.prototype,Pt.EventTarget.prototype);class fn extends cn{constructor(e,t,n,i,r){super(),this._baseURL=e,this._realm=t,this._clientId=n,this._keycloak=null,this._initDone=!1,this._silentCheckSsoUri=i,this._idpHint=r,this._checkId=null,this.MIN_VALIDITY=20,this.CHECK_INTERVAL=10,this.DEBUG=!1,this._onVisibilityChanged=this._onVisibilityChanged.bind(this),document.addEventListener("visibilitychange",this._onVisibilityChanged)}close(){document.removeEventListener("visibilitychange",this._onVisibilityChanged)}_onVisibilityChanged(){"visible"===document.visibilityState&&this._keycloak.authenticated&&this._checkTokeHasExpired()}_onChanged(){const e=new CustomEvent("changed",{detail:this._keycloak,bubbles:!0,composed:!0});this.dispatchEvent(e)}_onReady(e){e&&this._onChanged()}async _onTokenExpired(){console.log("Token has expired");let e=!1;try{e=await this._keycloak.updateToken(-1)}catch(e){return void console.log("Failed to refresh the token",e)}console.assert(e,"token should have been refreshed")}async _checkTokeHasExpired(){let e,t=this.MIN_VALIDITY+this.CHECK_INTERVAL;this.DEBUG&&console.log(`Updating token if not valid for at least ${t}s`);try{e=await this._keycloak.updateToken(t)}catch(e){console.log("Failed to refresh the token",e)}this.DEBUG&&e&&console.log("token has been refreshed")}async _onAuthSuccess(){null!==this._checkId&&(clearInterval(this._checkId),this._checkId=null),this._checkId=setInterval(this._checkTokeHasExpired.bind(this),1e3*this.CHECK_INTERVAL),this._onChanged()}async _onAuthLogout(){null!==this._checkId&&(clearInterval(this._checkId),this._checkId=null),this._onChanged()}async _ensureInstance(){if(null!==this._keycloak)return;const e=await gn(this._baseURL);this._keycloak=e({url:this._baseURL,realm:this._realm,clientId:this._clientId}),this._keycloak.onTokenExpired=this._onTokenExpired.bind(this),this._keycloak.onAuthRefreshSuccess=this._onChanged.bind(this),this._keycloak.onAuthRefreshError=this._onChanged.bind(this),this._keycloak.onAuthLogout=this._onAuthLogout.bind(this),this._keycloak.onAuthSuccess=this._onAuthSuccess.bind(this),this._keycloak.onAuthError=this._onChanged.bind(this),this._keycloak.onReady=this._onReady.bind(this)}async _keycloakInit(e){try{return await this._keycloak.init(e)}catch(t){return await this._keycloak.init(e)}}async _ensureInit(){if(await this._ensureInstance(),this._initDone)return;this._initDone=!0;const e={promiseType:"native",pkceMethod:"S256"};this.DEBUG&&(e.enableLogging=!0),this._silentCheckSsoUri?(e.onLoad="check-sso",e.silentCheckSsoRedirectUri=function(e){try{return new URL(e).href}catch(t){return new URL(e,window.location.href).href}}(this._silentCheckSsoUri),await function(e,t){let n=new Promise(((t,n)=>{let i=setTimeout((()=>{clearTimeout(i),n("Timed out in "+e+"ms.")}),e)}));return Promise.race([t,n])}(5e3,this._keycloakInit(e)).catch((()=>{console.log("Login timed out"),this._onChanged()}))):await this._keycloakInit(e)}isLoggingIn(){const e=window.location.href;return e.search("[&#]state=")>=0&&e.search("[&#]session_state=")>=0}async login(e){await this._ensureInit();const t=(e=e||{}).lang||"en",n=e.scope||"";this._keycloak.authenticated||await this._keycloak.login({kcLocale:t,locale:t,scope:n,idpHint:this._idpHint})}async tryLogin(){await this._ensureInit()}async localLogout(){this._keycloak.clearToken()}async logout(){await this._ensureInit(),this._keycloak.logout()}}const bn=Object.freeze({UNKNOWN:"unknown",LOGGING_IN:"logging-in",LOGGED_IN:"logged-in",LOGGING_OUT:"logging-out",LOGGED_OUT:"logged-out"});class yn extends ee{constructor(){super(),this.text=""}static get properties(){return{text:{type:String}}}static get styles(){return Z`
        .outer {
            display: inline-block;
            vertical-align: sub;
        }
        .inner {
            display: flex;
        }
        .ring {
          display: inline-block;
          position: relative;
          width: 1em;
          height: 1em;
        }
        .ring div {
          box-sizing: border-box;
          display: block;
          position: absolute;
          width: 100%;
          height: 100%;
          border: 0.2em solid currentColor;
          border-radius: 50%;
          animation: ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;
          border-color: currentColor transparent transparent transparent;
        }
        .ring div:nth-child(1) {
          animation-delay: -0.45s;
        }
        .ring div:nth-child(2) {
          animation-delay: -0.3s;
        }
        .ring div:nth-child(3) {
          animation-delay: -0.15s;
        }
        @keyframes ring {
          0% {
            transform: rotate(0deg);
          }
          100% {
            transform: rotate(360deg);
          }
        }
        .text {
            display: inline-block;
            margin-left: 0.5em;
            font-size: 0.7em;
        }`}render(){const e=""!==this.text?F`<div class="text">${this.text}</div>`:F``;return F`<div class="outer"><div class="inner"><div class="ring"><div></div><div></div><div></div><div></div></div>${e}</div></div>`}}function vn(){return Z`
        :host {
            --dbp-primary-bg-color: var(--dbp-override-primary-bg-color, #007bff);
            --dbp-primary-text-color: var(--dbp-override-primary-text-color, #fff);
            --dbp-primary-button-border: var(--dbp-override-primary-button-border, #007bff);
            --dbp-secondary-bg-color: var(--dbp-override-secondary-bg-color, #6c757d);
            --dbp-secondary-text-color: var(--dbp-override-secondary-text-color, #fff);
            --dbp-info-bg-color: var(--dbp-override-info-bg-color, #17a2b8);
            --dbp-info-text-color: var(--dbp-override-info-text-color, #fff);
            --dbp-success-bg-color: var(--dbp-override-success-bg-color, #28a745);
            --dbp-success-text-color: var(--dbp-override-success-text-color, #fff);
            --dbp-warning-bg-color: var(--dbp-override-warning-bg-color, #ffc107);
            --dbp-warning-text-color: var(--dbp-override-warning-text-color, #343a40);
            --dbp-danger-bg-color: var(--dbp-override-danger-bg-color, #dc3545);
            --dbp-danger-text-color: var(--dbp-override-danger-text-color, #fff);
            --dbp-light: var(--dbp-override-light, #f8f9fa);
            --dbp-dark: var(--dbp-override-dark, #343a40);
            --dbp-muted-text: var(--dbp-override-muted-text, #6c757d);
            --dbp-border-radius: var(--dbp-override-border-radius, 0px);
            --dbp-border-width: var(--dbp-override-border-width, 1px);
            --dbp-border-color: var(--dbp-override-border-color, #000);
            --dbp-placeholder-color: #777;
            --dbp-downloaded-bg-color: var(--dbp-override-downloaded-bg-color, #c8dcc8);
        }
    `}class mn extends(Pe(ee)){constructor(){super(),this.value="",this.type="",this.spinner=!1,this.noSpinnerOnClick=!1,this.disabled=!1}static get scopedElements(){return{"dbp-mini-spinner":yn}}connectedCallback(){super.connectedCallback()}static get properties(){return{value:{type:String},type:{type:String},spinner:{type:Boolean},noSpinnerOnClick:{type:Boolean,attribute:"no-spinner-on-click"},disabled:{type:Boolean,reflect:!0}}}clickHandler(){this.noSpinnerOnClick||this.start()}start(){this.spinner=!0,this.disabled=!0}stop(){this.spinner=!1,this.disabled=!1}isDisabled(){return this.disabled}static get styles(){return Z`
            ${vn()}
            ${getButtonCSS()}

            .spinner { margin-left: 0.5em; }
        `}render(){return F`
            <button @click="${this.clickHandler}" class="button ${this.type}" ?disabled="${this.disabled}">
                ${this.value} <dbp-mini-spinner class="spinner" style="display: ${this.spinner?"inline":"none"}"></dbp-mini-spinner>
            </button>
        `}}class Sn extends(Pe(ee)){constructor(){super(),this.value="",this.type="",this.loading=!1,this.disabled=!1,this.addEventListener("click",(e=>{this.disabled&&e.stopImmediatePropagation()}))}static get scopedElements(){return{"dbp-mini-spinner":yn}}static get properties(){return{value:{type:String},type:{type:String},loading:{type:Boolean},disabled:{type:Boolean,reflect:!0}}}start(){this.loading=!0,this.disabled=!0}stop(){this.loading=!1,this.disabled=!1}static get styles(){return Z`
            ${vn()}
            ${getButtonCSS()}

            .spinner {
                padding-left: 0.5em;
                min-width: 16px;
            }

            .loading-container {
                display: flex;
                align-items: baseline;
            }

            .label {
                white-space: nowrap;
                overflow: hidden;
                text-overflow: ellipsis;
            }

            :host {
                display: inline-block;
            }

            .is-not-loading .label {
                padding-left: 12px;
                padding-right: 12px;
            }

            .button {
                width: 100%;
            }
        `}render(){return F`
            <button class="button ${this.type} loading-container ${this.loading?"":"is-not-loading"}" ?disabled="${this.disabled}">
               <div class="label"><slot>${this.value}</slot></div> <dbp-mini-spinner class="spinner" style="display: ${this.loading?"inline":"none"}"></dbp-mini-spinner>
            </button>
        `}}const kn=new class{get debug(){return window.location.hash.includes("debug")?console.debug:()=>{}}};class wn extends ee{constructor(){super(),this.connected=!1,this.deferSubscribe=!1,this.deferUnSubscribe=!1,this.reflectAttribute=!0,this.subscribe="",this.unsubscribe="",this.callbackStore=[],this.propertyStore={},this.lastProperties={},kn.debug("AdapterLitElement("+this.tagName+") constructor()")}getProperty(e){return this.propertyStore[e]}getPropertyByAttributeName(e){return this[this.findPropertyName(e)]}setPropertyByAttributeName(e,t){this[this.findPropertyName(e)]=t}setProperty(e,t){"object"==typeof t&&null!==t?this.setPropertyByAttributeName(e,t):this.attributeChangedCallback(e,this.getPropertyByAttributeName(e),t),this.lastProperties[e]=t,this.propertyStore[e]=t}hasPropertyChanged(e,t){return this.lastProperties[e]!==t}hasProperty(e){return Object.hasOwnProperty.call(this.propertyStore,e)}connectedCallback(){if(super.connectedCallback(),this.deferUnSubscribe){this.unsubscribe.split(",").forEach((e=>this.unSubscribeProviderFor(e))),this.deferSubscribe=!1,this.unsubscribe=""}if(this.deferSubscribe){this.subscribe.split(",").forEach((e=>this.subscribeProviderFor(e))),this.deferSubscribe=!1}this.connected=!0;const e=this;this.addEventListener("dbp-subscribe",(function(t){const n=t.detail.name;(e.hasProperty(n)||e.providerRoot)&&(kn.debug("AdapterLitElementProvider("+e.tagName+') eventListener("dbp-subscribe",..) name "'+n+'" found.'),e.callbackStore.push({name:n,callback:t.detail.callback,sender:t.detail.sender}),t.detail.callback(e.getProperty(n)),t.stopPropagation())}),!1),this.addEventListener("dbp-unsubscribe",(function(t){const n=t.detail.name,i=t.detail.sender;(e.hasProperty(n)||e.providerRoot)&&(kn.debug("AdapterLitElementProvider("+e.tagName+') eventListener("dbp-unsubscribe",..) name "'+n+'" found.'),e.callbackStore.forEach((t=>{if(t.sender===i&&t.name===n){const i=e.callbackStore.indexOf(t);e.callbackStore.splice(i,1),kn.debug("AdapterLitElementProvider("+e.tagName+') eventListener for name "'+n+'" removed.')}})),t.stopPropagation())}),!1),this.addEventListener("dbp-set-property",(function(t){const n=t.detail.name,i=t.detail.value;(e.hasProperty(n)||e.providerRoot)&&(kn.debug("AdapterLitElementProvider("+e.tagName+') eventListener("dbp-set-property",..) name "'+n+'" found.'),e.setProperty(n,i),e.callbackStore.forEach((e=>{e.name===n&&e.callback(i)})),t.stopPropagation())}),!1);if(new MutationObserver((function(t,n){for(const n of t)if("attributes"===n.type){const t=n.attributeName,i=e.getAttribute(t);e.hasPropertyChanged(t,i)&&(kn.debug("AdapterLitElementProvider ("+e.tagName+') observed attribute "'+t+'" changed'),e.setProperty(t,i),e.callbackStore.forEach((e=>{e.name===t&&e.callback(i)})))}})).observe(this,{attributes:!0,childList:!1,subtree:!1}),this.hasAttributes()){const t=this.attributes;for(let n=t.length-1;n>=0;n--)["id","class","style","data-tag-name"].includes(t[n].name)||(this.setProperty(t[n].name,t[n].value),kn.debug("AdapterLitElementProvider ("+e.tagName+') found attribute "'+t[n].name+'" = "'+t[n].value+'"'))}}disconnectedCallback(){this.subscribe.split(",").forEach((e=>this.unSubscribeProviderFor(e))),super.disconnectedCallback()}subscribeProviderFor(e){kn.debug("AdapterLitElement("+this.tagName+") subscribeProviderFor( "+e+" )");const t=e.trim().split(":"),n=t[0],i=t[1]||n,r=this,s=new CustomEvent("dbp-subscribe",{bubbles:!0,composed:!0,detail:{name:i,callback:e=>{void 0!==e&&(kn.debug("AdapterLitElement("+r.tagName+") sub/Callback "+i+" -> "+n+" = "+e),"object"==typeof e&&null!==e?r.setPropertyByAttributeName(n,e):(r.attributeChangedCallback(n,r.getPropertyByAttributeName(n),e),null!==r.getAttribute(n)&&(console.warn('Provider callback: "'+n+'" is also an attribute in tag "'+r.tagName+'", this is not supported!'),r.reflectAttribute&&r.setAttribute(n,e))))},sender:this}});this.dispatchEvent(s)}unSubscribeProviderFor(e){kn.debug("AdapterLitElement("+this.tagName+") unSubscribeProviderFor( "+e+" )");const t=e.trim().split(":"),n=t[1]||t[0],i=new CustomEvent("dbp-unsubscribe",{bubbles:!0,composed:!0,detail:{name:n,sender:this}});this.dispatchEvent(i)}static get properties(){return{...super.properties,subscribe:{type:String},unsubscribe:{type:String},providerRoot:{type:Boolean,attribute:"provider-root"}}}findPropertyName(e){let t=e;const n=this.constructor.properties;for(const i in n){if(n[i].attribute===e){t=i;break}}return t}attributeChangedCallback(e,t,n){switch(e){case"subscribe":if(kn.debug("AdapterLitElement() attributeChangesCallback( "+e+", "+t+", "+n+")"),this.subscribe&&this.subscribe.length>0)if(this.connected){this.subscribe.split(",").forEach((e=>this.unSubscribeProviderFor(e)))}else this.deferUnSubscribe=this.subscribe.length>0,this.unsubscribe=this.subscribe;if(null!==n)if(this.subscribe=n,this.connected){n.split(",").forEach((e=>this.subscribeProviderFor(e)))}else this.deferSubscribe=n&&n.length>0;break;default:if("object"==typeof t&&!t&&!n||!n&&t&&e)break;super.attributeChangedCallback(e,t,n)}}sendSetPropertyEvent(e,t,n=!1){const i=new CustomEvent("dbp-set-property",{bubbles:!0,composed:!0,detail:{name:e,value:t}});return(this.parentElement&&!n?this.parentElement:this).dispatchEvent(i)}}class _n extends wn{constructor(){super(),this.forceLogin=!1,this.loadPerson=!1,this.token="",this.subject="",this.name="",this.personId="",this.tryLogin=!1,this.person=null,this.entryPointUrl="",this._loginStatus=bn.UNKNOWN,this.requestedLoginStatus=bn.UNKNOWN,this._i18n=mt(),this.lang=this._i18n.language,this.keycloakUrl=null,this.realm=null,this.clientId=null,this.silentCheckSsoRedirectUri=null,this.scope=null,this.idpHint="",this._onKCChanged=this._onKCChanged.bind(this)}update(e){e.forEach(((e,t)=>{switch(t){case"lang":this._i18n.changeLanguage(this.lang);break;case"entryPointUrl":wt.getInstance(this.entryPointUrl,this.lang);break;case"requestedLoginStatus":switch(console.log("requested-login-status changed",this.requestedLoginStatus),this.requestedLoginStatus){case bn.LOGGED_IN:this._kcwrapper.login({lang:this.lang,scope:this.scope||""});break;case bn.LOGGED_OUT:this._loginStatus===bn.LOGGED_IN&&this._setLoginStatus(bn.LOGGING_OUT),this._kcwrapper.logout(),this._loginStatus===bn.LOGGING_OUT&&this._setLoginStatus(bn.LOGGED_IN)}}})),super.update(e)}_onKCChanged(e){const t=e.detail;let n=!1;if(t.authenticated){let e=this.token!==t.token;this.name=t.idTokenParsed.name,this.token=t.token,this.subject=t.subject;const i=t.idTokenParsed.preferred_username;i!==this.personId&&(this.person=null,n=!0),this.personId=i,this.sendSetPropertyEvents(),this._setLoginStatus(bn.LOGGED_IN,e||n)}else this._loginStatus===bn.LOGGED_IN&&this._setLoginStatus(bn.LOGGING_OUT),this.name="",this.token="",this.subject="",this.personId="",this.person=null,this.sendSetPropertyEvents(),this._setLoginStatus(bn.LOGGED_OUT);const i=this;n&&this.loadPerson&&wt.getInstance(this.entryPointUrl).then((e=>{try{const t=e.getApiUrlForEntityName("Person")+"/"+i.personId;fetch(t,{headers:{"Content-Type":"application/ld+json",Authorization:"Bearer "+i.token}}).then((e=>e.json())).then((e=>{i.person=e,this.sendSetPropertyEvents(),this._setLoginStatus(this._loginStatus,!0)}))}catch(e){console.warn(e),i.person=null,this.sendSetPropertyEvents(),this._setLoginStatus(this._loginStatus,!0)}}),{},i.lang)}sendSetPropertyEvents(){const e={"login-status":this._loginStatus,subject:this.subject,token:this.token,"user-full-name":this.name,"person-id":this.personId,person:this.person};window.Cypress&&(window.DBPAuth=e),this.sendSetPropertyEvent("auth",e)}_setLoginStatus(e,t){(this._loginStatus!==e||t)&&(this._loginStatus=e,this.sendSetPropertyEvents())}static get properties(){return{...super.properties,lang:{type:String},forceLogin:{type:Boolean,attribute:"force-login"},tryLogin:{type:Boolean,attribute:"try-login"},loadPerson:{type:Boolean,attribute:"load-person"},entryPointUrl:{type:String,attribute:"entry-point-url"},name:{type:String,attribute:!1},token:{type:String,attribute:!1},subject:{type:String,attribute:!1},personId:{type:String,attribute:!1},person:{type:Object,attribute:!1},_loginStatus:{type:String,attribute:!1},keycloakUrl:{type:String,attribute:"url"},realm:{type:String},clientId:{type:String,attribute:"client-id"},silentCheckSsoRedirectUri:{type:String,attribute:"silent-check-sso-redirect-uri"},scope:{type:String},idpHint:{type:String,attribute:"idp-hint"},requestedLoginStatus:{type:String,attribute:"requested-login-status"}}}connectedCallback(){if(super.connectedCallback(),!this.keycloakUrl)throw Error("url not set");if(!this.realm)throw Error("realm not set");if(!this.clientId)throw Error("client-id not set");this._kcwrapper=new fn(this.keycloakUrl,this.realm,this.clientId,this.silentCheckSsoRedirectUri,this.idpHint),this._kcwrapper.addEventListener("changed",this._onKCChanged);(async()=>{this.forceLogin||this._kcwrapper.isLoggingIn()?(this._setLoginStatus(bn.LOGGING_IN),await this._kcwrapper.login({lang:this.lang,scope:this.scope||""})):this.tryLogin?(this._setLoginStatus(bn.LOGGING_IN),await this._kcwrapper.tryLogin(),this._loginStatus===bn.LOGGING_IN&&this._setLoginStatus(bn.LOGGED_OUT)):this._setLoginStatus(bn.LOGGED_OUT)})()}disconnectedCallback(){this._kcwrapper.close(),this._kcwrapper.removeEventListener("changed",this._onKCChanged),super.disconnectedCallback()}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const En=new WeakMap,xn=(Pn=e=>t=>{if(!(t instanceof P))throw new Error("unsafeHTML can only be used in text bindings");const n=En.get(t);if(void 0!==n&&w(e)&&e===n.value&&t.value===n.fragment)return;const i=document.createElement("template");i.innerHTML=e;const r=document.importNode(i.content,!0);t.setValue(r),En.set(t,{value:e,fragment:r})},(...e)=>{const t=Pn(...e);return g.set(t,!0),t});var Pn;class Ln extends(Pe(wn)){constructor(){super(),this._i18n=mt(),this.lang=this._i18n.language,this.auth={}}static get scopedElements(){return{"dbp-mini-spinner":yn}}static get properties(){return{lang:{type:String},auth:{type:Object}}}connectedCallback(){super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback()}_onLoginClicked(e){this.sendSetPropertyEvent("requested-login-status",bn.LOGGED_IN),e.preventDefault()}_onLogoutClicked(e){this.sendSetPropertyEvent("requested-login-status",bn.LOGGED_OUT),e.preventDefault()}update(e){e.forEach(((e,t)=>{"lang"===t&&this._i18n.changeLanguage(this.lang)})),super.update(e)}static get styles(){return[vn(),Z`
            :host {
                display: inline-block;
            }

            a {
                color: currentColor;
                cursor: pointer;
                text-decoration: none;
            }

            .login-box {
                display: flex;
                align-items: center;
                padding: 0.3em 0.4em;
                transition: background-color 0.15s, color 0.15s;
            }

            .login-box svg, .icon {
                width: 1.1em;
                height: 1.1em;
            }

            .login-box svg, .spinner {
                display: flex;
            }

            .login-box:hover svg path {
                fill: var(--dbp-light);
            }

            .login-box:hover {
                background-color: var(--dbp-dark);
                color: var(--dbp-light);
                cursor: pointer;
                transition: none;
            }

            .login-box .label {
                padding-left: 0.2em;
            }
            `]}render(){let e=this._i18n;return this.auth["login-status"]===bn.LOGGING_IN?F`
                <a href="#">
                    <div class="login-box login-button">
                        <div class="icon"><dbp-mini-spinner class="spinner"></dbp-mini-spinner></div>
                        <div class="label">&#8203;</div>
                    </div>
                </a>
            `:this.auth["login-status"]===bn.LOGGED_IN?F`
                <a href="#" @click="${this._onLogoutClicked}">
                    <div class="login-box login-button">
                        <div class="icon">${xn('\n<svg\n   viewBox="0 0 100 100"\n   y="0px"\n   x="0px"\n   id="icon"\n   role="img"\n   version="1.1">\n<g\n   id="g6">\n  <path\n     d="m 20.749313,38.894934 -5.885859,6.967885 h 43.408213 c 1.839331,0 3.433418,1.741972 3.433418,4.064599 0,2.322628 -1.471465,4.064599 -3.433418,4.064599 H 14.863454 l 5.885859,6.967883 c 1.348843,1.596808 1.348843,4.064599 0,5.661406 -1.348843,1.596808 -3.433418,1.596808 -4.782261,0 L 1.9881356,49.927418 15.967052,33.378693 c 1.348843,-1.596806 3.433418,-1.596806 4.782261,0 1.348843,1.596807 1.348843,4.064599 0,5.516241 z"\n     id="path2"\n     style="stroke-width:1.33417916"\n     inkscape:connector-curvature="0" />\n  <path\n     style="stroke-width:0.67017764"\n     d="M 61.663665,16.308792 C 48.158763,16.560171 35.913199,25.828579 30.896087,38.197464 34.816744,37.806184 40.033349,39.91491 41.470306,35.017776 50.594944,21.215302 72.517616,20.362655 82.800384,33.07637 93.497261,44.618596 90.228387,65.093356 76.499603,72.791214 64.104901,80.786232 45.895432,75.593227 39.470306,62.310745 35.613955,62.60637 27.974792,60.593775 32.925384,66.267776 41.232037,82.878292 64.023613,89.46919 79.876556,79.765823 96.140149,70.989504 102.10102,48.145494 91.970306,32.629104 85.705979,22.257901 73.793809,15.772382 61.663665,16.308792 Z"\n     id="path4"\n     inkscape:connector-curvature="0" />\n</g>\n</svg>\n')}</div>
                        <div class="label">${e.t("logout")}</div>
                    </div>
                </a>
            `:F`
                <a href="#" @click="${this._onLoginClicked}">
                    <div class="login-box login-button">
                        <div class="icon">${xn('\n<svg\n   viewBox="0 0 100 100"\n   y="0px"\n   x="0px"\n   id="icon"\n   role="img"\n   version="1.1">\n<g\n   id="g6">\n    <path\n   style="stroke-width:1.33417916"\n   id="path2"\n   d="m 42.943908,38.894934 5.885859,6.967885 H 5.4215537 c -1.8393311,0 -3.4334181,1.741972 -3.4334181,4.064599 0,2.322628 1.4714649,4.064599 3.4334181,4.064599 H 48.829767 L 42.943908,60.9599 c -1.348843,1.596808 -1.348843,4.064599 0,5.661406 1.348843,1.596808 3.433418,1.596808 4.782261,0 L 61.705085,49.927418 47.726169,33.378693 c -1.348843,-1.596806 -3.433418,-1.596806 -4.782261,0 -1.348843,1.596807 -1.348843,4.064599 0,5.516241 z" />\n    <path\n   id="path4"\n   d="m 50,2.3007812 c -18.777325,0 -35.049449,10.9124408 -42.8261719,26.7246098 H 13.390625 C 20.672112,16.348362 34.336876,7.8007812 50,7.8007812 73.3,7.8007812 92.300781,26.7 92.300781,50 92.300781,73.3 73.3,92.300781 50,92.300781 c -15.673389,0 -29.345175,-8.60579 -36.623047,-21.326172 H 7.1640625 C 14.942553,86.8272 31.242598,97.800781 50.099609,97.800781 76.399609,97.800781 97.900391,76.4 97.900391,50 97.800391,23.7 76.3,2.3007812 50,2.3007812 Z" />\n</g>\n</svg>\n')}</div>
                        <div class="label">${e.t("login")}</div>
                    </div>
                </a>
            `}}class Nn extends(Pe(wn)){constructor(){super(),this.auth={},this.lang="en",this.url="",this.realm="",this.clientId="",this.silentCheckSsoRedirectUri="",this.entryPointUrl=""}static get scopedElements(){return{"dbp-auth-keycloak":_n,"dbp-login-button":Ln}}static get properties(){return{...super.properties,auth:{type:Object},lang:{type:String},url:{type:String},realm:{type:String},clientId:{type:String,attribute:"client-id"},silentCheckSsoRedirectUri:{type:String,attribute:"silent-check-sso-redirect-uri"},entryPointUrl:{type:String,attribute:"entry-point-url"}}}update(e){e.forEach(((e,t)=>{if("auth"===t){const e=new CustomEvent("api-platform-auth-update",{detail:this.auth,bubbles:!0,composed:!0});window.dispatchEvent(e)}})),super.update(e)}render(){return F`
            <dbp-auth-keycloak subscribe="requested-login-status"
                               lang="${this.lang}"
                               entry-point-url="${this.entryPointUrl}"
                               silent-check-sso-redirect-uri="${this.silentCheckSsoRedirectUri}"
                               url="${this.url}"
                               realm="${this.realm}"
                               client-id="${this.clientId}"
                               load-person try-login></dbp-auth-keycloak>
            <dbp-login-button subscribe="auth" lang="${this.lang}" show-image></dbp-login-button>
        `}}((e,t,n)=>{if(customElements.get(e)===t)return!0;if(!("attachShadow"in Element.prototype&&"getRootNode"in Element.prototype&&window.customElements)){for(var i=document.getElementsByTagName(e),r=0;r<i.length;r++)i[r].innerHTML="<span style='border: 1px solid red; font-size: 0.8em; opacity: 0.5; padding: 0.2em;'> Your browser is not supported </span>";return!1}customElements.define(e,t,n)})("api-platform-auth",Nn);export{Nn as ApiPlatformAuth};
//# sourceMappingURL=api-platform-auth.js.map
