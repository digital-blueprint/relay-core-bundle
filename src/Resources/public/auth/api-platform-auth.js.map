{"version":3,"file":"api-platform-auth.js","sources":["../../auth/node_modules/@webcomponents/scoped-custom-element-registry/scoped-custom-element-registry.min.js","../../auth/node_modules/@lit/reactive-element/css-tag.js","../../auth/node_modules/@lit/reactive-element/reactive-element.js","../../auth/node_modules/lit-html/lit-html.js","../../auth/node_modules/lit-element/lit-element.js","../../auth/node_modules/@open-wc/dedupe-mixin/src/dedupeMixin.js","../../auth/node_modules/@open-wc/scoped-elements/src/ScopedElementsMixin.js","../../auth/node_modules/i18next/dist/esm/i18next.js","../../auth/node_modules/@dbp-toolkit/auth/src/i18n.js","../../auth/node_modules/@dbp-toolkit/common/i18next.js","../../auth/node_modules/event-target-shim/index.mjs","../../auth/node_modules/@dbp-toolkit/auth/src/keycloak.js","../../auth/node_modules/@dbp-toolkit/auth/src/util.js","../../auth/node_modules/@dbp-toolkit/common/src/mini-spinner.js","../../auth/node_modules/@dbp-toolkit/common/styles.js","../../auth/node_modules/@dbp-toolkit/common/src/button.js","../../auth/node_modules/@dbp-toolkit/common/src/logger.js","../../auth/node_modules/@dbp-toolkit/common/src/adapter-lit-element.js","../../auth/node_modules/lit-html/directive.js","../../auth/node_modules/lit-html/directives/unsafe-html.js","../../auth/node_modules/dialog-polyfill/dist/dialog-polyfill.esm.js","../../auth/node_modules/@dbp-toolkit/auth/src/auth-keycloak.js","../../auth/node_modules/@dbp-toolkit/common/src/utils.js","../../auth/node_modules/@dbp-toolkit/common/notification.js","../../auth/node_modules/@dbp-toolkit/auth/src/login-button.js","../../auth/src/api-platform-auth.js","../../auth/node_modules/@dbp-toolkit/common/utils.js"],"sourcesContent":["(function(){\n/*\n\n Copyright (c) 2020 The Polymer Project Authors. All rights reserved.\n This code may only be used under the BSD style license found at\n http://polymer.github.io/LICENSE.txt\n The complete set of authors may be found at\n http://polymer.github.io/AUTHORS.txt\n The complete set of contributors may be found at\n http://polymer.github.io/CONTRIBUTORS.txt\n Code distributed by Google as part of the polymer project is also\n subject to an additional IP rights grant found at\n http://polymer.github.io/PATENTS.txt\n*/\n'use strict';function h(b){var c=0;return function(){return c<b.length?{done:!1,value:b[c++]}:{done:!0}}}function l(b){var c=\"undefined\"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];return c?c.call(b):{next:h(b)}}function m(b){if(!(b instanceof Array)){b=l(b);for(var c,a=[];!(c=b.next()).done;)a.push(c.value);b=a}return b}var n=\"function\"==typeof Object.create?Object.create:function(b){function c(){}c.prototype=b;return new c};\nfunction p(b){b=[\"object\"==typeof globalThis&&globalThis,b,\"object\"==typeof window&&window,\"object\"==typeof self&&self,\"object\"==typeof global&&global];for(var c=0;c<b.length;++c){var a=b[c];if(a&&a.Math==Math)return a}throw Error(\"Cannot find global object\");}\nvar q=p(this),r=function(){function b(){function a(){}new a;Reflect.construct(a,[],function(){});return new a instanceof a}if(\"undefined\"!=typeof Reflect&&Reflect.construct){if(b())return Reflect.construct;var c=Reflect.construct;return function(a,d,e){a=c(a,d);e&&Reflect.setPrototypeOf(a,e.prototype);return a}}return function(a,d,e){void 0===e&&(e=a);e=n(e.prototype||Object.prototype);return Function.prototype.apply.call(a,e,d)||e}}(),t;\nif(\"function\"==typeof Object.setPrototypeOf)t=Object.setPrototypeOf;else{var u;a:{var v={a:!0},w={};try{w.__proto__=v;u=w.a;break a}catch(b){}u=!1}t=u?function(b,c){b.__proto__=c;if(b.__proto__!==c)throw new TypeError(b+\" is not extensible\");return b}:null}var x=t;\nif(!ShadowRoot.prototype.createElement){var y=window.HTMLElement,A=window.customElements.define,B=window.customElements.get,C=window.customElements,D=new WeakMap,E=new WeakMap,F=new WeakMap,G=new WeakMap;window.CustomElementRegistry=function(){this.l=new Map;this.o=new Map;this.i=new Map;this.h=new Map};window.CustomElementRegistry.prototype.define=function(b,c){b=b.toLowerCase();if(void 0!==this.j(b))throw new DOMException(\"Failed to execute 'define' on 'CustomElementRegistry': the name \\\"\"+b+'\" has already been used with this registry');\nif(void 0!==this.o.get(c))throw new DOMException(\"Failed to execute 'define' on 'CustomElementRegistry': this constructor has already been used with this registry\");var a=c.prototype.attributeChangedCallback,d=new Set(c.observedAttributes||[]);H(c,d,a);a={g:c,connectedCallback:c.prototype.connectedCallback,disconnectedCallback:c.prototype.disconnectedCallback,adoptedCallback:c.prototype.adoptedCallback,attributeChangedCallback:a,formAssociated:c.formAssociated,formAssociatedCallback:c.prototype.formAssociatedCallback,\nformDisabledCallback:c.prototype.formDisabledCallback,formResetCallback:c.prototype.formResetCallback,formStateRestoreCallback:c.prototype.formStateRestoreCallback,observedAttributes:d};this.l.set(b,a);this.o.set(c,a);d=B.call(C,b);d||(d=I(b),A.call(C,b,d));this===window.customElements&&(F.set(c,a),a.s=d);if(d=this.h.get(b)){this.h.delete(b);d=l(d);for(var e=d.next();!e.done;e=d.next())e=e.value,E.delete(e),J(e,a,!0)}a=this.i.get(b);void 0!==a&&(a.resolve(c),this.i.delete(b));return c};window.CustomElementRegistry.prototype.upgrade=\nfunction(){K.push(this);C.upgrade.apply(C,arguments);K.pop()};window.CustomElementRegistry.prototype.get=function(b){var c;return null==(c=this.l.get(b))?void 0:c.g};window.CustomElementRegistry.prototype.j=function(b){return this.l.get(b)};window.CustomElementRegistry.prototype.whenDefined=function(b){var c=this.j(b);if(void 0!==c)return Promise.resolve(c.g);var a=this.i.get(b);void 0===a&&(a={},a.promise=new Promise(function(d){return a.resolve=d}),this.i.set(b,a));return a.promise};window.CustomElementRegistry.prototype.m=\nfunction(b,c,a){var d=this.h.get(c);d||this.h.set(c,d=new Set);a?d.add(b):d.delete(b)};var L;window.HTMLElement=function(){var b=L;if(b)return L=void 0,b;var c=F.get(this.constructor);if(!c)throw new TypeError(\"Illegal constructor (custom element class must be registered with global customElements registry to be newable)\");b=Reflect.construct(y,[],c.s);Object.setPrototypeOf(b,this.constructor.prototype);D.set(b,c);return b};window.HTMLElement.prototype=y.prototype;var I=function(b){function c(){var a=\nReflect.construct(y,[],this.constructor);Object.setPrototypeOf(a,HTMLElement.prototype);a:{var d=a.getRootNode();if(!(d===document||d instanceof ShadowRoot)){d=K[K.length-1];if(d instanceof CustomElementRegistry){var e=d;break a}d=d.getRootNode();d===document||d instanceof ShadowRoot||(d=(null==(e=G.get(d))?void 0:e.getRootNode())||document)}e=d.customElements}e=e||window.customElements;(d=e.j(b))?J(a,d):E.set(a,e);return a}q.Object.defineProperty(c,\"formAssociated\",{configurable:!0,enumerable:!0,\nget:function(){return!0}});c.prototype.connectedCallback=function(){var a=D.get(this);a?a.connectedCallback&&a.connectedCallback.apply(this,arguments):E.get(this).m(this,b,!0)};c.prototype.disconnectedCallback=function(){var a=D.get(this);a?a.disconnectedCallback&&a.disconnectedCallback.apply(this,arguments):E.get(this).m(this,b,!1)};c.prototype.adoptedCallback=function(){var a,d;null==(a=D.get(this))||null==(d=a.adoptedCallback)||d.apply(this,arguments)};c.prototype.formAssociatedCallback=function(){var a=\nD.get(this);if(a&&a.formAssociated){var d;null==a||null==(d=a.formAssociatedCallback)||d.apply(this,arguments)}};c.prototype.formDisabledCallback=function(){var a=D.get(this);if(null==a?0:a.formAssociated){var d;null==a||null==(d=a.formDisabledCallback)||d.apply(this,arguments)}};c.prototype.formResetCallback=function(){var a=D.get(this);if(null==a?0:a.formAssociated){var d;null==a||null==(d=a.formResetCallback)||d.apply(this,arguments)}};c.prototype.formStateRestoreCallback=function(){var a=D.get(this);\nif(null==a?0:a.formAssociated){var d;null==a||null==(d=a.formStateRestoreCallback)||d.apply(this,arguments)}};return c},H=function(b,c,a){if(0!==c.size&&void 0!==a){var d=b.prototype.setAttribute;d&&(b.prototype.setAttribute=function(f,k){f=f.toLowerCase();if(c.has(f)){var z=this.getAttribute(f);d.call(this,f,k);a.call(this,f,z,k)}else d.call(this,f,k)});var e=b.prototype.removeAttribute;e&&(b.prototype.removeAttribute=function(f){f=f.toLowerCase();if(c.has(f)){var k=this.getAttribute(f);e.call(this,\nf);a.call(this,f,k,null)}else e.call(this,f)});var g=b.prototype.toggleAttribute;g&&(b.prototype.toggleAttribute=function(f,k){f=f.toLowerCase();if(c.has(f)){var z=this.getAttribute(f);g.call(this,f,k);k=this.getAttribute(f);a.call(this,f,z,k)}else g.call(this,f,k)})}},M=function(b){var c=Object.getPrototypeOf(b);if(c!==window.HTMLElement)return c===y?Object.setPrototypeOf(b,window.HTMLElement):M(c)},J=function(b,c,a){a=void 0===a?!1:a;Object.setPrototypeOf(b,c.g.prototype);D.set(b,c);L=b;try{new c.g}catch(d){M(c.g),\nnew c.g}c.attributeChangedCallback&&c.observedAttributes.forEach(function(d){b.hasAttribute(d)&&c.attributeChangedCallback.call(b,d,null,b.getAttribute(d))});a&&c.connectedCallback&&b.isConnected&&c.connectedCallback.call(b)},N=Element.prototype.attachShadow;Element.prototype.attachShadow=function(b){var c=N.apply(this,arguments);b.customElements&&(c.customElements=b.customElements);return c};var K=[document],O=function(b,c,a){var d=(a?Object.getPrototypeOf(a):b.prototype)[c];b.prototype[c]=function(){K.push(this);\nvar e=d.apply(a||this,arguments);void 0!==e&&G.set(e,this);K.pop();return e}};O(ShadowRoot,\"createElement\",document);O(ShadowRoot,\"importNode\",document);O(Element,\"insertAdjacentHTML\");var P=function(b){var c=Object.getOwnPropertyDescriptor(b.prototype,\"innerHTML\");Object.defineProperty(b.prototype,\"innerHTML\",Object.assign({},c,{set:function(a){K.push(this);c.set.call(this,a);K.pop()}}))};P(Element);P(ShadowRoot);Object.defineProperty(window,\"customElements\",{value:new CustomElementRegistry,configurable:!0,\nwritable:!0});if(window.ElementInternals&&window.ElementInternals.prototype.setFormValue){var Q=new WeakMap,R=HTMLElement.prototype.attachInternals,methods=[\"setFormValue\",\"setValidity\",\"checkValidity\",\"reportValidity\"];HTMLElement.prototype.attachInternals=function(b){for(var c=[],a=0;a<arguments.length;++a)c[a]=arguments[a];c=R.call.apply(R,[this].concat(m(c)));Q.set(c,this);return c};methods.forEach(function(b){var c=window.ElementInternals.prototype,a=c[b];c[b]=function(d){for(var e=[],g=0;g<\narguments.length;++g)e[g]=arguments[g];g=Q.get(this);if(!0===D.get(g).formAssociated)return null==a?void 0:a.call.apply(a,[this].concat(m(e)));throw new DOMException(\"Failed to execute \"+a+\" on 'ElementInternals': The target element is not a form-associated custom element.\");}});var RadioNodeList=function(b){var c=r(Array,[].concat(m(b)),this.constructor);c.h=b;return c},S=RadioNodeList,T=Array;S.prototype=n(T.prototype);S.prototype.constructor=S;if(x)x(S,T);else for(var U in T)if(\"prototype\"!=U)if(Object.defineProperties){var V=\nObject.getOwnPropertyDescriptor(T,U);V&&Object.defineProperty(S,U,V)}else S[U]=T[U];S.u=T.prototype;q.Object.defineProperty(RadioNodeList.prototype,\"value\",{configurable:!0,enumerable:!0,get:function(){var b;return(null==(b=this.h.find(function(c){return!0===c.checked}))?void 0:b.value)||\"\"}});var HTMLFormControlsCollection=function(b){var c=this,a=new Map;b.forEach(function(d,e){var g=d.getAttribute(\"name\"),f=a.get(g)||[];c[+e]=d;f.push(d);a.set(g,f)});this.length=b.length;a.forEach(function(d,e){d&&\n(c[e]=1===d.length?d[0]:new RadioNodeList(d))})};HTMLFormControlsCollection.prototype.namedItem=function(b){return this[b]};var W=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,\"elements\");Object.defineProperty(HTMLFormElement.prototype,\"elements\",{get:function(){var b=W.get.call(this,[]),c=[];b=l(b);for(var a=b.next();!a.done;a=b.next()){a=a.value;var d=D.get(a);d&&!0!==d.formAssociated||c.push(a)}return new HTMLFormControlsCollection(c)}})}};\n}).call(typeof globalThis === 'object' ? globalThis : window);\n\n//# sourceMappingURL=scoped-custom-element-registry.min.js.map\n","/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=globalThis,e=t.ShadowRoot&&(void 0===t.ShadyCSS||t.ShadyCSS.nativeShadow)&&\"adoptedStyleSheets\"in Document.prototype&&\"replace\"in CSSStyleSheet.prototype,s=Symbol(),o=new WeakMap;class n{constructor(t,e,o){if(this._$cssResult$=!0,o!==s)throw Error(\"CSSResult is not constructable. Use `unsafeCSS` or `css` instead.\");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const s=this.t;if(e&&void 0===t){const e=void 0!==s&&1===s.length;e&&(t=o.get(s)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),e&&o.set(s,t))}return t}toString(){return this.cssText}}const r=t=>new n(\"string\"==typeof t?t:t+\"\",void 0,s),i=(t,...e)=>{const o=1===t.length?t[0]:e.reduce(((e,s,o)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if(\"number\"==typeof t)return t;throw Error(\"Value passed to 'css' function must be a 'css' function result: \"+t+\". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.\")})(s)+t[o+1]),t[0]);return new n(o,t,s)},S=(s,o)=>{if(e)s.adoptedStyleSheets=o.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet));else for(const e of o){const o=document.createElement(\"style\"),n=t.litNonce;void 0!==n&&o.setAttribute(\"nonce\",n),o.textContent=e.cssText,s.appendChild(o)}},c=e?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e=\"\";for(const s of t.cssRules)e+=s.cssText;return r(e)})(t):t;export{n as CSSResult,S as adoptStyles,i as css,c as getCompatibleStyle,e as supportsAdoptingStyleSheets,r as unsafeCSS};\n//# sourceMappingURL=css-tag.js.map\n","import{getCompatibleStyle as t,adoptStyles as s}from\"./css-tag.js\";export{CSSResult,adoptStyles,css,getCompatibleStyle,supportsAdoptingStyleSheets,unsafeCSS}from\"./css-tag.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const{is:i,defineProperty:e,getOwnPropertyDescriptor:r,getOwnPropertyNames:h,getOwnPropertySymbols:o,getPrototypeOf:n}=Object,a=globalThis,c=a.trustedTypes,l=c?c.emptyScript:\"\",p=a.reactiveElementPolyfillSupport,d=(t,s)=>t,u={toAttribute(t,s){switch(s){case Boolean:t=t?l:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,s){let i=t;switch(s){case Boolean:i=null!==t;break;case Number:i=null===t?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t)}catch(t){i=null}}return i}},f=(t,s)=>!i(t,s),y={attribute:!0,type:String,converter:u,reflect:!1,hasChanged:f};Symbol.metadata??=Symbol(\"metadata\"),a.litPropertyMetadata??=new WeakMap;class b extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,s=y){if(s.state&&(s.attribute=!1),this._$Ei(),this.elementProperties.set(t,s),!s.noAccessor){const i=Symbol(),r=this.getPropertyDescriptor(t,i,s);void 0!==r&&e(this.prototype,t,r)}}static getPropertyDescriptor(t,s,i){const{get:e,set:h}=r(this.prototype,t)??{get(){return this[s]},set(t){this[s]=t}};return{get(){return e?.call(this)},set(s){const r=e?.call(this);h.call(this,s),this.requestUpdate(t,r,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??y}static _$Ei(){if(this.hasOwnProperty(d(\"elementProperties\")))return;const t=n(this);t.finalize(),void 0!==t.l&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(d(\"finalized\")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(d(\"properties\"))){const t=this.properties,s=[...h(t),...o(t)];for(const i of s)this.createProperty(i,t[i])}const t=this[Symbol.metadata];if(null!==t){const s=litPropertyMetadata.get(t);if(void 0!==s)for(const[t,i]of s)this.elementProperties.set(t,i)}this._$Eh=new Map;for(const[t,s]of this.elementProperties){const i=this._$Eu(t,s);void 0!==i&&this._$Eh.set(i,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(s){const i=[];if(Array.isArray(s)){const e=new Set(s.flat(1/0).reverse());for(const s of e)i.unshift(t(s))}else void 0!==s&&i.push(t(s));return i}static _$Eu(t,s){const i=s.attribute;return!1===i?void 0:\"string\"==typeof i?i:\"string\"==typeof t?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((t=>t(this)))}addController(t){(this._$EO??=new Set).add(t),void 0!==this.renderRoot&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,s=this.constructor.elementProperties;for(const i of s.keys())this.hasOwnProperty(i)&&(t.set(i,this[i]),delete this[i]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return s(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((t=>t.hostConnected?.()))}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach((t=>t.hostDisconnected?.()))}attributeChangedCallback(t,s,i){this._$AK(t,i)}_$EC(t,s){const i=this.constructor.elementProperties.get(t),e=this.constructor._$Eu(t,i);if(void 0!==e&&!0===i.reflect){const r=(void 0!==i.converter?.toAttribute?i.converter:u).toAttribute(s,i.type);this._$Em=t,null==r?this.removeAttribute(e):this.setAttribute(e,r),this._$Em=null}}_$AK(t,s){const i=this.constructor,e=i._$Eh.get(t);if(void 0!==e&&this._$Em!==e){const t=i.getPropertyOptions(e),r=\"function\"==typeof t.converter?{fromAttribute:t.converter}:void 0!==t.converter?.fromAttribute?t.converter:u;this._$Em=e,this[e]=r.fromAttribute(s,t.type),this._$Em=null}}requestUpdate(t,s,i){if(void 0!==t){if(i??=this.constructor.getPropertyOptions(t),!(i.hasChanged??f)(this[t],s))return;this.P(t,s,i)}!1===this.isUpdatePending&&(this._$ES=this._$ET())}P(t,s,i){this._$AL.has(t)||this._$AL.set(t,s),!0===i.reflect&&this._$Em!==t&&(this._$Ej??=new Set).add(t)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[t,s]of this._$Ep)this[t]=s;this._$Ep=void 0}const t=this.constructor.elementProperties;if(t.size>0)for(const[s,i]of t)!0!==i.wrapped||this._$AL.has(s)||void 0===this[s]||this.P(s,this[s],i)}let t=!1;const s=this._$AL;try{t=this.shouldUpdate(s),t?(this.willUpdate(s),this._$EO?.forEach((t=>t.hostUpdate?.())),this.update(s)):this._$EU()}catch(s){throw t=!1,this._$EU(),s}t&&this._$AE(s)}willUpdate(t){}_$AE(t){this._$EO?.forEach((t=>t.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Ej&&=this._$Ej.forEach((t=>this._$EC(t,this[t]))),this._$EU()}updated(t){}firstUpdated(t){}}b.elementStyles=[],b.shadowRootOptions={mode:\"open\"},b[d(\"elementProperties\")]=new Map,b[d(\"finalized\")]=new Map,p?.({ReactiveElement:b}),(a.reactiveElementVersions??=[]).push(\"2.0.4\");export{b as ReactiveElement,u as defaultConverter,f as notEqual};\n//# sourceMappingURL=reactive-element.js.map\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=globalThis,i=t.trustedTypes,s=i?i.createPolicy(\"lit-html\",{createHTML:t=>t}):void 0,e=\"$lit$\",h=`lit$${Math.random().toFixed(9).slice(2)}$`,o=\"?\"+h,n=`<${o}>`,r=document,l=()=>r.createComment(\"\"),c=t=>null===t||\"object\"!=typeof t&&\"function\"!=typeof t,a=Array.isArray,u=t=>a(t)||\"function\"==typeof t?.[Symbol.iterator],d=\"[ \\t\\n\\f\\r]\",f=/<(?:(!--|\\/[^a-zA-Z])|(\\/?[a-zA-Z][^>\\s]*)|(\\/?$))/g,v=/-->/g,_=/>/g,m=RegExp(`>|${d}(?:([^\\\\s\"'>=/]+)(${d}*=${d}*(?:[^ \\t\\n\\f\\r\"'\\`<>=]|(\"|')|))|$)`,\"g\"),p=/'/g,g=/\"/g,$=/^(?:script|style|textarea|title)$/i,y=t=>(i,...s)=>({_$litType$:t,strings:i,values:s}),x=y(1),b=y(2),w=y(3),T=Symbol.for(\"lit-noChange\"),E=Symbol.for(\"lit-nothing\"),A=new WeakMap,C=r.createTreeWalker(r,129);function P(t,i){if(!a(t)||!t.hasOwnProperty(\"raw\"))throw Error(\"invalid template strings array\");return void 0!==s?s.createHTML(i):i}const V=(t,i)=>{const s=t.length-1,o=[];let r,l=2===i?\"<svg>\":3===i?\"<math>\":\"\",c=f;for(let i=0;i<s;i++){const s=t[i];let a,u,d=-1,y=0;for(;y<s.length&&(c.lastIndex=y,u=c.exec(s),null!==u);)y=c.lastIndex,c===f?\"!--\"===u[1]?c=v:void 0!==u[1]?c=_:void 0!==u[2]?($.test(u[2])&&(r=RegExp(\"</\"+u[2],\"g\")),c=m):void 0!==u[3]&&(c=m):c===m?\">\"===u[0]?(c=r??f,d=-1):void 0===u[1]?d=-2:(d=c.lastIndex-u[2].length,a=u[1],c=void 0===u[3]?m:'\"'===u[3]?g:p):c===g||c===p?c=m:c===v||c===_?c=f:(c=m,r=void 0);const x=c===m&&t[i+1].startsWith(\"/>\")?\" \":\"\";l+=c===f?s+n:d>=0?(o.push(a),s.slice(0,d)+e+s.slice(d)+h+x):s+h+(-2===d?i:x)}return[P(t,l+(t[s]||\"<?>\")+(2===i?\"</svg>\":3===i?\"</math>\":\"\")),o]};class N{constructor({strings:t,_$litType$:s},n){let r;this.parts=[];let c=0,a=0;const u=t.length-1,d=this.parts,[f,v]=V(t,s);if(this.el=N.createElement(f,n),C.currentNode=this.el.content,2===s||3===s){const t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}for(;null!==(r=C.nextNode())&&d.length<u;){if(1===r.nodeType){if(r.hasAttributes())for(const t of r.getAttributeNames())if(t.endsWith(e)){const i=v[a++],s=r.getAttribute(t).split(h),e=/([.?@])?(.*)/.exec(i);d.push({type:1,index:c,name:e[2],strings:s,ctor:\".\"===e[1]?H:\"?\"===e[1]?I:\"@\"===e[1]?L:k}),r.removeAttribute(t)}else t.startsWith(h)&&(d.push({type:6,index:c}),r.removeAttribute(t));if($.test(r.tagName)){const t=r.textContent.split(h),s=t.length-1;if(s>0){r.textContent=i?i.emptyScript:\"\";for(let i=0;i<s;i++)r.append(t[i],l()),C.nextNode(),d.push({type:2,index:++c});r.append(t[s],l())}}}else if(8===r.nodeType)if(r.data===o)d.push({type:2,index:c});else{let t=-1;for(;-1!==(t=r.data.indexOf(h,t+1));)d.push({type:7,index:c}),t+=h.length-1}c++}}static createElement(t,i){const s=r.createElement(\"template\");return s.innerHTML=t,s}}function S(t,i,s=t,e){if(i===T)return i;let h=void 0!==e?s._$Co?.[e]:s._$Cl;const o=c(i)?void 0:i._$litDirective$;return h?.constructor!==o&&(h?._$AO?.(!1),void 0===o?h=void 0:(h=new o(t),h._$AT(t,s,e)),void 0!==e?(s._$Co??=[])[e]=h:s._$Cl=h),void 0!==h&&(i=S(t,h._$AS(t,i.values),h,e)),i}class M{constructor(t,i){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:i},parts:s}=this._$AD,e=(t?.creationScope??r).importNode(i,!0);C.currentNode=e;let h=C.nextNode(),o=0,n=0,l=s[0];for(;void 0!==l;){if(o===l.index){let i;2===l.type?i=new R(h,h.nextSibling,this,t):1===l.type?i=new l.ctor(h,l.name,l.strings,this,t):6===l.type&&(i=new z(h,this,t)),this._$AV.push(i),l=s[++n]}o!==l?.index&&(h=C.nextNode(),o++)}return C.currentNode=r,e}p(t){let i=0;for(const s of this._$AV)void 0!==s&&(void 0!==s.strings?(s._$AI(t,s,i),i+=s.strings.length-2):s._$AI(t[i])),i++}}class R{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,i,s,e){this.type=2,this._$AH=E,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=s,this.options=e,this._$Cv=e?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const i=this._$AM;return void 0!==i&&11===t?.nodeType&&(t=i.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,i=this){t=S(this,t,i),c(t)?t===E||null==t||\"\"===t?(this._$AH!==E&&this._$AR(),this._$AH=E):t!==this._$AH&&t!==T&&this._(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):u(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==E&&c(this._$AH)?this._$AA.nextSibling.data=t:this.T(r.createTextNode(t)),this._$AH=t}$(t){const{values:i,_$litType$:s}=t,e=\"number\"==typeof s?this._$AC(t):(void 0===s.el&&(s.el=N.createElement(P(s.h,s.h[0]),this.options)),s);if(this._$AH?._$AD===e)this._$AH.p(i);else{const t=new M(e,this),s=t.u(this.options);t.p(i),this.T(s),this._$AH=t}}_$AC(t){let i=A.get(t.strings);return void 0===i&&A.set(t.strings,i=new N(t)),i}k(t){a(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let s,e=0;for(const h of t)e===i.length?i.push(s=new R(this.O(l()),this.O(l()),this,this.options)):s=i[e],s._$AI(h),e++;e<i.length&&(this._$AR(s&&s._$AB.nextSibling,e),i.length=e)}_$AR(t=this._$AA.nextSibling,i){for(this._$AP?.(!1,!0,i);t&&t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){void 0===this._$AM&&(this._$Cv=t,this._$AP?.(t))}}class k{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,i,s,e,h){this.type=1,this._$AH=E,this._$AN=void 0,this.element=t,this.name=i,this._$AM=e,this.options=h,s.length>2||\"\"!==s[0]||\"\"!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=E}_$AI(t,i=this,s,e){const h=this.strings;let o=!1;if(void 0===h)t=S(this,t,i,0),o=!c(t)||t!==this._$AH&&t!==T,o&&(this._$AH=t);else{const e=t;let n,r;for(t=h[0],n=0;n<h.length-1;n++)r=S(this,e[s+n],i,n),r===T&&(r=this._$AH[n]),o||=!c(r)||r!==this._$AH[n],r===E?t=E:t!==E&&(t+=(r??\"\")+h[n+1]),this._$AH[n]=r}o&&!e&&this.j(t)}j(t){t===E?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??\"\")}}class H extends k{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===E?void 0:t}}class I extends k{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==E)}}class L extends k{constructor(t,i,s,e,h){super(t,i,s,e,h),this.type=5}_$AI(t,i=this){if((t=S(this,t,i,0)??E)===T)return;const s=this._$AH,e=t===E&&s!==E||t.capture!==s.capture||t.once!==s.once||t.passive!==s.passive,h=t!==E&&(s===E||e);e&&this.element.removeEventListener(this.name,this,s),h&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){\"function\"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class z{constructor(t,i,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(t){S(this,t)}}const Z={M:e,P:h,A:o,C:1,L:V,R:M,D:u,V:S,I:R,H:k,N:I,U:L,B:H,F:z},j=t.litHtmlPolyfillSupport;j?.(N,R),(t.litHtmlVersions??=[]).push(\"3.2.1\");const B=(t,i,s)=>{const e=s?.renderBefore??i;let h=e._$litPart$;if(void 0===h){const t=s?.renderBefore??null;e._$litPart$=h=new R(i.insertBefore(l(),t),t,void 0,s??{})}return h._$AI(t),h};export{Z as _$LH,x as html,w as mathml,T as noChange,E as nothing,B as render,b as svg};\n//# sourceMappingURL=lit-html.js.map\n","import{ReactiveElement as t}from\"@lit/reactive-element\";export*from\"@lit/reactive-element\";import{render as e,noChange as s}from\"lit-html\";export*from\"lit-html\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */class r extends t{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const s=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=e(s,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return s}}r._$litElement$=!0,r[\"finalized\"]=!0,globalThis.litElementHydrateSupport?.({LitElement:r});const i=globalThis.litElementPolyfillSupport;i?.({LitElement:r});const o={_$AK:(t,e,s)=>{t._$AK(e,s)},_$AL:t=>t._$AL};(globalThis.litElementVersions??=[]).push(\"4.1.1\");export{r as LitElement,o as _$LE};\n//# sourceMappingURL=lit-element.js.map\n","const appliedClassMixins = new WeakMap();\n\n/** Vefify if the Mixin was previously applyed\n * @private\n * @param {function} mixin      Mixin being applyed\n * @param {object} superClass   Class receiving the new mixin\n * @returns {boolean}\n */\nfunction wasMixinPreviouslyApplied(mixin, superClass) {\n  let klass = superClass;\n  while (klass) {\n    if (appliedClassMixins.get(klass) === mixin) {\n      return true;\n    }\n    klass = Object.getPrototypeOf(klass);\n  }\n  return false;\n}\n\n/** Apply each mixin in the chain to make sure they are not applied more than once to the final class.\n * @export\n * @param {function} mixin      Mixin to be applyed\n * @returns {object}            Mixed class with mixin applied\n */\nexport function dedupeMixin(mixin) {\n  return superClass => {\n    if (wasMixinPreviouslyApplied(mixin, superClass)) {\n      return superClass;\n    }\n    const mixedClass = mixin(superClass);\n    appliedClassMixins.set(mixedClass, mixin);\n    return mixedClass;\n  };\n}\n","import { dedupeMixin } from '@open-wc/dedupe-mixin';\nimport { adoptStyles } from '@lit/reactive-element/css-tag.js';\n\n/**\n * @typedef {import('./types').RenderOptions} RenderOptions\n * @typedef {import('./types').ScopedElementsMixin} ScopedElementsMixin\n * @typedef {import('./types').ScopedElementsHost} ScopedElementsHost\n * @typedef {import('./types').ScopedElementsMap} ScopedElementsMap\n * @typedef {import('@lit/reactive-element').CSSResultOrNative} CSSResultOrNative\n */\n\nconst version = '2.2.2';\n// eslint-disable-next-line dot-notation\nconst versions = window['scopedElementsVersions'] || (window['scopedElementsVersions'] = []);\nif (!versions.includes(version)) {\n  versions.push(version);\n}\n\n// @ts-ignore\nconst supportsScopedRegistry = !!ShadowRoot.prototype.createElement;\n\n/**\n * @template {import('./types').Constructor<HTMLElement>} T\n * @param {T} superclass\n * @return {T & import('./types').Constructor<ScopedElementsHost>}\n */\nconst ScopedElementsMixinImplementation = superclass =>\n  /** @type {ScopedElementsHost} */\n  class ScopedElementsHost extends superclass {\n    /**\n     * Obtains the scoped elements definitions map if specified.\n     *\n     * @returns {ScopedElementsMap}\n     */\n    static get scopedElements() {\n      return {};\n    }\n\n    static get scopedElementsVersion() {\n      return version;\n    }\n\n    /**\n     * Obtains the ShadowRoot options.\n     *\n     * @type {ShadowRootInit}\n     */\n    static get shadowRootOptions() {\n      return this.__shadowRootOptions;\n    }\n\n    /**\n     * Set the shadowRoot options.\n     *\n     * @param {ShadowRootInit} value\n     */\n    static set shadowRootOptions(value) {\n      this.__shadowRootOptions = value;\n    }\n\n    /**\n     * Obtains the element styles.\n     *\n     * @returns {CSSResultOrNative[]}\n     */\n    static get elementStyles() {\n      return this.__elementStyles;\n    }\n\n    static set elementStyles(styles) {\n      this.__elementStyles = styles;\n    }\n\n    // either TS or ESLint will complain here\n    // eslint-disable-next-line no-unused-vars\n    constructor(..._args) {\n      super();\n      /** @type {RenderOptions} */\n      this.renderOptions = this.renderOptions || undefined;\n    }\n\n    /**\n     * Obtains the CustomElementRegistry associated to the ShadowRoot.\n     *\n     * @returns {CustomElementRegistry}\n     */\n    get registry() {\n      // @ts-ignore\n      return this.constructor.__registry;\n    }\n\n    /**\n     * Set the CustomElementRegistry associated to the ShadowRoot\n     *\n     * @param {CustomElementRegistry} registry\n     */\n    set registry(registry) {\n      // @ts-ignore\n      this.constructor.__registry = registry;\n    }\n\n    createRenderRoot() {\n      const { scopedElements, shadowRootOptions, elementStyles } =\n        /** @type {typeof ScopedElementsHost} */ (this.constructor);\n\n      const shouldCreateRegistry =\n        !this.registry ||\n        // @ts-ignore\n        (this.registry === this.constructor.__registry &&\n          !Object.prototype.hasOwnProperty.call(this.constructor, '__registry'));\n\n      /**\n       * Create a new registry if:\n       * - the registry is not defined\n       * - this class doesn't have its own registry *AND* has no shared registry\n       */\n      if (shouldCreateRegistry) {\n        this.registry = supportsScopedRegistry ? new CustomElementRegistry() : customElements;\n        for (const [tagName, klass] of Object.entries(scopedElements)) {\n          this.defineScopedElement(tagName, klass);\n        }\n      }\n\n      /** @type {ShadowRootInit} */\n      const options = {\n        mode: 'open',\n        ...shadowRootOptions,\n        customElements: this.registry,\n        registry: this.registry,\n      };\n\n      const createdRoot = this.attachShadow(options);\n      if (supportsScopedRegistry) {\n        this.renderOptions.creationScope = createdRoot;\n      }\n\n      if (createdRoot instanceof ShadowRoot) {\n        adoptStyles(createdRoot, elementStyles);\n        this.renderOptions.renderBefore = this.renderOptions.renderBefore || createdRoot.firstChild;\n      }\n\n      return createdRoot;\n    }\n\n    createScopedElement(tagName) {\n      const root = supportsScopedRegistry ? this.shadowRoot : document;\n      // @ts-ignore polyfill to support createElement on shadowRoot is loaded\n      return root.createElement(tagName);\n    }\n\n    /**\n     * Defines a scoped element.\n     *\n     * @param {string} tagName\n     * @param {typeof HTMLElement} klass\n     */\n    defineScopedElement(tagName, klass) {\n      const registeredClass = this.registry.get(tagName);\n      if (registeredClass && supportsScopedRegistry === false && registeredClass !== klass) {\n        // eslint-disable-next-line no-console\n        console.error(\n          [\n            `You are trying to re-register the \"${tagName}\" custom element with a different class via ScopedElementsMixin.`,\n            'This is only possible with a CustomElementRegistry.',\n            'Your browser does not support this feature so you will need to load a polyfill for it.',\n            'Load \"@webcomponents/scoped-custom-element-registry\" before you register ANY web component to the global customElements registry.',\n            'e.g. add \"<script src=\"/node_modules/@webcomponents/scoped-custom-element-registry/scoped-custom-element-registry.min.js\"></script>\" as your first script tag.',\n            'For more details you can visit https://open-wc.org/docs/development/scoped-elements/',\n          ].join('\\n'),\n        );\n      }\n      if (!registeredClass) {\n        return this.registry.define(tagName, klass);\n      }\n      return this.registry.get(tagName);\n    }\n\n    /**\n     * @deprecated use the native el.tagName instead\n     *\n     * @param {string} tagName\n     * @returns {string} the tag name\n     */\n    // eslint-disable-next-line class-methods-use-this\n    getScopedTagName(tagName) {\n      // @ts-ignore\n      return this.constructor.getScopedTagName(tagName);\n    }\n\n    /**\n     * @deprecated use the native el.tagName instead\n     *\n     * @param {string} tagName\n     * @returns {string} the tag name\n     */\n    // eslint-disable-next-line class-methods-use-this\n    static getScopedTagName(tagName) {\n      // @ts-ignore\n      return this.__registry.get(tagName) ? tagName : undefined;\n    }\n  };\n\nexport const ScopedElementsMixin = dedupeMixin(ScopedElementsMixinImplementation);\n","const isString = obj => typeof obj === 'string';\nconst defer = () => {\n  let res;\n  let rej;\n  const promise = new Promise((resolve, reject) => {\n    res = resolve;\n    rej = reject;\n  });\n  promise.resolve = res;\n  promise.reject = rej;\n  return promise;\n};\nconst makeString = object => {\n  if (object == null) return '';\n  return '' + object;\n};\nconst copy = (a, s, t) => {\n  a.forEach(m => {\n    if (s[m]) t[m] = s[m];\n  });\n};\nconst lastOfPathSeparatorRegExp = /###/g;\nconst cleanKey = key => key && key.indexOf('###') > -1 ? key.replace(lastOfPathSeparatorRegExp, '.') : key;\nconst canNotTraverseDeeper = object => !object || isString(object);\nconst getLastOfPath = (object, path, Empty) => {\n  const stack = !isString(path) ? path : path.split('.');\n  let stackIndex = 0;\n  while (stackIndex < stack.length - 1) {\n    if (canNotTraverseDeeper(object)) return {};\n    const key = cleanKey(stack[stackIndex]);\n    if (!object[key] && Empty) object[key] = new Empty();\n    if (Object.prototype.hasOwnProperty.call(object, key)) {\n      object = object[key];\n    } else {\n      object = {};\n    }\n    ++stackIndex;\n  }\n  if (canNotTraverseDeeper(object)) return {};\n  return {\n    obj: object,\n    k: cleanKey(stack[stackIndex])\n  };\n};\nconst setPath = (object, path, newValue) => {\n  const {\n    obj,\n    k\n  } = getLastOfPath(object, path, Object);\n  if (obj !== undefined || path.length === 1) {\n    obj[k] = newValue;\n    return;\n  }\n  let e = path[path.length - 1];\n  let p = path.slice(0, path.length - 1);\n  let last = getLastOfPath(object, p, Object);\n  while (last.obj === undefined && p.length) {\n    e = `${p[p.length - 1]}.${e}`;\n    p = p.slice(0, p.length - 1);\n    last = getLastOfPath(object, p, Object);\n    if (last && last.obj && typeof last.obj[`${last.k}.${e}`] !== 'undefined') {\n      last.obj = undefined;\n    }\n  }\n  last.obj[`${last.k}.${e}`] = newValue;\n};\nconst pushPath = (object, path, newValue, concat) => {\n  const {\n    obj,\n    k\n  } = getLastOfPath(object, path, Object);\n  obj[k] = obj[k] || [];\n  obj[k].push(newValue);\n};\nconst getPath = (object, path) => {\n  const {\n    obj,\n    k\n  } = getLastOfPath(object, path);\n  if (!obj) return undefined;\n  return obj[k];\n};\nconst getPathWithDefaults = (data, defaultData, key) => {\n  const value = getPath(data, key);\n  if (value !== undefined) {\n    return value;\n  }\n  return getPath(defaultData, key);\n};\nconst deepExtend = (target, source, overwrite) => {\n  for (const prop in source) {\n    if (prop !== '__proto__' && prop !== 'constructor') {\n      if (prop in target) {\n        if (isString(target[prop]) || target[prop] instanceof String || isString(source[prop]) || source[prop] instanceof String) {\n          if (overwrite) target[prop] = source[prop];\n        } else {\n          deepExtend(target[prop], source[prop], overwrite);\n        }\n      } else {\n        target[prop] = source[prop];\n      }\n    }\n  }\n  return target;\n};\nconst regexEscape = str => str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\nvar _entityMap = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;',\n  '/': '&#x2F;'\n};\nconst escape = data => {\n  if (isString(data)) {\n    return data.replace(/[&<>\"'\\/]/g, s => _entityMap[s]);\n  }\n  return data;\n};\nclass RegExpCache {\n  constructor(capacity) {\n    this.capacity = capacity;\n    this.regExpMap = new Map();\n    this.regExpQueue = [];\n  }\n  getRegExp(pattern) {\n    const regExpFromCache = this.regExpMap.get(pattern);\n    if (regExpFromCache !== undefined) {\n      return regExpFromCache;\n    }\n    const regExpNew = new RegExp(pattern);\n    if (this.regExpQueue.length === this.capacity) {\n      this.regExpMap.delete(this.regExpQueue.shift());\n    }\n    this.regExpMap.set(pattern, regExpNew);\n    this.regExpQueue.push(pattern);\n    return regExpNew;\n  }\n}\nconst chars = [' ', ',', '?', '!', ';'];\nconst looksLikeObjectPathRegExpCache = new RegExpCache(20);\nconst looksLikeObjectPath = (key, nsSeparator, keySeparator) => {\n  nsSeparator = nsSeparator || '';\n  keySeparator = keySeparator || '';\n  const possibleChars = chars.filter(c => nsSeparator.indexOf(c) < 0 && keySeparator.indexOf(c) < 0);\n  if (possibleChars.length === 0) return true;\n  const r = looksLikeObjectPathRegExpCache.getRegExp(`(${possibleChars.map(c => c === '?' ? '\\\\?' : c).join('|')})`);\n  let matched = !r.test(key);\n  if (!matched) {\n    const ki = key.indexOf(keySeparator);\n    if (ki > 0 && !r.test(key.substring(0, ki))) {\n      matched = true;\n    }\n  }\n  return matched;\n};\nconst deepFind = function (obj, path) {\n  let keySeparator = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '.';\n  if (!obj) return undefined;\n  if (obj[path]) return obj[path];\n  const tokens = path.split(keySeparator);\n  let current = obj;\n  for (let i = 0; i < tokens.length;) {\n    if (!current || typeof current !== 'object') {\n      return undefined;\n    }\n    let next;\n    let nextPath = '';\n    for (let j = i; j < tokens.length; ++j) {\n      if (j !== i) {\n        nextPath += keySeparator;\n      }\n      nextPath += tokens[j];\n      next = current[nextPath];\n      if (next !== undefined) {\n        if (['string', 'number', 'boolean'].indexOf(typeof next) > -1 && j < tokens.length - 1) {\n          continue;\n        }\n        i += j - i + 1;\n        break;\n      }\n    }\n    current = next;\n  }\n  return current;\n};\nconst getCleanedCode = code => code && code.replace('_', '-');\n\nconst consoleLogger = {\n  type: 'logger',\n  log(args) {\n    this.output('log', args);\n  },\n  warn(args) {\n    this.output('warn', args);\n  },\n  error(args) {\n    this.output('error', args);\n  },\n  output(type, args) {\n    if (console && console[type]) console[type].apply(console, args);\n  }\n};\nclass Logger {\n  constructor(concreteLogger) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this.init(concreteLogger, options);\n  }\n  init(concreteLogger) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this.prefix = options.prefix || 'i18next:';\n    this.logger = concreteLogger || consoleLogger;\n    this.options = options;\n    this.debug = options.debug;\n  }\n  log() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    return this.forward(args, 'log', '', true);\n  }\n  warn() {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n    return this.forward(args, 'warn', '', true);\n  }\n  error() {\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n    return this.forward(args, 'error', '');\n  }\n  deprecate() {\n    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n    return this.forward(args, 'warn', 'WARNING DEPRECATED: ', true);\n  }\n  forward(args, lvl, prefix, debugOnly) {\n    if (debugOnly && !this.debug) return null;\n    if (isString(args[0])) args[0] = `${prefix}${this.prefix} ${args[0]}`;\n    return this.logger[lvl](args);\n  }\n  create(moduleName) {\n    return new Logger(this.logger, {\n      ...{\n        prefix: `${this.prefix}:${moduleName}:`\n      },\n      ...this.options\n    });\n  }\n  clone(options) {\n    options = options || this.options;\n    options.prefix = options.prefix || this.prefix;\n    return new Logger(this.logger, options);\n  }\n}\nvar baseLogger = new Logger();\n\nclass EventEmitter {\n  constructor() {\n    this.observers = {};\n  }\n  on(events, listener) {\n    events.split(' ').forEach(event => {\n      if (!this.observers[event]) this.observers[event] = new Map();\n      const numListeners = this.observers[event].get(listener) || 0;\n      this.observers[event].set(listener, numListeners + 1);\n    });\n    return this;\n  }\n  off(event, listener) {\n    if (!this.observers[event]) return;\n    if (!listener) {\n      delete this.observers[event];\n      return;\n    }\n    this.observers[event].delete(listener);\n  }\n  emit(event) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    if (this.observers[event]) {\n      const cloned = Array.from(this.observers[event].entries());\n      cloned.forEach(_ref => {\n        let [observer, numTimesAdded] = _ref;\n        for (let i = 0; i < numTimesAdded; i++) {\n          observer(...args);\n        }\n      });\n    }\n    if (this.observers['*']) {\n      const cloned = Array.from(this.observers['*'].entries());\n      cloned.forEach(_ref2 => {\n        let [observer, numTimesAdded] = _ref2;\n        for (let i = 0; i < numTimesAdded; i++) {\n          observer.apply(observer, [event, ...args]);\n        }\n      });\n    }\n  }\n}\n\nclass ResourceStore extends EventEmitter {\n  constructor(data) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      ns: ['translation'],\n      defaultNS: 'translation'\n    };\n    super();\n    this.data = data || {};\n    this.options = options;\n    if (this.options.keySeparator === undefined) {\n      this.options.keySeparator = '.';\n    }\n    if (this.options.ignoreJSONStructure === undefined) {\n      this.options.ignoreJSONStructure = true;\n    }\n  }\n  addNamespaces(ns) {\n    if (this.options.ns.indexOf(ns) < 0) {\n      this.options.ns.push(ns);\n    }\n  }\n  removeNamespaces(ns) {\n    const index = this.options.ns.indexOf(ns);\n    if (index > -1) {\n      this.options.ns.splice(index, 1);\n    }\n  }\n  getResource(lng, ns, key) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n    const ignoreJSONStructure = options.ignoreJSONStructure !== undefined ? options.ignoreJSONStructure : this.options.ignoreJSONStructure;\n    let path;\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n    } else {\n      path = [lng, ns];\n      if (key) {\n        if (Array.isArray(key)) {\n          path.push(...key);\n        } else if (isString(key) && keySeparator) {\n          path.push(...key.split(keySeparator));\n        } else {\n          path.push(key);\n        }\n      }\n    }\n    const result = getPath(this.data, path);\n    if (!result && !ns && !key && lng.indexOf('.') > -1) {\n      lng = path[0];\n      ns = path[1];\n      key = path.slice(2).join('.');\n    }\n    if (result || !ignoreJSONStructure || !isString(key)) return result;\n    return deepFind(this.data && this.data[lng] && this.data[lng][ns], key, keySeparator);\n  }\n  addResource(lng, ns, key, value) {\n    let options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {\n      silent: false\n    };\n    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n    let path = [lng, ns];\n    if (key) path = path.concat(keySeparator ? key.split(keySeparator) : key);\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n      value = ns;\n      ns = path[1];\n    }\n    this.addNamespaces(ns);\n    setPath(this.data, path, value);\n    if (!options.silent) this.emit('added', lng, ns, key, value);\n  }\n  addResources(lng, ns, resources) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {\n      silent: false\n    };\n    for (const m in resources) {\n      if (isString(resources[m]) || Array.isArray(resources[m])) this.addResource(lng, ns, m, resources[m], {\n        silent: true\n      });\n    }\n    if (!options.silent) this.emit('added', lng, ns, resources);\n  }\n  addResourceBundle(lng, ns, resources, deep, overwrite) {\n    let options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {\n      silent: false,\n      skipCopy: false\n    };\n    let path = [lng, ns];\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n      deep = resources;\n      resources = ns;\n      ns = path[1];\n    }\n    this.addNamespaces(ns);\n    let pack = getPath(this.data, path) || {};\n    if (!options.skipCopy) resources = JSON.parse(JSON.stringify(resources));\n    if (deep) {\n      deepExtend(pack, resources, overwrite);\n    } else {\n      pack = {\n        ...pack,\n        ...resources\n      };\n    }\n    setPath(this.data, path, pack);\n    if (!options.silent) this.emit('added', lng, ns, resources);\n  }\n  removeResourceBundle(lng, ns) {\n    if (this.hasResourceBundle(lng, ns)) {\n      delete this.data[lng][ns];\n    }\n    this.removeNamespaces(ns);\n    this.emit('removed', lng, ns);\n  }\n  hasResourceBundle(lng, ns) {\n    return this.getResource(lng, ns) !== undefined;\n  }\n  getResourceBundle(lng, ns) {\n    if (!ns) ns = this.options.defaultNS;\n    if (this.options.compatibilityAPI === 'v1') return {\n      ...{},\n      ...this.getResource(lng, ns)\n    };\n    return this.getResource(lng, ns);\n  }\n  getDataByLanguage(lng) {\n    return this.data[lng];\n  }\n  hasLanguageSomeTranslations(lng) {\n    const data = this.getDataByLanguage(lng);\n    const n = data && Object.keys(data) || [];\n    return !!n.find(v => data[v] && Object.keys(data[v]).length > 0);\n  }\n  toJSON() {\n    return this.data;\n  }\n}\n\nvar postProcessor = {\n  processors: {},\n  addPostProcessor(module) {\n    this.processors[module.name] = module;\n  },\n  handle(processors, value, key, options, translator) {\n    processors.forEach(processor => {\n      if (this.processors[processor]) value = this.processors[processor].process(value, key, options, translator);\n    });\n    return value;\n  }\n};\n\nconst checkedLoadedFor = {};\nclass Translator extends EventEmitter {\n  constructor(services) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    super();\n    copy(['resourceStore', 'languageUtils', 'pluralResolver', 'interpolator', 'backendConnector', 'i18nFormat', 'utils'], services, this);\n    this.options = options;\n    if (this.options.keySeparator === undefined) {\n      this.options.keySeparator = '.';\n    }\n    this.logger = baseLogger.create('translator');\n  }\n  changeLanguage(lng) {\n    if (lng) this.language = lng;\n  }\n  exists(key) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      interpolation: {}\n    };\n    if (key === undefined || key === null) {\n      return false;\n    }\n    const resolved = this.resolve(key, options);\n    return resolved && resolved.res !== undefined;\n  }\n  extractFromKey(key, options) {\n    let nsSeparator = options.nsSeparator !== undefined ? options.nsSeparator : this.options.nsSeparator;\n    if (nsSeparator === undefined) nsSeparator = ':';\n    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n    let namespaces = options.ns || this.options.defaultNS || [];\n    const wouldCheckForNsInKey = nsSeparator && key.indexOf(nsSeparator) > -1;\n    const seemsNaturalLanguage = !this.options.userDefinedKeySeparator && !options.keySeparator && !this.options.userDefinedNsSeparator && !options.nsSeparator && !looksLikeObjectPath(key, nsSeparator, keySeparator);\n    if (wouldCheckForNsInKey && !seemsNaturalLanguage) {\n      const m = key.match(this.interpolator.nestingRegexp);\n      if (m && m.length > 0) {\n        return {\n          key,\n          namespaces: isString(namespaces) ? [namespaces] : namespaces\n        };\n      }\n      const parts = key.split(nsSeparator);\n      if (nsSeparator !== keySeparator || nsSeparator === keySeparator && this.options.ns.indexOf(parts[0]) > -1) namespaces = parts.shift();\n      key = parts.join(keySeparator);\n    }\n    return {\n      key,\n      namespaces: isString(namespaces) ? [namespaces] : namespaces\n    };\n  }\n  translate(keys, options, lastKey) {\n    if (typeof options !== 'object' && this.options.overloadTranslationOptionHandler) {\n      options = this.options.overloadTranslationOptionHandler(arguments);\n    }\n    if (typeof options === 'object') options = {\n      ...options\n    };\n    if (!options) options = {};\n    if (keys === undefined || keys === null) return '';\n    if (!Array.isArray(keys)) keys = [String(keys)];\n    const returnDetails = options.returnDetails !== undefined ? options.returnDetails : this.options.returnDetails;\n    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n    const {\n      key,\n      namespaces\n    } = this.extractFromKey(keys[keys.length - 1], options);\n    const namespace = namespaces[namespaces.length - 1];\n    const lng = options.lng || this.language;\n    const appendNamespaceToCIMode = options.appendNamespaceToCIMode || this.options.appendNamespaceToCIMode;\n    if (lng && lng.toLowerCase() === 'cimode') {\n      if (appendNamespaceToCIMode) {\n        const nsSeparator = options.nsSeparator || this.options.nsSeparator;\n        if (returnDetails) {\n          return {\n            res: `${namespace}${nsSeparator}${key}`,\n            usedKey: key,\n            exactUsedKey: key,\n            usedLng: lng,\n            usedNS: namespace,\n            usedParams: this.getUsedParamsDetails(options)\n          };\n        }\n        return `${namespace}${nsSeparator}${key}`;\n      }\n      if (returnDetails) {\n        return {\n          res: key,\n          usedKey: key,\n          exactUsedKey: key,\n          usedLng: lng,\n          usedNS: namespace,\n          usedParams: this.getUsedParamsDetails(options)\n        };\n      }\n      return key;\n    }\n    const resolved = this.resolve(keys, options);\n    let res = resolved && resolved.res;\n    const resUsedKey = resolved && resolved.usedKey || key;\n    const resExactUsedKey = resolved && resolved.exactUsedKey || key;\n    const resType = Object.prototype.toString.apply(res);\n    const noObject = ['[object Number]', '[object Function]', '[object RegExp]'];\n    const joinArrays = options.joinArrays !== undefined ? options.joinArrays : this.options.joinArrays;\n    const handleAsObjectInI18nFormat = !this.i18nFormat || this.i18nFormat.handleAsObject;\n    const handleAsObject = !isString(res) && typeof res !== 'boolean' && typeof res !== 'number';\n    if (handleAsObjectInI18nFormat && res && handleAsObject && noObject.indexOf(resType) < 0 && !(isString(joinArrays) && Array.isArray(res))) {\n      if (!options.returnObjects && !this.options.returnObjects) {\n        if (!this.options.returnedObjectHandler) {\n          this.logger.warn('accessing an object - but returnObjects options is not enabled!');\n        }\n        const r = this.options.returnedObjectHandler ? this.options.returnedObjectHandler(resUsedKey, res, {\n          ...options,\n          ns: namespaces\n        }) : `key '${key} (${this.language})' returned an object instead of string.`;\n        if (returnDetails) {\n          resolved.res = r;\n          resolved.usedParams = this.getUsedParamsDetails(options);\n          return resolved;\n        }\n        return r;\n      }\n      if (keySeparator) {\n        const resTypeIsArray = Array.isArray(res);\n        const copy = resTypeIsArray ? [] : {};\n        const newKeyToUse = resTypeIsArray ? resExactUsedKey : resUsedKey;\n        for (const m in res) {\n          if (Object.prototype.hasOwnProperty.call(res, m)) {\n            const deepKey = `${newKeyToUse}${keySeparator}${m}`;\n            copy[m] = this.translate(deepKey, {\n              ...options,\n              ...{\n                joinArrays: false,\n                ns: namespaces\n              }\n            });\n            if (copy[m] === deepKey) copy[m] = res[m];\n          }\n        }\n        res = copy;\n      }\n    } else if (handleAsObjectInI18nFormat && isString(joinArrays) && Array.isArray(res)) {\n      res = res.join(joinArrays);\n      if (res) res = this.extendTranslation(res, keys, options, lastKey);\n    } else {\n      let usedDefault = false;\n      let usedKey = false;\n      const needsPluralHandling = options.count !== undefined && !isString(options.count);\n      const hasDefaultValue = Translator.hasDefaultValue(options);\n      const defaultValueSuffix = needsPluralHandling ? this.pluralResolver.getSuffix(lng, options.count, options) : '';\n      const defaultValueSuffixOrdinalFallback = options.ordinal && needsPluralHandling ? this.pluralResolver.getSuffix(lng, options.count, {\n        ordinal: false\n      }) : '';\n      const needsZeroSuffixLookup = needsPluralHandling && !options.ordinal && options.count === 0 && this.pluralResolver.shouldUseIntlApi();\n      const defaultValue = needsZeroSuffixLookup && options[`defaultValue${this.options.pluralSeparator}zero`] || options[`defaultValue${defaultValueSuffix}`] || options[`defaultValue${defaultValueSuffixOrdinalFallback}`] || options.defaultValue;\n      if (!this.isValidLookup(res) && hasDefaultValue) {\n        usedDefault = true;\n        res = defaultValue;\n      }\n      if (!this.isValidLookup(res)) {\n        usedKey = true;\n        res = key;\n      }\n      const missingKeyNoValueFallbackToKey = options.missingKeyNoValueFallbackToKey || this.options.missingKeyNoValueFallbackToKey;\n      const resForMissing = missingKeyNoValueFallbackToKey && usedKey ? undefined : res;\n      const updateMissing = hasDefaultValue && defaultValue !== res && this.options.updateMissing;\n      if (usedKey || usedDefault || updateMissing) {\n        this.logger.log(updateMissing ? 'updateKey' : 'missingKey', lng, namespace, key, updateMissing ? defaultValue : res);\n        if (keySeparator) {\n          const fk = this.resolve(key, {\n            ...options,\n            keySeparator: false\n          });\n          if (fk && fk.res) this.logger.warn('Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.');\n        }\n        let lngs = [];\n        const fallbackLngs = this.languageUtils.getFallbackCodes(this.options.fallbackLng, options.lng || this.language);\n        if (this.options.saveMissingTo === 'fallback' && fallbackLngs && fallbackLngs[0]) {\n          for (let i = 0; i < fallbackLngs.length; i++) {\n            lngs.push(fallbackLngs[i]);\n          }\n        } else if (this.options.saveMissingTo === 'all') {\n          lngs = this.languageUtils.toResolveHierarchy(options.lng || this.language);\n        } else {\n          lngs.push(options.lng || this.language);\n        }\n        const send = (l, k, specificDefaultValue) => {\n          const defaultForMissing = hasDefaultValue && specificDefaultValue !== res ? specificDefaultValue : resForMissing;\n          if (this.options.missingKeyHandler) {\n            this.options.missingKeyHandler(l, namespace, k, defaultForMissing, updateMissing, options);\n          } else if (this.backendConnector && this.backendConnector.saveMissing) {\n            this.backendConnector.saveMissing(l, namespace, k, defaultForMissing, updateMissing, options);\n          }\n          this.emit('missingKey', l, namespace, k, res);\n        };\n        if (this.options.saveMissing) {\n          if (this.options.saveMissingPlurals && needsPluralHandling) {\n            lngs.forEach(language => {\n              const suffixes = this.pluralResolver.getSuffixes(language, options);\n              if (needsZeroSuffixLookup && options[`defaultValue${this.options.pluralSeparator}zero`] && suffixes.indexOf(`${this.options.pluralSeparator}zero`) < 0) {\n                suffixes.push(`${this.options.pluralSeparator}zero`);\n              }\n              suffixes.forEach(suffix => {\n                send([language], key + suffix, options[`defaultValue${suffix}`] || defaultValue);\n              });\n            });\n          } else {\n            send(lngs, key, defaultValue);\n          }\n        }\n      }\n      res = this.extendTranslation(res, keys, options, resolved, lastKey);\n      if (usedKey && res === key && this.options.appendNamespaceToMissingKey) res = `${namespace}:${key}`;\n      if ((usedKey || usedDefault) && this.options.parseMissingKeyHandler) {\n        if (this.options.compatibilityAPI !== 'v1') {\n          res = this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey ? `${namespace}:${key}` : key, usedDefault ? res : undefined);\n        } else {\n          res = this.options.parseMissingKeyHandler(res);\n        }\n      }\n    }\n    if (returnDetails) {\n      resolved.res = res;\n      resolved.usedParams = this.getUsedParamsDetails(options);\n      return resolved;\n    }\n    return res;\n  }\n  extendTranslation(res, key, options, resolved, lastKey) {\n    var _this = this;\n    if (this.i18nFormat && this.i18nFormat.parse) {\n      res = this.i18nFormat.parse(res, {\n        ...this.options.interpolation.defaultVariables,\n        ...options\n      }, options.lng || this.language || resolved.usedLng, resolved.usedNS, resolved.usedKey, {\n        resolved\n      });\n    } else if (!options.skipInterpolation) {\n      if (options.interpolation) this.interpolator.init({\n        ...options,\n        ...{\n          interpolation: {\n            ...this.options.interpolation,\n            ...options.interpolation\n          }\n        }\n      });\n      const skipOnVariables = isString(res) && (options && options.interpolation && options.interpolation.skipOnVariables !== undefined ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables);\n      let nestBef;\n      if (skipOnVariables) {\n        const nb = res.match(this.interpolator.nestingRegexp);\n        nestBef = nb && nb.length;\n      }\n      let data = options.replace && !isString(options.replace) ? options.replace : options;\n      if (this.options.interpolation.defaultVariables) data = {\n        ...this.options.interpolation.defaultVariables,\n        ...data\n      };\n      res = this.interpolator.interpolate(res, data, options.lng || this.language || resolved.usedLng, options);\n      if (skipOnVariables) {\n        const na = res.match(this.interpolator.nestingRegexp);\n        const nestAft = na && na.length;\n        if (nestBef < nestAft) options.nest = false;\n      }\n      if (!options.lng && this.options.compatibilityAPI !== 'v1' && resolved && resolved.res) options.lng = this.language || resolved.usedLng;\n      if (options.nest !== false) res = this.interpolator.nest(res, function () {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n        if (lastKey && lastKey[0] === args[0] && !options.context) {\n          _this.logger.warn(`It seems you are nesting recursively key: ${args[0]} in key: ${key[0]}`);\n          return null;\n        }\n        return _this.translate(...args, key);\n      }, options);\n      if (options.interpolation) this.interpolator.reset();\n    }\n    const postProcess = options.postProcess || this.options.postProcess;\n    const postProcessorNames = isString(postProcess) ? [postProcess] : postProcess;\n    if (res !== undefined && res !== null && postProcessorNames && postProcessorNames.length && options.applyPostProcessor !== false) {\n      res = postProcessor.handle(postProcessorNames, res, key, this.options && this.options.postProcessPassResolved ? {\n        i18nResolved: {\n          ...resolved,\n          usedParams: this.getUsedParamsDetails(options)\n        },\n        ...options\n      } : options, this);\n    }\n    return res;\n  }\n  resolve(keys) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let found;\n    let usedKey;\n    let exactUsedKey;\n    let usedLng;\n    let usedNS;\n    if (isString(keys)) keys = [keys];\n    keys.forEach(k => {\n      if (this.isValidLookup(found)) return;\n      const extracted = this.extractFromKey(k, options);\n      const key = extracted.key;\n      usedKey = key;\n      let namespaces = extracted.namespaces;\n      if (this.options.fallbackNS) namespaces = namespaces.concat(this.options.fallbackNS);\n      const needsPluralHandling = options.count !== undefined && !isString(options.count);\n      const needsZeroSuffixLookup = needsPluralHandling && !options.ordinal && options.count === 0 && this.pluralResolver.shouldUseIntlApi();\n      const needsContextHandling = options.context !== undefined && (isString(options.context) || typeof options.context === 'number') && options.context !== '';\n      const codes = options.lngs ? options.lngs : this.languageUtils.toResolveHierarchy(options.lng || this.language, options.fallbackLng);\n      namespaces.forEach(ns => {\n        if (this.isValidLookup(found)) return;\n        usedNS = ns;\n        if (!checkedLoadedFor[`${codes[0]}-${ns}`] && this.utils && this.utils.hasLoadedNamespace && !this.utils.hasLoadedNamespace(usedNS)) {\n          checkedLoadedFor[`${codes[0]}-${ns}`] = true;\n          this.logger.warn(`key \"${usedKey}\" for languages \"${codes.join(', ')}\" won't get resolved as namespace \"${usedNS}\" was not yet loaded`, 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');\n        }\n        codes.forEach(code => {\n          if (this.isValidLookup(found)) return;\n          usedLng = code;\n          const finalKeys = [key];\n          if (this.i18nFormat && this.i18nFormat.addLookupKeys) {\n            this.i18nFormat.addLookupKeys(finalKeys, key, code, ns, options);\n          } else {\n            let pluralSuffix;\n            if (needsPluralHandling) pluralSuffix = this.pluralResolver.getSuffix(code, options.count, options);\n            const zeroSuffix = `${this.options.pluralSeparator}zero`;\n            const ordinalPrefix = `${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;\n            if (needsPluralHandling) {\n              finalKeys.push(key + pluralSuffix);\n              if (options.ordinal && pluralSuffix.indexOf(ordinalPrefix) === 0) {\n                finalKeys.push(key + pluralSuffix.replace(ordinalPrefix, this.options.pluralSeparator));\n              }\n              if (needsZeroSuffixLookup) {\n                finalKeys.push(key + zeroSuffix);\n              }\n            }\n            if (needsContextHandling) {\n              const contextKey = `${key}${this.options.contextSeparator}${options.context}`;\n              finalKeys.push(contextKey);\n              if (needsPluralHandling) {\n                finalKeys.push(contextKey + pluralSuffix);\n                if (options.ordinal && pluralSuffix.indexOf(ordinalPrefix) === 0) {\n                  finalKeys.push(contextKey + pluralSuffix.replace(ordinalPrefix, this.options.pluralSeparator));\n                }\n                if (needsZeroSuffixLookup) {\n                  finalKeys.push(contextKey + zeroSuffix);\n                }\n              }\n            }\n          }\n          let possibleKey;\n          while (possibleKey = finalKeys.pop()) {\n            if (!this.isValidLookup(found)) {\n              exactUsedKey = possibleKey;\n              found = this.getResource(code, ns, possibleKey, options);\n            }\n          }\n        });\n      });\n    });\n    return {\n      res: found,\n      usedKey,\n      exactUsedKey,\n      usedLng,\n      usedNS\n    };\n  }\n  isValidLookup(res) {\n    return res !== undefined && !(!this.options.returnNull && res === null) && !(!this.options.returnEmptyString && res === '');\n  }\n  getResource(code, ns, key) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    if (this.i18nFormat && this.i18nFormat.getResource) return this.i18nFormat.getResource(code, ns, key, options);\n    return this.resourceStore.getResource(code, ns, key, options);\n  }\n  getUsedParamsDetails() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    const optionsKeys = ['defaultValue', 'ordinal', 'context', 'replace', 'lng', 'lngs', 'fallbackLng', 'ns', 'keySeparator', 'nsSeparator', 'returnObjects', 'returnDetails', 'joinArrays', 'postProcess', 'interpolation'];\n    const useOptionsReplaceForData = options.replace && !isString(options.replace);\n    let data = useOptionsReplaceForData ? options.replace : options;\n    if (useOptionsReplaceForData && typeof options.count !== 'undefined') {\n      data.count = options.count;\n    }\n    if (this.options.interpolation.defaultVariables) {\n      data = {\n        ...this.options.interpolation.defaultVariables,\n        ...data\n      };\n    }\n    if (!useOptionsReplaceForData) {\n      data = {\n        ...data\n      };\n      for (const key of optionsKeys) {\n        delete data[key];\n      }\n    }\n    return data;\n  }\n  static hasDefaultValue(options) {\n    const prefix = 'defaultValue';\n    for (const option in options) {\n      if (Object.prototype.hasOwnProperty.call(options, option) && prefix === option.substring(0, prefix.length) && undefined !== options[option]) {\n        return true;\n      }\n    }\n    return false;\n  }\n}\n\nconst capitalize = string => string.charAt(0).toUpperCase() + string.slice(1);\nclass LanguageUtil {\n  constructor(options) {\n    this.options = options;\n    this.supportedLngs = this.options.supportedLngs || false;\n    this.logger = baseLogger.create('languageUtils');\n  }\n  getScriptPartFromCode(code) {\n    code = getCleanedCode(code);\n    if (!code || code.indexOf('-') < 0) return null;\n    const p = code.split('-');\n    if (p.length === 2) return null;\n    p.pop();\n    if (p[p.length - 1].toLowerCase() === 'x') return null;\n    return this.formatLanguageCode(p.join('-'));\n  }\n  getLanguagePartFromCode(code) {\n    code = getCleanedCode(code);\n    if (!code || code.indexOf('-') < 0) return code;\n    const p = code.split('-');\n    return this.formatLanguageCode(p[0]);\n  }\n  formatLanguageCode(code) {\n    if (isString(code) && code.indexOf('-') > -1) {\n      if (typeof Intl !== 'undefined' && typeof Intl.getCanonicalLocales !== 'undefined') {\n        try {\n          let formattedCode = Intl.getCanonicalLocales(code)[0];\n          if (formattedCode && this.options.lowerCaseLng) {\n            formattedCode = formattedCode.toLowerCase();\n          }\n          if (formattedCode) return formattedCode;\n        } catch (e) {}\n      }\n      const specialCases = ['hans', 'hant', 'latn', 'cyrl', 'cans', 'mong', 'arab'];\n      let p = code.split('-');\n      if (this.options.lowerCaseLng) {\n        p = p.map(part => part.toLowerCase());\n      } else if (p.length === 2) {\n        p[0] = p[0].toLowerCase();\n        p[1] = p[1].toUpperCase();\n        if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n      } else if (p.length === 3) {\n        p[0] = p[0].toLowerCase();\n        if (p[1].length === 2) p[1] = p[1].toUpperCase();\n        if (p[0] !== 'sgn' && p[2].length === 2) p[2] = p[2].toUpperCase();\n        if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n        if (specialCases.indexOf(p[2].toLowerCase()) > -1) p[2] = capitalize(p[2].toLowerCase());\n      }\n      return p.join('-');\n    }\n    return this.options.cleanCode || this.options.lowerCaseLng ? code.toLowerCase() : code;\n  }\n  isSupportedCode(code) {\n    if (this.options.load === 'languageOnly' || this.options.nonExplicitSupportedLngs) {\n      code = this.getLanguagePartFromCode(code);\n    }\n    return !this.supportedLngs || !this.supportedLngs.length || this.supportedLngs.indexOf(code) > -1;\n  }\n  getBestMatchFromCodes(codes) {\n    if (!codes) return null;\n    let found;\n    codes.forEach(code => {\n      if (found) return;\n      const cleanedLng = this.formatLanguageCode(code);\n      if (!this.options.supportedLngs || this.isSupportedCode(cleanedLng)) found = cleanedLng;\n    });\n    if (!found && this.options.supportedLngs) {\n      codes.forEach(code => {\n        if (found) return;\n        const lngOnly = this.getLanguagePartFromCode(code);\n        if (this.isSupportedCode(lngOnly)) return found = lngOnly;\n        found = this.options.supportedLngs.find(supportedLng => {\n          if (supportedLng === lngOnly) return supportedLng;\n          if (supportedLng.indexOf('-') < 0 && lngOnly.indexOf('-') < 0) return;\n          if (supportedLng.indexOf('-') > 0 && lngOnly.indexOf('-') < 0 && supportedLng.substring(0, supportedLng.indexOf('-')) === lngOnly) return supportedLng;\n          if (supportedLng.indexOf(lngOnly) === 0 && lngOnly.length > 1) return supportedLng;\n        });\n      });\n    }\n    if (!found) found = this.getFallbackCodes(this.options.fallbackLng)[0];\n    return found;\n  }\n  getFallbackCodes(fallbacks, code) {\n    if (!fallbacks) return [];\n    if (typeof fallbacks === 'function') fallbacks = fallbacks(code);\n    if (isString(fallbacks)) fallbacks = [fallbacks];\n    if (Array.isArray(fallbacks)) return fallbacks;\n    if (!code) return fallbacks.default || [];\n    let found = fallbacks[code];\n    if (!found) found = fallbacks[this.getScriptPartFromCode(code)];\n    if (!found) found = fallbacks[this.formatLanguageCode(code)];\n    if (!found) found = fallbacks[this.getLanguagePartFromCode(code)];\n    if (!found) found = fallbacks.default;\n    return found || [];\n  }\n  toResolveHierarchy(code, fallbackCode) {\n    const fallbackCodes = this.getFallbackCodes(fallbackCode || this.options.fallbackLng || [], code);\n    const codes = [];\n    const addCode = c => {\n      if (!c) return;\n      if (this.isSupportedCode(c)) {\n        codes.push(c);\n      } else {\n        this.logger.warn(`rejecting language code not found in supportedLngs: ${c}`);\n      }\n    };\n    if (isString(code) && (code.indexOf('-') > -1 || code.indexOf('_') > -1)) {\n      if (this.options.load !== 'languageOnly') addCode(this.formatLanguageCode(code));\n      if (this.options.load !== 'languageOnly' && this.options.load !== 'currentOnly') addCode(this.getScriptPartFromCode(code));\n      if (this.options.load !== 'currentOnly') addCode(this.getLanguagePartFromCode(code));\n    } else if (isString(code)) {\n      addCode(this.formatLanguageCode(code));\n    }\n    fallbackCodes.forEach(fc => {\n      if (codes.indexOf(fc) < 0) addCode(this.formatLanguageCode(fc));\n    });\n    return codes;\n  }\n}\n\nlet sets = [{\n  lngs: ['ach', 'ak', 'am', 'arn', 'br', 'fil', 'gun', 'ln', 'mfe', 'mg', 'mi', 'oc', 'pt', 'pt-BR', 'tg', 'tl', 'ti', 'tr', 'uz', 'wa'],\n  nr: [1, 2],\n  fc: 1\n}, {\n  lngs: ['af', 'an', 'ast', 'az', 'bg', 'bn', 'ca', 'da', 'de', 'dev', 'el', 'en', 'eo', 'es', 'et', 'eu', 'fi', 'fo', 'fur', 'fy', 'gl', 'gu', 'ha', 'hi', 'hu', 'hy', 'ia', 'it', 'kk', 'kn', 'ku', 'lb', 'mai', 'ml', 'mn', 'mr', 'nah', 'nap', 'nb', 'ne', 'nl', 'nn', 'no', 'nso', 'pa', 'pap', 'pms', 'ps', 'pt-PT', 'rm', 'sco', 'se', 'si', 'so', 'son', 'sq', 'sv', 'sw', 'ta', 'te', 'tk', 'ur', 'yo'],\n  nr: [1, 2],\n  fc: 2\n}, {\n  lngs: ['ay', 'bo', 'cgg', 'fa', 'ht', 'id', 'ja', 'jbo', 'ka', 'km', 'ko', 'ky', 'lo', 'ms', 'sah', 'su', 'th', 'tt', 'ug', 'vi', 'wo', 'zh'],\n  nr: [1],\n  fc: 3\n}, {\n  lngs: ['be', 'bs', 'cnr', 'dz', 'hr', 'ru', 'sr', 'uk'],\n  nr: [1, 2, 5],\n  fc: 4\n}, {\n  lngs: ['ar'],\n  nr: [0, 1, 2, 3, 11, 100],\n  fc: 5\n}, {\n  lngs: ['cs', 'sk'],\n  nr: [1, 2, 5],\n  fc: 6\n}, {\n  lngs: ['csb', 'pl'],\n  nr: [1, 2, 5],\n  fc: 7\n}, {\n  lngs: ['cy'],\n  nr: [1, 2, 3, 8],\n  fc: 8\n}, {\n  lngs: ['fr'],\n  nr: [1, 2],\n  fc: 9\n}, {\n  lngs: ['ga'],\n  nr: [1, 2, 3, 7, 11],\n  fc: 10\n}, {\n  lngs: ['gd'],\n  nr: [1, 2, 3, 20],\n  fc: 11\n}, {\n  lngs: ['is'],\n  nr: [1, 2],\n  fc: 12\n}, {\n  lngs: ['jv'],\n  nr: [0, 1],\n  fc: 13\n}, {\n  lngs: ['kw'],\n  nr: [1, 2, 3, 4],\n  fc: 14\n}, {\n  lngs: ['lt'],\n  nr: [1, 2, 10],\n  fc: 15\n}, {\n  lngs: ['lv'],\n  nr: [1, 2, 0],\n  fc: 16\n}, {\n  lngs: ['mk'],\n  nr: [1, 2],\n  fc: 17\n}, {\n  lngs: ['mnk'],\n  nr: [0, 1, 2],\n  fc: 18\n}, {\n  lngs: ['mt'],\n  nr: [1, 2, 11, 20],\n  fc: 19\n}, {\n  lngs: ['or'],\n  nr: [2, 1],\n  fc: 2\n}, {\n  lngs: ['ro'],\n  nr: [1, 2, 20],\n  fc: 20\n}, {\n  lngs: ['sl'],\n  nr: [5, 1, 2, 3],\n  fc: 21\n}, {\n  lngs: ['he', 'iw'],\n  nr: [1, 2, 20, 21],\n  fc: 22\n}];\nlet _rulesPluralsTypes = {\n  1: n => Number(n > 1),\n  2: n => Number(n != 1),\n  3: n => 0,\n  4: n => Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2),\n  5: n => Number(n == 0 ? 0 : n == 1 ? 1 : n == 2 ? 2 : n % 100 >= 3 && n % 100 <= 10 ? 3 : n % 100 >= 11 ? 4 : 5),\n  6: n => Number(n == 1 ? 0 : n >= 2 && n <= 4 ? 1 : 2),\n  7: n => Number(n == 1 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2),\n  8: n => Number(n == 1 ? 0 : n == 2 ? 1 : n != 8 && n != 11 ? 2 : 3),\n  9: n => Number(n >= 2),\n  10: n => Number(n == 1 ? 0 : n == 2 ? 1 : n < 7 ? 2 : n < 11 ? 3 : 4),\n  11: n => Number(n == 1 || n == 11 ? 0 : n == 2 || n == 12 ? 1 : n > 2 && n < 20 ? 2 : 3),\n  12: n => Number(n % 10 != 1 || n % 100 == 11),\n  13: n => Number(n !== 0),\n  14: n => Number(n == 1 ? 0 : n == 2 ? 1 : n == 3 ? 2 : 3),\n  15: n => Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2),\n  16: n => Number(n % 10 == 1 && n % 100 != 11 ? 0 : n !== 0 ? 1 : 2),\n  17: n => Number(n == 1 || n % 10 == 1 && n % 100 != 11 ? 0 : 1),\n  18: n => Number(n == 0 ? 0 : n == 1 ? 1 : 2),\n  19: n => Number(n == 1 ? 0 : n == 0 || n % 100 > 1 && n % 100 < 11 ? 1 : n % 100 > 10 && n % 100 < 20 ? 2 : 3),\n  20: n => Number(n == 1 ? 0 : n == 0 || n % 100 > 0 && n % 100 < 20 ? 1 : 2),\n  21: n => Number(n % 100 == 1 ? 1 : n % 100 == 2 ? 2 : n % 100 == 3 || n % 100 == 4 ? 3 : 0),\n  22: n => Number(n == 1 ? 0 : n == 2 ? 1 : (n < 0 || n > 10) && n % 10 == 0 ? 2 : 3)\n};\nconst nonIntlVersions = ['v1', 'v2', 'v3'];\nconst intlVersions = ['v4'];\nconst suffixesOrder = {\n  zero: 0,\n  one: 1,\n  two: 2,\n  few: 3,\n  many: 4,\n  other: 5\n};\nconst createRules = () => {\n  const rules = {};\n  sets.forEach(set => {\n    set.lngs.forEach(l => {\n      rules[l] = {\n        numbers: set.nr,\n        plurals: _rulesPluralsTypes[set.fc]\n      };\n    });\n  });\n  return rules;\n};\nclass PluralResolver {\n  constructor(languageUtils) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this.languageUtils = languageUtils;\n    this.options = options;\n    this.logger = baseLogger.create('pluralResolver');\n    if ((!this.options.compatibilityJSON || intlVersions.includes(this.options.compatibilityJSON)) && (typeof Intl === 'undefined' || !Intl.PluralRules)) {\n      this.options.compatibilityJSON = 'v3';\n      this.logger.error('Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.');\n    }\n    this.rules = createRules();\n    this.pluralRulesCache = {};\n  }\n  addRule(lng, obj) {\n    this.rules[lng] = obj;\n  }\n  clearCache() {\n    this.pluralRulesCache = {};\n  }\n  getRule(code) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    if (this.shouldUseIntlApi()) {\n      try {\n        const cleanedCode = getCleanedCode(code === 'dev' ? 'en' : code);\n        const type = options.ordinal ? 'ordinal' : 'cardinal';\n        const cacheKey = JSON.stringify({\n          cleanedCode,\n          type\n        });\n        if (cacheKey in this.pluralRulesCache) {\n          return this.pluralRulesCache[cacheKey];\n        }\n        const rule = new Intl.PluralRules(cleanedCode, {\n          type\n        });\n        this.pluralRulesCache[cacheKey] = rule;\n        return rule;\n      } catch (err) {\n        return;\n      }\n    }\n    return this.rules[code] || this.rules[this.languageUtils.getLanguagePartFromCode(code)];\n  }\n  needsPlural(code) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const rule = this.getRule(code, options);\n    if (this.shouldUseIntlApi()) {\n      return rule && rule.resolvedOptions().pluralCategories.length > 1;\n    }\n    return rule && rule.numbers.length > 1;\n  }\n  getPluralFormsOfKey(code, key) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return this.getSuffixes(code, options).map(suffix => `${key}${suffix}`);\n  }\n  getSuffixes(code) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const rule = this.getRule(code, options);\n    if (!rule) {\n      return [];\n    }\n    if (this.shouldUseIntlApi()) {\n      return rule.resolvedOptions().pluralCategories.sort((pluralCategory1, pluralCategory2) => suffixesOrder[pluralCategory1] - suffixesOrder[pluralCategory2]).map(pluralCategory => `${this.options.prepend}${options.ordinal ? `ordinal${this.options.prepend}` : ''}${pluralCategory}`);\n    }\n    return rule.numbers.map(number => this.getSuffix(code, number, options));\n  }\n  getSuffix(code, count) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    const rule = this.getRule(code, options);\n    if (rule) {\n      if (this.shouldUseIntlApi()) {\n        return `${this.options.prepend}${options.ordinal ? `ordinal${this.options.prepend}` : ''}${rule.select(count)}`;\n      }\n      return this.getSuffixRetroCompatible(rule, count);\n    }\n    this.logger.warn(`no plural rule found for: ${code}`);\n    return '';\n  }\n  getSuffixRetroCompatible(rule, count) {\n    const idx = rule.noAbs ? rule.plurals(count) : rule.plurals(Math.abs(count));\n    let suffix = rule.numbers[idx];\n    if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {\n      if (suffix === 2) {\n        suffix = 'plural';\n      } else if (suffix === 1) {\n        suffix = '';\n      }\n    }\n    const returnSuffix = () => this.options.prepend && suffix.toString() ? this.options.prepend + suffix.toString() : suffix.toString();\n    if (this.options.compatibilityJSON === 'v1') {\n      if (suffix === 1) return '';\n      if (typeof suffix === 'number') return `_plural_${suffix.toString()}`;\n      return returnSuffix();\n    } else if (this.options.compatibilityJSON === 'v2') {\n      return returnSuffix();\n    } else if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {\n      return returnSuffix();\n    }\n    return this.options.prepend && idx.toString() ? this.options.prepend + idx.toString() : idx.toString();\n  }\n  shouldUseIntlApi() {\n    return !nonIntlVersions.includes(this.options.compatibilityJSON);\n  }\n}\n\nconst deepFindWithDefaults = function (data, defaultData, key) {\n  let keySeparator = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '.';\n  let ignoreJSONStructure = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n  let path = getPathWithDefaults(data, defaultData, key);\n  if (!path && ignoreJSONStructure && isString(key)) {\n    path = deepFind(data, key, keySeparator);\n    if (path === undefined) path = deepFind(defaultData, key, keySeparator);\n  }\n  return path;\n};\nconst regexSafe = val => val.replace(/\\$/g, '$$$$');\nclass Interpolator {\n  constructor() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    this.logger = baseLogger.create('interpolator');\n    this.options = options;\n    this.format = options.interpolation && options.interpolation.format || (value => value);\n    this.init(options);\n  }\n  init() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    if (!options.interpolation) options.interpolation = {\n      escapeValue: true\n    };\n    const {\n      escape: escape$1,\n      escapeValue,\n      useRawValueToEscape,\n      prefix,\n      prefixEscaped,\n      suffix,\n      suffixEscaped,\n      formatSeparator,\n      unescapeSuffix,\n      unescapePrefix,\n      nestingPrefix,\n      nestingPrefixEscaped,\n      nestingSuffix,\n      nestingSuffixEscaped,\n      nestingOptionsSeparator,\n      maxReplaces,\n      alwaysFormat\n    } = options.interpolation;\n    this.escape = escape$1 !== undefined ? escape$1 : escape;\n    this.escapeValue = escapeValue !== undefined ? escapeValue : true;\n    this.useRawValueToEscape = useRawValueToEscape !== undefined ? useRawValueToEscape : false;\n    this.prefix = prefix ? regexEscape(prefix) : prefixEscaped || '{{';\n    this.suffix = suffix ? regexEscape(suffix) : suffixEscaped || '}}';\n    this.formatSeparator = formatSeparator || ',';\n    this.unescapePrefix = unescapeSuffix ? '' : unescapePrefix || '-';\n    this.unescapeSuffix = this.unescapePrefix ? '' : unescapeSuffix || '';\n    this.nestingPrefix = nestingPrefix ? regexEscape(nestingPrefix) : nestingPrefixEscaped || regexEscape('$t(');\n    this.nestingSuffix = nestingSuffix ? regexEscape(nestingSuffix) : nestingSuffixEscaped || regexEscape(')');\n    this.nestingOptionsSeparator = nestingOptionsSeparator || ',';\n    this.maxReplaces = maxReplaces || 1000;\n    this.alwaysFormat = alwaysFormat !== undefined ? alwaysFormat : false;\n    this.resetRegExp();\n  }\n  reset() {\n    if (this.options) this.init(this.options);\n  }\n  resetRegExp() {\n    const getOrResetRegExp = (existingRegExp, pattern) => {\n      if (existingRegExp && existingRegExp.source === pattern) {\n        existingRegExp.lastIndex = 0;\n        return existingRegExp;\n      }\n      return new RegExp(pattern, 'g');\n    };\n    this.regexp = getOrResetRegExp(this.regexp, `${this.prefix}(.+?)${this.suffix}`);\n    this.regexpUnescape = getOrResetRegExp(this.regexpUnescape, `${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`);\n    this.nestingRegexp = getOrResetRegExp(this.nestingRegexp, `${this.nestingPrefix}(.+?)${this.nestingSuffix}`);\n  }\n  interpolate(str, data, lng, options) {\n    let match;\n    let value;\n    let replaces;\n    const defaultData = this.options && this.options.interpolation && this.options.interpolation.defaultVariables || {};\n    const handleFormat = key => {\n      if (key.indexOf(this.formatSeparator) < 0) {\n        const path = deepFindWithDefaults(data, defaultData, key, this.options.keySeparator, this.options.ignoreJSONStructure);\n        return this.alwaysFormat ? this.format(path, undefined, lng, {\n          ...options,\n          ...data,\n          interpolationkey: key\n        }) : path;\n      }\n      const p = key.split(this.formatSeparator);\n      const k = p.shift().trim();\n      const f = p.join(this.formatSeparator).trim();\n      return this.format(deepFindWithDefaults(data, defaultData, k, this.options.keySeparator, this.options.ignoreJSONStructure), f, lng, {\n        ...options,\n        ...data,\n        interpolationkey: k\n      });\n    };\n    this.resetRegExp();\n    const missingInterpolationHandler = options && options.missingInterpolationHandler || this.options.missingInterpolationHandler;\n    const skipOnVariables = options && options.interpolation && options.interpolation.skipOnVariables !== undefined ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables;\n    const todos = [{\n      regex: this.regexpUnescape,\n      safeValue: val => regexSafe(val)\n    }, {\n      regex: this.regexp,\n      safeValue: val => this.escapeValue ? regexSafe(this.escape(val)) : regexSafe(val)\n    }];\n    todos.forEach(todo => {\n      replaces = 0;\n      while (match = todo.regex.exec(str)) {\n        const matchedVar = match[1].trim();\n        value = handleFormat(matchedVar);\n        if (value === undefined) {\n          if (typeof missingInterpolationHandler === 'function') {\n            const temp = missingInterpolationHandler(str, match, options);\n            value = isString(temp) ? temp : '';\n          } else if (options && Object.prototype.hasOwnProperty.call(options, matchedVar)) {\n            value = '';\n          } else if (skipOnVariables) {\n            value = match[0];\n            continue;\n          } else {\n            this.logger.warn(`missed to pass in variable ${matchedVar} for interpolating ${str}`);\n            value = '';\n          }\n        } else if (!isString(value) && !this.useRawValueToEscape) {\n          value = makeString(value);\n        }\n        const safeValue = todo.safeValue(value);\n        str = str.replace(match[0], safeValue);\n        if (skipOnVariables) {\n          todo.regex.lastIndex += value.length;\n          todo.regex.lastIndex -= match[0].length;\n        } else {\n          todo.regex.lastIndex = 0;\n        }\n        replaces++;\n        if (replaces >= this.maxReplaces) {\n          break;\n        }\n      }\n    });\n    return str;\n  }\n  nest(str, fc) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    let match;\n    let value;\n    let clonedOptions;\n    const handleHasOptions = (key, inheritedOptions) => {\n      const sep = this.nestingOptionsSeparator;\n      if (key.indexOf(sep) < 0) return key;\n      const c = key.split(new RegExp(`${sep}[ ]*{`));\n      let optionsString = `{${c[1]}`;\n      key = c[0];\n      optionsString = this.interpolate(optionsString, clonedOptions);\n      const matchedSingleQuotes = optionsString.match(/'/g);\n      const matchedDoubleQuotes = optionsString.match(/\"/g);\n      if (matchedSingleQuotes && matchedSingleQuotes.length % 2 === 0 && !matchedDoubleQuotes || matchedDoubleQuotes.length % 2 !== 0) {\n        optionsString = optionsString.replace(/'/g, '\"');\n      }\n      try {\n        clonedOptions = JSON.parse(optionsString);\n        if (inheritedOptions) clonedOptions = {\n          ...inheritedOptions,\n          ...clonedOptions\n        };\n      } catch (e) {\n        this.logger.warn(`failed parsing options string in nesting for key ${key}`, e);\n        return `${key}${sep}${optionsString}`;\n      }\n      if (clonedOptions.defaultValue && clonedOptions.defaultValue.indexOf(this.prefix) > -1) delete clonedOptions.defaultValue;\n      return key;\n    };\n    while (match = this.nestingRegexp.exec(str)) {\n      let formatters = [];\n      clonedOptions = {\n        ...options\n      };\n      clonedOptions = clonedOptions.replace && !isString(clonedOptions.replace) ? clonedOptions.replace : clonedOptions;\n      clonedOptions.applyPostProcessor = false;\n      delete clonedOptions.defaultValue;\n      let doReduce = false;\n      if (match[0].indexOf(this.formatSeparator) !== -1 && !/{.*}/.test(match[1])) {\n        const r = match[1].split(this.formatSeparator).map(elem => elem.trim());\n        match[1] = r.shift();\n        formatters = r;\n        doReduce = true;\n      }\n      value = fc(handleHasOptions.call(this, match[1].trim(), clonedOptions), clonedOptions);\n      if (value && match[0] === str && !isString(value)) return value;\n      if (!isString(value)) value = makeString(value);\n      if (!value) {\n        this.logger.warn(`missed to resolve ${match[1]} for nesting ${str}`);\n        value = '';\n      }\n      if (doReduce) {\n        value = formatters.reduce((v, f) => this.format(v, f, options.lng, {\n          ...options,\n          interpolationkey: match[1].trim()\n        }), value.trim());\n      }\n      str = str.replace(match[0], value);\n      this.regexp.lastIndex = 0;\n    }\n    return str;\n  }\n}\n\nconst parseFormatStr = formatStr => {\n  let formatName = formatStr.toLowerCase().trim();\n  const formatOptions = {};\n  if (formatStr.indexOf('(') > -1) {\n    const p = formatStr.split('(');\n    formatName = p[0].toLowerCase().trim();\n    const optStr = p[1].substring(0, p[1].length - 1);\n    if (formatName === 'currency' && optStr.indexOf(':') < 0) {\n      if (!formatOptions.currency) formatOptions.currency = optStr.trim();\n    } else if (formatName === 'relativetime' && optStr.indexOf(':') < 0) {\n      if (!formatOptions.range) formatOptions.range = optStr.trim();\n    } else {\n      const opts = optStr.split(';');\n      opts.forEach(opt => {\n        if (opt) {\n          const [key, ...rest] = opt.split(':');\n          const val = rest.join(':').trim().replace(/^'+|'+$/g, '');\n          const trimmedKey = key.trim();\n          if (!formatOptions[trimmedKey]) formatOptions[trimmedKey] = val;\n          if (val === 'false') formatOptions[trimmedKey] = false;\n          if (val === 'true') formatOptions[trimmedKey] = true;\n          if (!isNaN(val)) formatOptions[trimmedKey] = parseInt(val, 10);\n        }\n      });\n    }\n  }\n  return {\n    formatName,\n    formatOptions\n  };\n};\nconst createCachedFormatter = fn => {\n  const cache = {};\n  return (val, lng, options) => {\n    let optForCache = options;\n    if (options && options.interpolationkey && options.formatParams && options.formatParams[options.interpolationkey] && options[options.interpolationkey]) {\n      optForCache = {\n        ...optForCache,\n        [options.interpolationkey]: undefined\n      };\n    }\n    const key = lng + JSON.stringify(optForCache);\n    let formatter = cache[key];\n    if (!formatter) {\n      formatter = fn(getCleanedCode(lng), options);\n      cache[key] = formatter;\n    }\n    return formatter(val);\n  };\n};\nclass Formatter {\n  constructor() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    this.logger = baseLogger.create('formatter');\n    this.options = options;\n    this.formats = {\n      number: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.NumberFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val);\n      }),\n      currency: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.NumberFormat(lng, {\n          ...opt,\n          style: 'currency'\n        });\n        return val => formatter.format(val);\n      }),\n      datetime: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.DateTimeFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val);\n      }),\n      relativetime: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.RelativeTimeFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val, opt.range || 'day');\n      }),\n      list: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.ListFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val);\n      })\n    };\n    this.init(options);\n  }\n  init(services) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      interpolation: {}\n    };\n    this.formatSeparator = options.interpolation.formatSeparator || ',';\n  }\n  add(name, fc) {\n    this.formats[name.toLowerCase().trim()] = fc;\n  }\n  addCached(name, fc) {\n    this.formats[name.toLowerCase().trim()] = createCachedFormatter(fc);\n  }\n  format(value, format, lng) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    const formats = format.split(this.formatSeparator);\n    if (formats.length > 1 && formats[0].indexOf('(') > 1 && formats[0].indexOf(')') < 0 && formats.find(f => f.indexOf(')') > -1)) {\n      const lastIndex = formats.findIndex(f => f.indexOf(')') > -1);\n      formats[0] = [formats[0], ...formats.splice(1, lastIndex)].join(this.formatSeparator);\n    }\n    const result = formats.reduce((mem, f) => {\n      const {\n        formatName,\n        formatOptions\n      } = parseFormatStr(f);\n      if (this.formats[formatName]) {\n        let formatted = mem;\n        try {\n          const valOptions = options && options.formatParams && options.formatParams[options.interpolationkey] || {};\n          const l = valOptions.locale || valOptions.lng || options.locale || options.lng || lng;\n          formatted = this.formats[formatName](mem, l, {\n            ...formatOptions,\n            ...options,\n            ...valOptions\n          });\n        } catch (error) {\n          this.logger.warn(error);\n        }\n        return formatted;\n      } else {\n        this.logger.warn(`there was no format function for ${formatName}`);\n      }\n      return mem;\n    }, value);\n    return result;\n  }\n}\n\nconst removePending = (q, name) => {\n  if (q.pending[name] !== undefined) {\n    delete q.pending[name];\n    q.pendingCount--;\n  }\n};\nclass Connector extends EventEmitter {\n  constructor(backend, store, services) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    super();\n    this.backend = backend;\n    this.store = store;\n    this.services = services;\n    this.languageUtils = services.languageUtils;\n    this.options = options;\n    this.logger = baseLogger.create('backendConnector');\n    this.waitingReads = [];\n    this.maxParallelReads = options.maxParallelReads || 10;\n    this.readingCalls = 0;\n    this.maxRetries = options.maxRetries >= 0 ? options.maxRetries : 5;\n    this.retryTimeout = options.retryTimeout >= 1 ? options.retryTimeout : 350;\n    this.state = {};\n    this.queue = [];\n    if (this.backend && this.backend.init) {\n      this.backend.init(services, options.backend, options);\n    }\n  }\n  queueLoad(languages, namespaces, options, callback) {\n    const toLoad = {};\n    const pending = {};\n    const toLoadLanguages = {};\n    const toLoadNamespaces = {};\n    languages.forEach(lng => {\n      let hasAllNamespaces = true;\n      namespaces.forEach(ns => {\n        const name = `${lng}|${ns}`;\n        if (!options.reload && this.store.hasResourceBundle(lng, ns)) {\n          this.state[name] = 2;\n        } else if (this.state[name] < 0) ; else if (this.state[name] === 1) {\n          if (pending[name] === undefined) pending[name] = true;\n        } else {\n          this.state[name] = 1;\n          hasAllNamespaces = false;\n          if (pending[name] === undefined) pending[name] = true;\n          if (toLoad[name] === undefined) toLoad[name] = true;\n          if (toLoadNamespaces[ns] === undefined) toLoadNamespaces[ns] = true;\n        }\n      });\n      if (!hasAllNamespaces) toLoadLanguages[lng] = true;\n    });\n    if (Object.keys(toLoad).length || Object.keys(pending).length) {\n      this.queue.push({\n        pending,\n        pendingCount: Object.keys(pending).length,\n        loaded: {},\n        errors: [],\n        callback\n      });\n    }\n    return {\n      toLoad: Object.keys(toLoad),\n      pending: Object.keys(pending),\n      toLoadLanguages: Object.keys(toLoadLanguages),\n      toLoadNamespaces: Object.keys(toLoadNamespaces)\n    };\n  }\n  loaded(name, err, data) {\n    const s = name.split('|');\n    const lng = s[0];\n    const ns = s[1];\n    if (err) this.emit('failedLoading', lng, ns, err);\n    if (!err && data) {\n      this.store.addResourceBundle(lng, ns, data, undefined, undefined, {\n        skipCopy: true\n      });\n    }\n    this.state[name] = err ? -1 : 2;\n    if (err && data) this.state[name] = 0;\n    const loaded = {};\n    this.queue.forEach(q => {\n      pushPath(q.loaded, [lng], ns);\n      removePending(q, name);\n      if (err) q.errors.push(err);\n      if (q.pendingCount === 0 && !q.done) {\n        Object.keys(q.loaded).forEach(l => {\n          if (!loaded[l]) loaded[l] = {};\n          const loadedKeys = q.loaded[l];\n          if (loadedKeys.length) {\n            loadedKeys.forEach(n => {\n              if (loaded[l][n] === undefined) loaded[l][n] = true;\n            });\n          }\n        });\n        q.done = true;\n        if (q.errors.length) {\n          q.callback(q.errors);\n        } else {\n          q.callback();\n        }\n      }\n    });\n    this.emit('loaded', loaded);\n    this.queue = this.queue.filter(q => !q.done);\n  }\n  read(lng, ns, fcName) {\n    let tried = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n    let wait = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : this.retryTimeout;\n    let callback = arguments.length > 5 ? arguments[5] : undefined;\n    if (!lng.length) return callback(null, {});\n    if (this.readingCalls >= this.maxParallelReads) {\n      this.waitingReads.push({\n        lng,\n        ns,\n        fcName,\n        tried,\n        wait,\n        callback\n      });\n      return;\n    }\n    this.readingCalls++;\n    const resolver = (err, data) => {\n      this.readingCalls--;\n      if (this.waitingReads.length > 0) {\n        const next = this.waitingReads.shift();\n        this.read(next.lng, next.ns, next.fcName, next.tried, next.wait, next.callback);\n      }\n      if (err && data && tried < this.maxRetries) {\n        setTimeout(() => {\n          this.read.call(this, lng, ns, fcName, tried + 1, wait * 2, callback);\n        }, wait);\n        return;\n      }\n      callback(err, data);\n    };\n    const fc = this.backend[fcName].bind(this.backend);\n    if (fc.length === 2) {\n      try {\n        const r = fc(lng, ns);\n        if (r && typeof r.then === 'function') {\n          r.then(data => resolver(null, data)).catch(resolver);\n        } else {\n          resolver(null, r);\n        }\n      } catch (err) {\n        resolver(err);\n      }\n      return;\n    }\n    return fc(lng, ns, resolver);\n  }\n  prepareLoading(languages, namespaces) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    let callback = arguments.length > 3 ? arguments[3] : undefined;\n    if (!this.backend) {\n      this.logger.warn('No backend was added via i18next.use. Will not load resources.');\n      return callback && callback();\n    }\n    if (isString(languages)) languages = this.languageUtils.toResolveHierarchy(languages);\n    if (isString(namespaces)) namespaces = [namespaces];\n    const toLoad = this.queueLoad(languages, namespaces, options, callback);\n    if (!toLoad.toLoad.length) {\n      if (!toLoad.pending.length) callback();\n      return null;\n    }\n    toLoad.toLoad.forEach(name => {\n      this.loadOne(name);\n    });\n  }\n  load(languages, namespaces, callback) {\n    this.prepareLoading(languages, namespaces, {}, callback);\n  }\n  reload(languages, namespaces, callback) {\n    this.prepareLoading(languages, namespaces, {\n      reload: true\n    }, callback);\n  }\n  loadOne(name) {\n    let prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    const s = name.split('|');\n    const lng = s[0];\n    const ns = s[1];\n    this.read(lng, ns, 'read', undefined, undefined, (err, data) => {\n      if (err) this.logger.warn(`${prefix}loading namespace ${ns} for language ${lng} failed`, err);\n      if (!err && data) this.logger.log(`${prefix}loaded namespace ${ns} for language ${lng}`, data);\n      this.loaded(name, err, data);\n    });\n  }\n  saveMissing(languages, namespace, key, fallbackValue, isUpdate) {\n    let options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};\n    let clb = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : () => {};\n    if (this.services.utils && this.services.utils.hasLoadedNamespace && !this.services.utils.hasLoadedNamespace(namespace)) {\n      this.logger.warn(`did not save key \"${key}\" as the namespace \"${namespace}\" was not yet loaded`, 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');\n      return;\n    }\n    if (key === undefined || key === null || key === '') return;\n    if (this.backend && this.backend.create) {\n      const opts = {\n        ...options,\n        isUpdate\n      };\n      const fc = this.backend.create.bind(this.backend);\n      if (fc.length < 6) {\n        try {\n          let r;\n          if (fc.length === 5) {\n            r = fc(languages, namespace, key, fallbackValue, opts);\n          } else {\n            r = fc(languages, namespace, key, fallbackValue);\n          }\n          if (r && typeof r.then === 'function') {\n            r.then(data => clb(null, data)).catch(clb);\n          } else {\n            clb(null, r);\n          }\n        } catch (err) {\n          clb(err);\n        }\n      } else {\n        fc(languages, namespace, key, fallbackValue, clb, opts);\n      }\n    }\n    if (!languages || !languages[0]) return;\n    this.store.addResource(languages[0], namespace, key, fallbackValue);\n  }\n}\n\nconst get = () => ({\n  debug: false,\n  initImmediate: true,\n  ns: ['translation'],\n  defaultNS: ['translation'],\n  fallbackLng: ['dev'],\n  fallbackNS: false,\n  supportedLngs: false,\n  nonExplicitSupportedLngs: false,\n  load: 'all',\n  preload: false,\n  simplifyPluralSuffix: true,\n  keySeparator: '.',\n  nsSeparator: ':',\n  pluralSeparator: '_',\n  contextSeparator: '_',\n  partialBundledLanguages: false,\n  saveMissing: false,\n  updateMissing: false,\n  saveMissingTo: 'fallback',\n  saveMissingPlurals: true,\n  missingKeyHandler: false,\n  missingInterpolationHandler: false,\n  postProcess: false,\n  postProcessPassResolved: false,\n  returnNull: false,\n  returnEmptyString: true,\n  returnObjects: false,\n  joinArrays: false,\n  returnedObjectHandler: false,\n  parseMissingKeyHandler: false,\n  appendNamespaceToMissingKey: false,\n  appendNamespaceToCIMode: false,\n  overloadTranslationOptionHandler: args => {\n    let ret = {};\n    if (typeof args[1] === 'object') ret = args[1];\n    if (isString(args[1])) ret.defaultValue = args[1];\n    if (isString(args[2])) ret.tDescription = args[2];\n    if (typeof args[2] === 'object' || typeof args[3] === 'object') {\n      const options = args[3] || args[2];\n      Object.keys(options).forEach(key => {\n        ret[key] = options[key];\n      });\n    }\n    return ret;\n  },\n  interpolation: {\n    escapeValue: true,\n    format: value => value,\n    prefix: '{{',\n    suffix: '}}',\n    formatSeparator: ',',\n    unescapePrefix: '-',\n    nestingPrefix: '$t(',\n    nestingSuffix: ')',\n    nestingOptionsSeparator: ',',\n    maxReplaces: 1000,\n    skipOnVariables: true\n  }\n});\nconst transformOptions = options => {\n  if (isString(options.ns)) options.ns = [options.ns];\n  if (isString(options.fallbackLng)) options.fallbackLng = [options.fallbackLng];\n  if (isString(options.fallbackNS)) options.fallbackNS = [options.fallbackNS];\n  if (options.supportedLngs && options.supportedLngs.indexOf('cimode') < 0) {\n    options.supportedLngs = options.supportedLngs.concat(['cimode']);\n  }\n  return options;\n};\n\nconst noop = () => {};\nconst bindMemberFunctions = inst => {\n  const mems = Object.getOwnPropertyNames(Object.getPrototypeOf(inst));\n  mems.forEach(mem => {\n    if (typeof inst[mem] === 'function') {\n      inst[mem] = inst[mem].bind(inst);\n    }\n  });\n};\nclass I18n extends EventEmitter {\n  constructor() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let callback = arguments.length > 1 ? arguments[1] : undefined;\n    super();\n    this.options = transformOptions(options);\n    this.services = {};\n    this.logger = baseLogger;\n    this.modules = {\n      external: []\n    };\n    bindMemberFunctions(this);\n    if (callback && !this.isInitialized && !options.isClone) {\n      if (!this.options.initImmediate) {\n        this.init(options, callback);\n        return this;\n      }\n      setTimeout(() => {\n        this.init(options, callback);\n      }, 0);\n    }\n  }\n  init() {\n    var _this = this;\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let callback = arguments.length > 1 ? arguments[1] : undefined;\n    this.isInitializing = true;\n    if (typeof options === 'function') {\n      callback = options;\n      options = {};\n    }\n    if (!options.defaultNS && options.defaultNS !== false && options.ns) {\n      if (isString(options.ns)) {\n        options.defaultNS = options.ns;\n      } else if (options.ns.indexOf('translation') < 0) {\n        options.defaultNS = options.ns[0];\n      }\n    }\n    const defOpts = get();\n    this.options = {\n      ...defOpts,\n      ...this.options,\n      ...transformOptions(options)\n    };\n    if (this.options.compatibilityAPI !== 'v1') {\n      this.options.interpolation = {\n        ...defOpts.interpolation,\n        ...this.options.interpolation\n      };\n    }\n    if (options.keySeparator !== undefined) {\n      this.options.userDefinedKeySeparator = options.keySeparator;\n    }\n    if (options.nsSeparator !== undefined) {\n      this.options.userDefinedNsSeparator = options.nsSeparator;\n    }\n    const createClassOnDemand = ClassOrObject => {\n      if (!ClassOrObject) return null;\n      if (typeof ClassOrObject === 'function') return new ClassOrObject();\n      return ClassOrObject;\n    };\n    if (!this.options.isClone) {\n      if (this.modules.logger) {\n        baseLogger.init(createClassOnDemand(this.modules.logger), this.options);\n      } else {\n        baseLogger.init(null, this.options);\n      }\n      let formatter;\n      if (this.modules.formatter) {\n        formatter = this.modules.formatter;\n      } else if (typeof Intl !== 'undefined') {\n        formatter = Formatter;\n      }\n      const lu = new LanguageUtil(this.options);\n      this.store = new ResourceStore(this.options.resources, this.options);\n      const s = this.services;\n      s.logger = baseLogger;\n      s.resourceStore = this.store;\n      s.languageUtils = lu;\n      s.pluralResolver = new PluralResolver(lu, {\n        prepend: this.options.pluralSeparator,\n        compatibilityJSON: this.options.compatibilityJSON,\n        simplifyPluralSuffix: this.options.simplifyPluralSuffix\n      });\n      if (formatter && (!this.options.interpolation.format || this.options.interpolation.format === defOpts.interpolation.format)) {\n        s.formatter = createClassOnDemand(formatter);\n        s.formatter.init(s, this.options);\n        this.options.interpolation.format = s.formatter.format.bind(s.formatter);\n      }\n      s.interpolator = new Interpolator(this.options);\n      s.utils = {\n        hasLoadedNamespace: this.hasLoadedNamespace.bind(this)\n      };\n      s.backendConnector = new Connector(createClassOnDemand(this.modules.backend), s.resourceStore, s, this.options);\n      s.backendConnector.on('*', function (event) {\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n        _this.emit(event, ...args);\n      });\n      if (this.modules.languageDetector) {\n        s.languageDetector = createClassOnDemand(this.modules.languageDetector);\n        if (s.languageDetector.init) s.languageDetector.init(s, this.options.detection, this.options);\n      }\n      if (this.modules.i18nFormat) {\n        s.i18nFormat = createClassOnDemand(this.modules.i18nFormat);\n        if (s.i18nFormat.init) s.i18nFormat.init(this);\n      }\n      this.translator = new Translator(this.services, this.options);\n      this.translator.on('*', function (event) {\n        for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n          args[_key2 - 1] = arguments[_key2];\n        }\n        _this.emit(event, ...args);\n      });\n      this.modules.external.forEach(m => {\n        if (m.init) m.init(this);\n      });\n    }\n    this.format = this.options.interpolation.format;\n    if (!callback) callback = noop;\n    if (this.options.fallbackLng && !this.services.languageDetector && !this.options.lng) {\n      const codes = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n      if (codes.length > 0 && codes[0] !== 'dev') this.options.lng = codes[0];\n    }\n    if (!this.services.languageDetector && !this.options.lng) {\n      this.logger.warn('init: no languageDetector is used and no lng is defined');\n    }\n    const storeApi = ['getResource', 'hasResourceBundle', 'getResourceBundle', 'getDataByLanguage'];\n    storeApi.forEach(fcName => {\n      this[fcName] = function () {\n        return _this.store[fcName](...arguments);\n      };\n    });\n    const storeApiChained = ['addResource', 'addResources', 'addResourceBundle', 'removeResourceBundle'];\n    storeApiChained.forEach(fcName => {\n      this[fcName] = function () {\n        _this.store[fcName](...arguments);\n        return _this;\n      };\n    });\n    const deferred = defer();\n    const load = () => {\n      const finish = (err, t) => {\n        this.isInitializing = false;\n        if (this.isInitialized && !this.initializedStoreOnce) this.logger.warn('init: i18next is already initialized. You should call init just once!');\n        this.isInitialized = true;\n        if (!this.options.isClone) this.logger.log('initialized', this.options);\n        this.emit('initialized', this.options);\n        deferred.resolve(t);\n        callback(err, t);\n      };\n      if (this.languages && this.options.compatibilityAPI !== 'v1' && !this.isInitialized) return finish(null, this.t.bind(this));\n      this.changeLanguage(this.options.lng, finish);\n    };\n    if (this.options.resources || !this.options.initImmediate) {\n      load();\n    } else {\n      setTimeout(load, 0);\n    }\n    return deferred;\n  }\n  loadResources(language) {\n    let callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n    let usedCallback = callback;\n    const usedLng = isString(language) ? language : this.language;\n    if (typeof language === 'function') usedCallback = language;\n    if (!this.options.resources || this.options.partialBundledLanguages) {\n      if (usedLng && usedLng.toLowerCase() === 'cimode' && (!this.options.preload || this.options.preload.length === 0)) return usedCallback();\n      const toLoad = [];\n      const append = lng => {\n        if (!lng) return;\n        if (lng === 'cimode') return;\n        const lngs = this.services.languageUtils.toResolveHierarchy(lng);\n        lngs.forEach(l => {\n          if (l === 'cimode') return;\n          if (toLoad.indexOf(l) < 0) toLoad.push(l);\n        });\n      };\n      if (!usedLng) {\n        const fallbacks = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n        fallbacks.forEach(l => append(l));\n      } else {\n        append(usedLng);\n      }\n      if (this.options.preload) {\n        this.options.preload.forEach(l => append(l));\n      }\n      this.services.backendConnector.load(toLoad, this.options.ns, e => {\n        if (!e && !this.resolvedLanguage && this.language) this.setResolvedLanguage(this.language);\n        usedCallback(e);\n      });\n    } else {\n      usedCallback(null);\n    }\n  }\n  reloadResources(lngs, ns, callback) {\n    const deferred = defer();\n    if (typeof lngs === 'function') {\n      callback = lngs;\n      lngs = undefined;\n    }\n    if (typeof ns === 'function') {\n      callback = ns;\n      ns = undefined;\n    }\n    if (!lngs) lngs = this.languages;\n    if (!ns) ns = this.options.ns;\n    if (!callback) callback = noop;\n    this.services.backendConnector.reload(lngs, ns, err => {\n      deferred.resolve();\n      callback(err);\n    });\n    return deferred;\n  }\n  use(module) {\n    if (!module) throw new Error('You are passing an undefined module! Please check the object you are passing to i18next.use()');\n    if (!module.type) throw new Error('You are passing a wrong module! Please check the object you are passing to i18next.use()');\n    if (module.type === 'backend') {\n      this.modules.backend = module;\n    }\n    if (module.type === 'logger' || module.log && module.warn && module.error) {\n      this.modules.logger = module;\n    }\n    if (module.type === 'languageDetector') {\n      this.modules.languageDetector = module;\n    }\n    if (module.type === 'i18nFormat') {\n      this.modules.i18nFormat = module;\n    }\n    if (module.type === 'postProcessor') {\n      postProcessor.addPostProcessor(module);\n    }\n    if (module.type === 'formatter') {\n      this.modules.formatter = module;\n    }\n    if (module.type === '3rdParty') {\n      this.modules.external.push(module);\n    }\n    return this;\n  }\n  setResolvedLanguage(l) {\n    if (!l || !this.languages) return;\n    if (['cimode', 'dev'].indexOf(l) > -1) return;\n    for (let li = 0; li < this.languages.length; li++) {\n      const lngInLngs = this.languages[li];\n      if (['cimode', 'dev'].indexOf(lngInLngs) > -1) continue;\n      if (this.store.hasLanguageSomeTranslations(lngInLngs)) {\n        this.resolvedLanguage = lngInLngs;\n        break;\n      }\n    }\n  }\n  changeLanguage(lng, callback) {\n    var _this2 = this;\n    this.isLanguageChangingTo = lng;\n    const deferred = defer();\n    this.emit('languageChanging', lng);\n    const setLngProps = l => {\n      this.language = l;\n      this.languages = this.services.languageUtils.toResolveHierarchy(l);\n      this.resolvedLanguage = undefined;\n      this.setResolvedLanguage(l);\n    };\n    const done = (err, l) => {\n      if (l) {\n        setLngProps(l);\n        this.translator.changeLanguage(l);\n        this.isLanguageChangingTo = undefined;\n        this.emit('languageChanged', l);\n        this.logger.log('languageChanged', l);\n      } else {\n        this.isLanguageChangingTo = undefined;\n      }\n      deferred.resolve(function () {\n        return _this2.t(...arguments);\n      });\n      if (callback) callback(err, function () {\n        return _this2.t(...arguments);\n      });\n    };\n    const setLng = lngs => {\n      if (!lng && !lngs && this.services.languageDetector) lngs = [];\n      const l = isString(lngs) ? lngs : this.services.languageUtils.getBestMatchFromCodes(lngs);\n      if (l) {\n        if (!this.language) {\n          setLngProps(l);\n        }\n        if (!this.translator.language) this.translator.changeLanguage(l);\n        if (this.services.languageDetector && this.services.languageDetector.cacheUserLanguage) this.services.languageDetector.cacheUserLanguage(l);\n      }\n      this.loadResources(l, err => {\n        done(err, l);\n      });\n    };\n    if (!lng && this.services.languageDetector && !this.services.languageDetector.async) {\n      setLng(this.services.languageDetector.detect());\n    } else if (!lng && this.services.languageDetector && this.services.languageDetector.async) {\n      if (this.services.languageDetector.detect.length === 0) {\n        this.services.languageDetector.detect().then(setLng);\n      } else {\n        this.services.languageDetector.detect(setLng);\n      }\n    } else {\n      setLng(lng);\n    }\n    return deferred;\n  }\n  getFixedT(lng, ns, keyPrefix) {\n    var _this3 = this;\n    const fixedT = function (key, opts) {\n      let options;\n      if (typeof opts !== 'object') {\n        for (var _len3 = arguments.length, rest = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n          rest[_key3 - 2] = arguments[_key3];\n        }\n        options = _this3.options.overloadTranslationOptionHandler([key, opts].concat(rest));\n      } else {\n        options = {\n          ...opts\n        };\n      }\n      options.lng = options.lng || fixedT.lng;\n      options.lngs = options.lngs || fixedT.lngs;\n      options.ns = options.ns || fixedT.ns;\n      if (options.keyPrefix !== '') options.keyPrefix = options.keyPrefix || keyPrefix || fixedT.keyPrefix;\n      const keySeparator = _this3.options.keySeparator || '.';\n      let resultKey;\n      if (options.keyPrefix && Array.isArray(key)) {\n        resultKey = key.map(k => `${options.keyPrefix}${keySeparator}${k}`);\n      } else {\n        resultKey = options.keyPrefix ? `${options.keyPrefix}${keySeparator}${key}` : key;\n      }\n      return _this3.t(resultKey, options);\n    };\n    if (isString(lng)) {\n      fixedT.lng = lng;\n    } else {\n      fixedT.lngs = lng;\n    }\n    fixedT.ns = ns;\n    fixedT.keyPrefix = keyPrefix;\n    return fixedT;\n  }\n  t() {\n    return this.translator && this.translator.translate(...arguments);\n  }\n  exists() {\n    return this.translator && this.translator.exists(...arguments);\n  }\n  setDefaultNamespace(ns) {\n    this.options.defaultNS = ns;\n  }\n  hasLoadedNamespace(ns) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    if (!this.isInitialized) {\n      this.logger.warn('hasLoadedNamespace: i18next was not initialized', this.languages);\n      return false;\n    }\n    if (!this.languages || !this.languages.length) {\n      this.logger.warn('hasLoadedNamespace: i18n.languages were undefined or empty', this.languages);\n      return false;\n    }\n    const lng = options.lng || this.resolvedLanguage || this.languages[0];\n    const fallbackLng = this.options ? this.options.fallbackLng : false;\n    const lastLng = this.languages[this.languages.length - 1];\n    if (lng.toLowerCase() === 'cimode') return true;\n    const loadNotPending = (l, n) => {\n      const loadState = this.services.backendConnector.state[`${l}|${n}`];\n      return loadState === -1 || loadState === 0 || loadState === 2;\n    };\n    if (options.precheck) {\n      const preResult = options.precheck(this, loadNotPending);\n      if (preResult !== undefined) return preResult;\n    }\n    if (this.hasResourceBundle(lng, ns)) return true;\n    if (!this.services.backendConnector.backend || this.options.resources && !this.options.partialBundledLanguages) return true;\n    if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;\n    return false;\n  }\n  loadNamespaces(ns, callback) {\n    const deferred = defer();\n    if (!this.options.ns) {\n      if (callback) callback();\n      return Promise.resolve();\n    }\n    if (isString(ns)) ns = [ns];\n    ns.forEach(n => {\n      if (this.options.ns.indexOf(n) < 0) this.options.ns.push(n);\n    });\n    this.loadResources(err => {\n      deferred.resolve();\n      if (callback) callback(err);\n    });\n    return deferred;\n  }\n  loadLanguages(lngs, callback) {\n    const deferred = defer();\n    if (isString(lngs)) lngs = [lngs];\n    const preloaded = this.options.preload || [];\n    const newLngs = lngs.filter(lng => preloaded.indexOf(lng) < 0 && this.services.languageUtils.isSupportedCode(lng));\n    if (!newLngs.length) {\n      if (callback) callback();\n      return Promise.resolve();\n    }\n    this.options.preload = preloaded.concat(newLngs);\n    this.loadResources(err => {\n      deferred.resolve();\n      if (callback) callback(err);\n    });\n    return deferred;\n  }\n  dir(lng) {\n    if (!lng) lng = this.resolvedLanguage || (this.languages && this.languages.length > 0 ? this.languages[0] : this.language);\n    if (!lng) return 'rtl';\n    const rtlLngs = ['ar', 'shu', 'sqr', 'ssh', 'xaa', 'yhd', 'yud', 'aao', 'abh', 'abv', 'acm', 'acq', 'acw', 'acx', 'acy', 'adf', 'ads', 'aeb', 'aec', 'afb', 'ajp', 'apc', 'apd', 'arb', 'arq', 'ars', 'ary', 'arz', 'auz', 'avl', 'ayh', 'ayl', 'ayn', 'ayp', 'bbz', 'pga', 'he', 'iw', 'ps', 'pbt', 'pbu', 'pst', 'prp', 'prd', 'ug', 'ur', 'ydd', 'yds', 'yih', 'ji', 'yi', 'hbo', 'men', 'xmn', 'fa', 'jpr', 'peo', 'pes', 'prs', 'dv', 'sam', 'ckb'];\n    const languageUtils = this.services && this.services.languageUtils || new LanguageUtil(get());\n    return rtlLngs.indexOf(languageUtils.getLanguagePartFromCode(lng)) > -1 || lng.toLowerCase().indexOf('-arab') > 1 ? 'rtl' : 'ltr';\n  }\n  static createInstance() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let callback = arguments.length > 1 ? arguments[1] : undefined;\n    return new I18n(options, callback);\n  }\n  cloneInstance() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n    const forkResourceStore = options.forkResourceStore;\n    if (forkResourceStore) delete options.forkResourceStore;\n    const mergedOptions = {\n      ...this.options,\n      ...options,\n      ...{\n        isClone: true\n      }\n    };\n    const clone = new I18n(mergedOptions);\n    if (options.debug !== undefined || options.prefix !== undefined) {\n      clone.logger = clone.logger.clone(options);\n    }\n    const membersToCopy = ['store', 'services', 'language'];\n    membersToCopy.forEach(m => {\n      clone[m] = this[m];\n    });\n    clone.services = {\n      ...this.services\n    };\n    clone.services.utils = {\n      hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n    };\n    if (forkResourceStore) {\n      clone.store = new ResourceStore(this.store.data, mergedOptions);\n      clone.services.resourceStore = clone.store;\n    }\n    clone.translator = new Translator(clone.services, mergedOptions);\n    clone.translator.on('*', function (event) {\n      for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n        args[_key4 - 1] = arguments[_key4];\n      }\n      clone.emit(event, ...args);\n    });\n    clone.init(mergedOptions, callback);\n    clone.translator.options = mergedOptions;\n    clone.translator.backendConnector.services.utils = {\n      hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n    };\n    return clone;\n  }\n  toJSON() {\n    return {\n      options: this.options,\n      store: this.store,\n      language: this.language,\n      languages: this.languages,\n      resolvedLanguage: this.resolvedLanguage\n    };\n  }\n}\nconst instance = I18n.createInstance();\ninstance.createInstance = I18n.createInstance;\n\nconst createInstance = instance.createInstance;\nconst dir = instance.dir;\nconst init = instance.init;\nconst loadResources = instance.loadResources;\nconst reloadResources = instance.reloadResources;\nconst use = instance.use;\nconst changeLanguage = instance.changeLanguage;\nconst getFixedT = instance.getFixedT;\nconst t = instance.t;\nconst exists = instance.exists;\nconst setDefaultNamespace = instance.setDefaultNamespace;\nconst hasLoadedNamespace = instance.hasLoadedNamespace;\nconst loadNamespaces = instance.loadNamespaces;\nconst loadLanguages = instance.loadLanguages;\n\nexport { changeLanguage, createInstance, instance as default, dir, exists, getFixedT, hasLoadedNamespace, init, loadLanguages, loadNamespaces, loadResources, reloadResources, setDefaultNamespace, t, use };\n","import {createInstance as _createInstance, setOverrides} from '@dbp-toolkit/common/i18next.js';\n\nimport de from './i18n/de/translation.json';\nimport en from './i18n/en/translation.json';\n\nexport function createInstance() {\n    return _createInstance({en: en, de: de}, 'de', 'en');\n}\n\nexport {setOverrides};\n","import i18next from 'i18next';\n\n// global variable as cache for translations\nconst translationCache = {};\n\n// fetches overrides for given language\nasync function fetchOverridesByLanguage(overrides, lng) {\n  let result = await\n      fetch(overrides + lng +'/translation.json', {\n          headers: {'Content-Type': 'application/json'},\n      });\n  let json = await result.json();\n  return json;\n}\n\n// handles translation cache promises\nasync function cacheOverrides(overridesFile, lng) {\n  // use global var as cache\n  if (translationCache[lng] === undefined) {\n    // get translation.json for each lang\n    let response = fetchOverridesByLanguage(overridesFile, lng);\n    translationCache[lng] = response;\n    return response;\n  } else {\n    return translationCache[lng];\n  }\n}\n\n/**\n * Like Intl.DateTimeFormat().format() but uses the current language as locale.\n *\n * A i18next instance can be created with createInstance()\n *\n * @param {i18next.i18n} i18n - The i18next instance\n * @param {Date} date - The date to format\n * @param {object} options - Options passed to Intl.DateTimeFormat\n * @returns {string} The formatted datetime\n */\nexport function dateTimeFormat(i18n, date, options = {}) {\n    return new Intl.DateTimeFormat(i18n.languages, options).format(date);\n}\n\n/**\n * Like Intl.NumberFormat().format() but uses the current language as locale.\n *\n * A i18next instance can be created with createInstance()\n *\n * @param {i18next.i18n} i18n - The i18next instance\n * @param {number} number - The number to format\n * @param {object} options - Options passed to Intl.NumberFormat\n * @returns {string} The formatted number\n */\nexport function numberFormat(i18n, number, options = {}) {\n    return new Intl.NumberFormat(i18n.languages, options).format(number);\n}\n\nexport function humanFileSize(bytes, si = false) {\n    const thresh = si ? 1000 : 1024;\n    if (Math.abs(bytes) < thresh) {\n        return bytes + ' B';\n    }\n    const units = ['kB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n    let u = -1;\n    do {\n        bytes /= thresh;\n        ++u;\n    } while (Math.abs(bytes) >= thresh && u < units.length - 1);\n    return bytes.toFixed(1) + ' ' + units[u];\n}\n\n/**\n * @param {string} namespace The namespace to override\n * @returns {string} The new namespace name\n */\nfunction getOverrideNamespace(namespace) {\n    // This just needs to be different to the namespace, make it special\n    // so it's clear what it is used for in case it ends up in some error\n    // message or something\n    return '--' + namespace + '-override';\n}\n\n/**\n * Creates a new i18next instance that is fully initialized.\n *\n * Call changeLanguage() on the returned object to change the language.\n *\n * @param {object} languages - Mapping from languages to translation objects\n * @param {string} lng - The default language\n * @param {string} fallback - The fallback language to use for unknown languages or untranslated keys\n * @param {string} [namespace] - The i18next namespace to load, defaults to 'translation'\n * @returns {i18next.i18n} A new independent i18next instance\n */\nexport function createInstance(languages, lng, fallback, namespace) {\n    if (namespace === undefined) {\n        namespace = 'translation';\n    }\n    let overrideNamespace = getOverrideNamespace(namespace);\n\n    var fallbackLng = [fallback, lng, ...Object.keys(languages)];\n\n    var options = {\n        lng: lng,\n        fallbackLng: fallbackLng,\n        debug: false,\n        ns: [overrideNamespace, namespace],\n        defaultNS: namespace,\n        fallbackNS: namespace,\n        initImmediate: false, // Don't init async\n        resources: {},\n        // https://www.i18next.com/misc/migration-guide\n        compatibilityJSON: 'v4',\n    };\n\n    Object.keys(languages).forEach(function (key) {\n        options['resources'][key] = {[namespace]: languages[key]};\n    });\n\n    var i18n = i18next.createInstance();\n    i18n.init(options);\n    console.assert(i18n.isInitialized);\n\n    return i18n;\n}\n\n/**\n * Sets translation overrides for the given i18next instance. Any previously\n * applied overrides will be removed first. So calling this with an empty overrides\n * object is equal to removing all overrides.\n *\n * @param {i18next.i18n} i18n - The i18next instance\n * @param {HTMLElement} element - The element at which the overrides are targeted\n * @param {object} overrides - The override data in the following format: \"{language: {tag-name: {key: value}}}\"\n */\nexport function setOverrides(i18n, element, overrides) {\n    // We add a special namespace which gets used with priority and falls back\n    // to the original one. This way we an change the overrides at runtime\n    // and can even remove them.\n\n    // The scoped mixin saves the real tag name under data-tag-name\n    let tagName = ((element.dataset && element.dataset.tagName) || element.tagName).toLowerCase();\n    let namespace = i18n.options.fallbackNS;\n    let overrideNamespace = getOverrideNamespace(namespace);\n    let hasOverrides = false;\n    for (let lng of i18n.languages) {\n        i18n.removeResourceBundle(lng, overrideNamespace);\n        if (overrides[lng] === undefined || overrides[lng][tagName] === undefined) continue;\n        let resources = overrides[lng][tagName];\n        hasOverrides = true;\n        i18n.addResourceBundle(lng, overrideNamespace, resources);\n    }\n    i18n.setDefaultNamespace(hasOverrides ? overrideNamespace : namespace);\n}\n\n/**\n * Sets translation overrides for the given i18next instance. Any previously\n * applied overrides will be removed first. So calling this with an empty overrides\n * object is equal to removing all overrides.\n * Expects overrides as promise and requests update after overrides have been set.\n *\n * @param {i18next.i18n} i18n - The i18next instance\n * @param {HTMLElement} element - The element at which the overrides are targeted\n */\nexport async function setOverridesByGlobalCache(i18n, element) {\n    // We add a special namespace which gets used with priority and falls back\n    // to the original one. This way we an change the overrides at runtime\n    // and can even remove them.\n\n\n\n    // The scoped mixin saves the real tag name under data-tag-name\n    let tagName = ((element.dataset && element.dataset.tagName) || element.tagName).toLowerCase();\n    let namespace = i18n.options.fallbackNS;\n    let overrideNamespace = getOverrideNamespace(namespace);\n    let hasOverrides = false;\n    for (let lng of i18n.languages) {\n        cacheOverrides(element.langDir, lng);\n        translationCache[lng] = await translationCache[lng];\n        i18n.removeResourceBundle(lng, overrideNamespace);\n        if (translationCache[lng] === undefined || translationCache[lng][tagName] === undefined) continue;\n        let resources = translationCache[lng][tagName];\n        hasOverrides = true;\n        i18n.addResourceBundle(lng, overrideNamespace, resources);\n    }\n    i18n.setDefaultNamespace(hasOverrides ? overrideNamespace : namespace);\n    element.requestUpdate();\n}\n","/**\n * Assert a condition.\n * @param condition The condition that it should satisfy.\n * @param message The error message.\n * @param args The arguments for replacing placeholders in the message.\n */\nfunction assertType(condition, message, ...args) {\n    if (!condition) {\n        throw new TypeError(format(message, args));\n    }\n}\n/**\n * Convert a text and arguments to one string.\n * @param message The formating text\n * @param args The arguments.\n */\nfunction format(message, args) {\n    let i = 0;\n    return message.replace(/%[os]/gu, () => anyToString(args[i++]));\n}\n/**\n * Convert a value to a string representation.\n * @param x The value to get the string representation.\n */\nfunction anyToString(x) {\n    if (typeof x !== \"object\" || x === null) {\n        return String(x);\n    }\n    return Object.prototype.toString.call(x);\n}\n\nlet currentErrorHandler;\n/**\n * Set the error handler.\n * @param value The error handler to set.\n */\nfunction setErrorHandler(value) {\n    assertType(typeof value === \"function\" || value === undefined, \"The error handler must be a function or undefined, but got %o.\", value);\n    currentErrorHandler = value;\n}\n/**\n * Print a error message.\n * @param maybeError The error object.\n */\nfunction reportError(maybeError) {\n    try {\n        const error = maybeError instanceof Error\n            ? maybeError\n            : new Error(anyToString(maybeError));\n        // Call the user-defined error handler if exists.\n        if (currentErrorHandler) {\n            currentErrorHandler(error);\n            return;\n        }\n        // Dispatch an `error` event if this is on a browser.\n        if (typeof dispatchEvent === \"function\" &&\n            typeof ErrorEvent === \"function\") {\n            dispatchEvent(new ErrorEvent(\"error\", { error, message: error.message }));\n        }\n        // Emit an `uncaughtException` event if this is on Node.js.\n        //istanbul ignore else\n        else if (typeof process !== \"undefined\" &&\n            typeof process.emit === \"function\") {\n            process.emit(\"uncaughtException\", error);\n            return;\n        }\n        // Otherwise, print the error.\n        console.error(error);\n    }\n    catch (_a) {\n        // ignore.\n    }\n}\n\n/**\n * The global object.\n */\n//istanbul ignore next\nconst Global = typeof window !== \"undefined\"\n    ? window\n    : typeof self !== \"undefined\"\n        ? self\n        : typeof global !== \"undefined\"\n            ? global\n            : typeof globalThis !== \"undefined\"\n                ? globalThis\n                : undefined;\n\nlet currentWarnHandler;\n/**\n * Set the warning handler.\n * @param value The warning handler to set.\n */\nfunction setWarningHandler(value) {\n    assertType(typeof value === \"function\" || value === undefined, \"The warning handler must be a function or undefined, but got %o.\", value);\n    currentWarnHandler = value;\n}\n/**\n * The warning information.\n */\nclass Warning {\n    constructor(code, message) {\n        this.code = code;\n        this.message = message;\n    }\n    /**\n     * Report this warning.\n     * @param args The arguments of the warning.\n     */\n    warn(...args) {\n        var _a;\n        try {\n            // Call the user-defined warning handler if exists.\n            if (currentWarnHandler) {\n                currentWarnHandler({ ...this, args });\n                return;\n            }\n            // Otherwise, print the warning.\n            const stack = ((_a = new Error().stack) !== null && _a !== void 0 ? _a : \"\").replace(/^(?:.+?\\n){2}/gu, \"\\n\");\n            console.warn(this.message, ...args, stack);\n        }\n        catch (_b) {\n            // Ignore.\n        }\n    }\n}\n\nconst InitEventWasCalledWhileDispatching = new Warning(\"W01\", \"Unable to initialize event under dispatching.\");\nconst FalsyWasAssignedToCancelBubble = new Warning(\"W02\", \"Assigning any falsy value to 'cancelBubble' property has no effect.\");\nconst TruthyWasAssignedToReturnValue = new Warning(\"W03\", \"Assigning any truthy value to 'returnValue' property has no effect.\");\nconst NonCancelableEventWasCanceled = new Warning(\"W04\", \"Unable to preventDefault on non-cancelable events.\");\nconst CanceledInPassiveListener = new Warning(\"W05\", \"Unable to preventDefault inside passive event listener invocation.\");\nconst EventListenerWasDuplicated = new Warning(\"W06\", \"An event listener wasn't added because it has been added already: %o, %o\");\nconst OptionWasIgnored = new Warning(\"W07\", \"The %o option value was abandoned because the event listener wasn't added as duplicated.\");\nconst InvalidEventListener = new Warning(\"W08\", \"The 'callback' argument must be a function or an object that has 'handleEvent' method: %o\");\nconst InvalidAttributeHandler = new Warning(\"W09\", \"Event attribute handler must be a function: %o\");\n\n/*eslint-disable class-methods-use-this */\n/**\n * An implementation of `Event` interface, that wraps a given event object.\n * `EventTarget` shim can control the internal state of this `Event` objects.\n * @see https://dom.spec.whatwg.org/#event\n */\nclass Event {\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-none\n     */\n    static get NONE() {\n        return NONE;\n    }\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-capturing_phase\n     */\n    static get CAPTURING_PHASE() {\n        return CAPTURING_PHASE;\n    }\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-at_target\n     */\n    static get AT_TARGET() {\n        return AT_TARGET;\n    }\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-bubbling_phase\n     */\n    static get BUBBLING_PHASE() {\n        return BUBBLING_PHASE;\n    }\n    /**\n     * Initialize this event instance.\n     * @param type The type of this event.\n     * @param eventInitDict Options to initialize.\n     * @see https://dom.spec.whatwg.org/#dom-event-event\n     */\n    constructor(type, eventInitDict) {\n        Object.defineProperty(this, \"isTrusted\", {\n            value: false,\n            enumerable: true,\n        });\n        const opts = eventInitDict !== null && eventInitDict !== void 0 ? eventInitDict : {};\n        internalDataMap.set(this, {\n            type: String(type),\n            bubbles: Boolean(opts.bubbles),\n            cancelable: Boolean(opts.cancelable),\n            composed: Boolean(opts.composed),\n            target: null,\n            currentTarget: null,\n            stopPropagationFlag: false,\n            stopImmediatePropagationFlag: false,\n            canceledFlag: false,\n            inPassiveListenerFlag: false,\n            dispatchFlag: false,\n            timeStamp: Date.now(),\n        });\n    }\n    /**\n     * The type of this event.\n     * @see https://dom.spec.whatwg.org/#dom-event-type\n     */\n    get type() {\n        return $(this).type;\n    }\n    /**\n     * The event target of the current dispatching.\n     * @see https://dom.spec.whatwg.org/#dom-event-target\n     */\n    get target() {\n        return $(this).target;\n    }\n    /**\n     * The event target of the current dispatching.\n     * @deprecated Use the `target` property instead.\n     * @see https://dom.spec.whatwg.org/#dom-event-srcelement\n     */\n    get srcElement() {\n        return $(this).target;\n    }\n    /**\n     * The event target of the current dispatching.\n     * @see https://dom.spec.whatwg.org/#dom-event-currenttarget\n     */\n    get currentTarget() {\n        return $(this).currentTarget;\n    }\n    /**\n     * The event target of the current dispatching.\n     * This doesn't support node tree.\n     * @see https://dom.spec.whatwg.org/#dom-event-composedpath\n     */\n    composedPath() {\n        const currentTarget = $(this).currentTarget;\n        if (currentTarget) {\n            return [currentTarget];\n        }\n        return [];\n    }\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-none\n     */\n    get NONE() {\n        return NONE;\n    }\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-capturing_phase\n     */\n    get CAPTURING_PHASE() {\n        return CAPTURING_PHASE;\n    }\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-at_target\n     */\n    get AT_TARGET() {\n        return AT_TARGET;\n    }\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-bubbling_phase\n     */\n    get BUBBLING_PHASE() {\n        return BUBBLING_PHASE;\n    }\n    /**\n     * The current event phase.\n     * @see https://dom.spec.whatwg.org/#dom-event-eventphase\n     */\n    get eventPhase() {\n        return $(this).dispatchFlag ? 2 : 0;\n    }\n    /**\n     * Stop event bubbling.\n     * Because this shim doesn't support node tree, this merely changes the `cancelBubble` property value.\n     * @see https://dom.spec.whatwg.org/#dom-event-stoppropagation\n     */\n    stopPropagation() {\n        $(this).stopPropagationFlag = true;\n    }\n    /**\n     * `true` if event bubbling was stopped.\n     * @deprecated\n     * @see https://dom.spec.whatwg.org/#dom-event-cancelbubble\n     */\n    get cancelBubble() {\n        return $(this).stopPropagationFlag;\n    }\n    /**\n     * Stop event bubbling if `true` is set.\n     * @deprecated Use the `stopPropagation()` method instead.\n     * @see https://dom.spec.whatwg.org/#dom-event-cancelbubble\n     */\n    set cancelBubble(value) {\n        if (value) {\n            $(this).stopPropagationFlag = true;\n        }\n        else {\n            FalsyWasAssignedToCancelBubble.warn();\n        }\n    }\n    /**\n     * Stop event bubbling and subsequent event listener callings.\n     * @see https://dom.spec.whatwg.org/#dom-event-stopimmediatepropagation\n     */\n    stopImmediatePropagation() {\n        const data = $(this);\n        data.stopPropagationFlag = data.stopImmediatePropagationFlag = true;\n    }\n    /**\n     * `true` if this event will bubble.\n     * @see https://dom.spec.whatwg.org/#dom-event-bubbles\n     */\n    get bubbles() {\n        return $(this).bubbles;\n    }\n    /**\n     * `true` if this event can be canceled by the `preventDefault()` method.\n     * @see https://dom.spec.whatwg.org/#dom-event-cancelable\n     */\n    get cancelable() {\n        return $(this).cancelable;\n    }\n    /**\n     * `true` if the default behavior will act.\n     * @deprecated Use the `defaultPrevented` proeprty instead.\n     * @see https://dom.spec.whatwg.org/#dom-event-returnvalue\n     */\n    get returnValue() {\n        return !$(this).canceledFlag;\n    }\n    /**\n     * Cancel the default behavior if `false` is set.\n     * @deprecated Use the `preventDefault()` method instead.\n     * @see https://dom.spec.whatwg.org/#dom-event-returnvalue\n     */\n    set returnValue(value) {\n        if (!value) {\n            setCancelFlag($(this));\n        }\n        else {\n            TruthyWasAssignedToReturnValue.warn();\n        }\n    }\n    /**\n     * Cancel the default behavior.\n     * @see https://dom.spec.whatwg.org/#dom-event-preventdefault\n     */\n    preventDefault() {\n        setCancelFlag($(this));\n    }\n    /**\n     * `true` if the default behavior was canceled.\n     * @see https://dom.spec.whatwg.org/#dom-event-defaultprevented\n     */\n    get defaultPrevented() {\n        return $(this).canceledFlag;\n    }\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-composed\n     */\n    get composed() {\n        return $(this).composed;\n    }\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-istrusted\n     */\n    //istanbul ignore next\n    get isTrusted() {\n        return false;\n    }\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-timestamp\n     */\n    get timeStamp() {\n        return $(this).timeStamp;\n    }\n    /**\n     * @deprecated Don't use this method. The constructor did initialization.\n     */\n    initEvent(type, bubbles = false, cancelable = false) {\n        const data = $(this);\n        if (data.dispatchFlag) {\n            InitEventWasCalledWhileDispatching.warn();\n            return;\n        }\n        internalDataMap.set(this, {\n            ...data,\n            type: String(type),\n            bubbles: Boolean(bubbles),\n            cancelable: Boolean(cancelable),\n            target: null,\n            currentTarget: null,\n            stopPropagationFlag: false,\n            stopImmediatePropagationFlag: false,\n            canceledFlag: false,\n        });\n    }\n}\n//------------------------------------------------------------------------------\n// Helpers\n//------------------------------------------------------------------------------\nconst NONE = 0;\nconst CAPTURING_PHASE = 1;\nconst AT_TARGET = 2;\nconst BUBBLING_PHASE = 3;\n/**\n * Private data for event wrappers.\n */\nconst internalDataMap = new WeakMap();\n/**\n * Get private data.\n * @param event The event object to get private data.\n * @param name The variable name to report.\n * @returns The private data of the event.\n */\nfunction $(event, name = \"this\") {\n    const retv = internalDataMap.get(event);\n    assertType(retv != null, \"'%s' must be an object that Event constructor created, but got another one: %o\", name, event);\n    return retv;\n}\n/**\n * https://dom.spec.whatwg.org/#set-the-canceled-flag\n * @param data private data.\n */\nfunction setCancelFlag(data) {\n    if (data.inPassiveListenerFlag) {\n        CanceledInPassiveListener.warn();\n        return;\n    }\n    if (!data.cancelable) {\n        NonCancelableEventWasCanceled.warn();\n        return;\n    }\n    data.canceledFlag = true;\n}\n// Set enumerable\nObject.defineProperty(Event, \"NONE\", { enumerable: true });\nObject.defineProperty(Event, \"CAPTURING_PHASE\", { enumerable: true });\nObject.defineProperty(Event, \"AT_TARGET\", { enumerable: true });\nObject.defineProperty(Event, \"BUBBLING_PHASE\", { enumerable: true });\nconst keys = Object.getOwnPropertyNames(Event.prototype);\nfor (let i = 0; i < keys.length; ++i) {\n    if (keys[i] === \"constructor\") {\n        continue;\n    }\n    Object.defineProperty(Event.prototype, keys[i], { enumerable: true });\n}\n// Ensure `event instanceof window.Event` is `true`.\nif (typeof Global !== \"undefined\" && typeof Global.Event !== \"undefined\") {\n    Object.setPrototypeOf(Event.prototype, Global.Event.prototype);\n}\n\n/**\n * Create a new InvalidStateError instance.\n * @param message The error message.\n */\nfunction createInvalidStateError(message) {\n    if (Global.DOMException) {\n        return new Global.DOMException(message, \"InvalidStateError\");\n    }\n    if (DOMException == null) {\n        DOMException = class DOMException extends Error {\n            constructor(msg) {\n                super(msg);\n                if (Error.captureStackTrace) {\n                    Error.captureStackTrace(this, DOMException);\n                }\n            }\n            // eslint-disable-next-line class-methods-use-this\n            get code() {\n                return 11;\n            }\n            // eslint-disable-next-line class-methods-use-this\n            get name() {\n                return \"InvalidStateError\";\n            }\n        };\n        Object.defineProperties(DOMException.prototype, {\n            code: { enumerable: true },\n            name: { enumerable: true },\n        });\n        defineErrorCodeProperties(DOMException);\n        defineErrorCodeProperties(DOMException.prototype);\n    }\n    return new DOMException(message);\n}\n//------------------------------------------------------------------------------\n// Helpers\n//------------------------------------------------------------------------------\nlet DOMException;\nconst ErrorCodeMap = {\n    INDEX_SIZE_ERR: 1,\n    DOMSTRING_SIZE_ERR: 2,\n    HIERARCHY_REQUEST_ERR: 3,\n    WRONG_DOCUMENT_ERR: 4,\n    INVALID_CHARACTER_ERR: 5,\n    NO_DATA_ALLOWED_ERR: 6,\n    NO_MODIFICATION_ALLOWED_ERR: 7,\n    NOT_FOUND_ERR: 8,\n    NOT_SUPPORTED_ERR: 9,\n    INUSE_ATTRIBUTE_ERR: 10,\n    INVALID_STATE_ERR: 11,\n    SYNTAX_ERR: 12,\n    INVALID_MODIFICATION_ERR: 13,\n    NAMESPACE_ERR: 14,\n    INVALID_ACCESS_ERR: 15,\n    VALIDATION_ERR: 16,\n    TYPE_MISMATCH_ERR: 17,\n    SECURITY_ERR: 18,\n    NETWORK_ERR: 19,\n    ABORT_ERR: 20,\n    URL_MISMATCH_ERR: 21,\n    QUOTA_EXCEEDED_ERR: 22,\n    TIMEOUT_ERR: 23,\n    INVALID_NODE_TYPE_ERR: 24,\n    DATA_CLONE_ERR: 25,\n};\nfunction defineErrorCodeProperties(obj) {\n    const keys = Object.keys(ErrorCodeMap);\n    for (let i = 0; i < keys.length; ++i) {\n        const key = keys[i];\n        const value = ErrorCodeMap[key];\n        Object.defineProperty(obj, key, {\n            get() {\n                return value;\n            },\n            configurable: true,\n            enumerable: true,\n        });\n    }\n}\n\n/**\n * An implementation of `Event` interface, that wraps a given event object.\n * This class controls the internal state of `Event`.\n * @see https://dom.spec.whatwg.org/#interface-event\n */\nclass EventWrapper extends Event {\n    /**\n     * Wrap a given event object to control states.\n     * @param event The event-like object to wrap.\n     */\n    static wrap(event) {\n        return new (getWrapperClassOf(event))(event);\n    }\n    constructor(event) {\n        super(event.type, {\n            bubbles: event.bubbles,\n            cancelable: event.cancelable,\n            composed: event.composed,\n        });\n        if (event.cancelBubble) {\n            super.stopPropagation();\n        }\n        if (event.defaultPrevented) {\n            super.preventDefault();\n        }\n        internalDataMap$1.set(this, { original: event });\n        // Define accessors\n        const keys = Object.keys(event);\n        for (let i = 0; i < keys.length; ++i) {\n            const key = keys[i];\n            if (!(key in this)) {\n                Object.defineProperty(this, key, defineRedirectDescriptor(event, key));\n            }\n        }\n    }\n    stopPropagation() {\n        super.stopPropagation();\n        const { original } = $$1(this);\n        if (\"stopPropagation\" in original) {\n            original.stopPropagation();\n        }\n    }\n    get cancelBubble() {\n        return super.cancelBubble;\n    }\n    set cancelBubble(value) {\n        super.cancelBubble = value;\n        const { original } = $$1(this);\n        if (\"cancelBubble\" in original) {\n            original.cancelBubble = value;\n        }\n    }\n    stopImmediatePropagation() {\n        super.stopImmediatePropagation();\n        const { original } = $$1(this);\n        if (\"stopImmediatePropagation\" in original) {\n            original.stopImmediatePropagation();\n        }\n    }\n    get returnValue() {\n        return super.returnValue;\n    }\n    set returnValue(value) {\n        super.returnValue = value;\n        const { original } = $$1(this);\n        if (\"returnValue\" in original) {\n            original.returnValue = value;\n        }\n    }\n    preventDefault() {\n        super.preventDefault();\n        const { original } = $$1(this);\n        if (\"preventDefault\" in original) {\n            original.preventDefault();\n        }\n    }\n    get timeStamp() {\n        const { original } = $$1(this);\n        if (\"timeStamp\" in original) {\n            return original.timeStamp;\n        }\n        return super.timeStamp;\n    }\n}\n/**\n * Private data for event wrappers.\n */\nconst internalDataMap$1 = new WeakMap();\n/**\n * Get private data.\n * @param event The event object to get private data.\n * @returns The private data of the event.\n */\nfunction $$1(event) {\n    const retv = internalDataMap$1.get(event);\n    assertType(retv != null, \"'this' is expected an Event object, but got\", event);\n    return retv;\n}\n/**\n * Cache for wrapper classes.\n * @type {WeakMap<Object, Function>}\n * @private\n */\nconst wrapperClassCache = new WeakMap();\n// Make association for wrappers.\nwrapperClassCache.set(Object.prototype, EventWrapper);\nif (typeof Global !== \"undefined\" && typeof Global.Event !== \"undefined\") {\n    wrapperClassCache.set(Global.Event.prototype, EventWrapper);\n}\n/**\n * Get the wrapper class of a given prototype.\n * @param originalEvent The event object to wrap.\n */\nfunction getWrapperClassOf(originalEvent) {\n    const prototype = Object.getPrototypeOf(originalEvent);\n    if (prototype == null) {\n        return EventWrapper;\n    }\n    let wrapper = wrapperClassCache.get(prototype);\n    if (wrapper == null) {\n        wrapper = defineWrapper(getWrapperClassOf(prototype), prototype);\n        wrapperClassCache.set(prototype, wrapper);\n    }\n    return wrapper;\n}\n/**\n * Define new wrapper class.\n * @param BaseEventWrapper The base wrapper class.\n * @param originalPrototype The prototype of the original event.\n */\nfunction defineWrapper(BaseEventWrapper, originalPrototype) {\n    class CustomEventWrapper extends BaseEventWrapper {\n    }\n    const keys = Object.keys(originalPrototype);\n    for (let i = 0; i < keys.length; ++i) {\n        Object.defineProperty(CustomEventWrapper.prototype, keys[i], defineRedirectDescriptor(originalPrototype, keys[i]));\n    }\n    return CustomEventWrapper;\n}\n/**\n * Get the property descriptor to redirect a given property.\n */\nfunction defineRedirectDescriptor(obj, key) {\n    const d = Object.getOwnPropertyDescriptor(obj, key);\n    return {\n        get() {\n            const original = $$1(this).original;\n            const value = original[key];\n            if (typeof value === \"function\") {\n                return value.bind(original);\n            }\n            return value;\n        },\n        set(value) {\n            const original = $$1(this).original;\n            original[key] = value;\n        },\n        configurable: d.configurable,\n        enumerable: d.enumerable,\n    };\n}\n\n/**\n * Create a new listener.\n * @param callback The callback function.\n * @param capture The capture flag.\n * @param passive The passive flag.\n * @param once The once flag.\n * @param signal The abort signal.\n * @param signalListener The abort event listener for the abort signal.\n */\nfunction createListener(callback, capture, passive, once, signal, signalListener) {\n    return {\n        callback,\n        flags: (capture ? 1 /* Capture */ : 0) |\n            (passive ? 2 /* Passive */ : 0) |\n            (once ? 4 /* Once */ : 0),\n        signal,\n        signalListener,\n    };\n}\n/**\n * Set the `removed` flag to the given listener.\n * @param listener The listener to check.\n */\nfunction setRemoved(listener) {\n    listener.flags |= 8 /* Removed */;\n}\n/**\n * Check if the given listener has the `capture` flag or not.\n * @param listener The listener to check.\n */\nfunction isCapture(listener) {\n    return (listener.flags & 1 /* Capture */) === 1 /* Capture */;\n}\n/**\n * Check if the given listener has the `passive` flag or not.\n * @param listener The listener to check.\n */\nfunction isPassive(listener) {\n    return (listener.flags & 2 /* Passive */) === 2 /* Passive */;\n}\n/**\n * Check if the given listener has the `once` flag or not.\n * @param listener The listener to check.\n */\nfunction isOnce(listener) {\n    return (listener.flags & 4 /* Once */) === 4 /* Once */;\n}\n/**\n * Check if the given listener has the `removed` flag or not.\n * @param listener The listener to check.\n */\nfunction isRemoved(listener) {\n    return (listener.flags & 8 /* Removed */) === 8 /* Removed */;\n}\n/**\n * Call an event listener.\n * @param listener The listener to call.\n * @param target The event target object for `thisArg`.\n * @param event The event object for the first argument.\n * @param attribute `true` if this callback is an event attribute handler.\n */\nfunction invokeCallback({ callback }, target, event) {\n    try {\n        if (typeof callback === \"function\") {\n            callback.call(target, event);\n        }\n        else if (typeof callback.handleEvent === \"function\") {\n            callback.handleEvent(event);\n        }\n    }\n    catch (thrownError) {\n        reportError(thrownError);\n    }\n}\n\n/**\n * Find the index of given listener.\n * This returns `-1` if not found.\n * @param list The listener list.\n * @param callback The callback function to find.\n * @param capture The capture flag to find.\n */\nfunction findIndexOfListener({ listeners }, callback, capture) {\n    for (let i = 0; i < listeners.length; ++i) {\n        if (listeners[i].callback === callback &&\n            isCapture(listeners[i]) === capture) {\n            return i;\n        }\n    }\n    return -1;\n}\n/**\n * Add the given listener.\n * Does copy-on-write if needed.\n * @param list The listener list.\n * @param callback The callback function.\n * @param capture The capture flag.\n * @param passive The passive flag.\n * @param once The once flag.\n * @param signal The abort signal.\n */\nfunction addListener(list, callback, capture, passive, once, signal) {\n    let signalListener;\n    if (signal) {\n        signalListener = removeListener.bind(null, list, callback, capture);\n        signal.addEventListener(\"abort\", signalListener);\n    }\n    const listener = createListener(callback, capture, passive, once, signal, signalListener);\n    if (list.cow) {\n        list.cow = false;\n        list.listeners = [...list.listeners, listener];\n    }\n    else {\n        list.listeners.push(listener);\n    }\n    return listener;\n}\n/**\n * Remove a listener.\n * @param list The listener list.\n * @param callback The callback function to find.\n * @param capture The capture flag to find.\n * @returns `true` if it mutated the list directly.\n */\nfunction removeListener(list, callback, capture) {\n    const index = findIndexOfListener(list, callback, capture);\n    if (index !== -1) {\n        return removeListenerAt(list, index);\n    }\n    return false;\n}\n/**\n * Remove a listener.\n * @param list The listener list.\n * @param index The index of the target listener.\n * @param disableCow Disable copy-on-write if true.\n * @returns `true` if it mutated the `listeners` array directly.\n */\nfunction removeListenerAt(list, index, disableCow = false) {\n    const listener = list.listeners[index];\n    // Set the removed flag.\n    setRemoved(listener);\n    // Dispose the abort signal listener if exists.\n    if (listener.signal) {\n        listener.signal.removeEventListener(\"abort\", listener.signalListener);\n    }\n    // Remove it from the array.\n    if (list.cow && !disableCow) {\n        list.cow = false;\n        list.listeners = list.listeners.filter((_, i) => i !== index);\n        return false;\n    }\n    list.listeners.splice(index, 1);\n    return true;\n}\n\n/**\n * Create a new `ListenerListMap` object.\n */\nfunction createListenerListMap() {\n    return Object.create(null);\n}\n/**\n * Get the listener list of the given type.\n * If the listener list has not been initialized, initialize and return it.\n * @param listenerMap The listener list map.\n * @param type The event type to get.\n */\nfunction ensureListenerList(listenerMap, type) {\n    var _a;\n    return ((_a = listenerMap[type]) !== null && _a !== void 0 ? _a : (listenerMap[type] = {\n        attrCallback: undefined,\n        attrListener: undefined,\n        cow: false,\n        listeners: [],\n    }));\n}\n\n/**\n * An implementation of the `EventTarget` interface.\n * @see https://dom.spec.whatwg.org/#eventtarget\n */\nclass EventTarget {\n    /**\n     * Initialize this instance.\n     */\n    constructor() {\n        internalDataMap$2.set(this, createListenerListMap());\n    }\n    // Implementation\n    addEventListener(type0, callback0, options0) {\n        const listenerMap = $$2(this);\n        const { callback, capture, once, passive, signal, type, } = normalizeAddOptions(type0, callback0, options0);\n        if (callback == null || (signal === null || signal === void 0 ? void 0 : signal.aborted)) {\n            return;\n        }\n        const list = ensureListenerList(listenerMap, type);\n        // Find existing listener.\n        const i = findIndexOfListener(list, callback, capture);\n        if (i !== -1) {\n            warnDuplicate(list.listeners[i], passive, once, signal);\n            return;\n        }\n        // Add the new listener.\n        addListener(list, callback, capture, passive, once, signal);\n    }\n    // Implementation\n    removeEventListener(type0, callback0, options0) {\n        const listenerMap = $$2(this);\n        const { callback, capture, type } = normalizeOptions(type0, callback0, options0);\n        const list = listenerMap[type];\n        if (callback != null && list) {\n            removeListener(list, callback, capture);\n        }\n    }\n    // Implementation\n    dispatchEvent(e) {\n        const list = $$2(this)[String(e.type)];\n        if (list == null) {\n            return true;\n        }\n        const event = e instanceof Event ? e : EventWrapper.wrap(e);\n        const eventData = $(event, \"event\");\n        if (eventData.dispatchFlag) {\n            throw createInvalidStateError(\"This event has been in dispatching.\");\n        }\n        eventData.dispatchFlag = true;\n        eventData.target = eventData.currentTarget = this;\n        if (!eventData.stopPropagationFlag) {\n            const { cow, listeners } = list;\n            // Set copy-on-write flag.\n            list.cow = true;\n            // Call listeners.\n            for (let i = 0; i < listeners.length; ++i) {\n                const listener = listeners[i];\n                // Skip if removed.\n                if (isRemoved(listener)) {\n                    continue;\n                }\n                // Remove this listener if has the `once` flag.\n                if (isOnce(listener) && removeListenerAt(list, i, !cow)) {\n                    // Because this listener was removed, the next index is the\n                    // same as the current value.\n                    i -= 1;\n                }\n                // Call this listener with the `passive` flag.\n                eventData.inPassiveListenerFlag = isPassive(listener);\n                invokeCallback(listener, this, event);\n                eventData.inPassiveListenerFlag = false;\n                // Stop if the `event.stopImmediatePropagation()` method was called.\n                if (eventData.stopImmediatePropagationFlag) {\n                    break;\n                }\n            }\n            // Restore copy-on-write flag.\n            if (!cow) {\n                list.cow = false;\n            }\n        }\n        eventData.target = null;\n        eventData.currentTarget = null;\n        eventData.stopImmediatePropagationFlag = false;\n        eventData.stopPropagationFlag = false;\n        eventData.dispatchFlag = false;\n        return !eventData.canceledFlag;\n    }\n}\n/**\n * Internal data.\n */\nconst internalDataMap$2 = new WeakMap();\n/**\n * Get private data.\n * @param target The event target object to get private data.\n * @param name The variable name to report.\n * @returns The private data of the event.\n */\nfunction $$2(target, name = \"this\") {\n    const retv = internalDataMap$2.get(target);\n    assertType(retv != null, \"'%s' must be an object that EventTarget constructor created, but got another one: %o\", name, target);\n    return retv;\n}\n/**\n * Normalize options.\n * @param options The options to normalize.\n */\nfunction normalizeAddOptions(type, callback, options) {\n    var _a;\n    assertCallback(callback);\n    if (typeof options === \"object\" && options !== null) {\n        return {\n            type: String(type),\n            callback: callback !== null && callback !== void 0 ? callback : undefined,\n            capture: Boolean(options.capture),\n            passive: Boolean(options.passive),\n            once: Boolean(options.once),\n            signal: (_a = options.signal) !== null && _a !== void 0 ? _a : undefined,\n        };\n    }\n    return {\n        type: String(type),\n        callback: callback !== null && callback !== void 0 ? callback : undefined,\n        capture: Boolean(options),\n        passive: false,\n        once: false,\n        signal: undefined,\n    };\n}\n/**\n * Normalize options.\n * @param options The options to normalize.\n */\nfunction normalizeOptions(type, callback, options) {\n    assertCallback(callback);\n    if (typeof options === \"object\" && options !== null) {\n        return {\n            type: String(type),\n            callback: callback !== null && callback !== void 0 ? callback : undefined,\n            capture: Boolean(options.capture),\n        };\n    }\n    return {\n        type: String(type),\n        callback: callback !== null && callback !== void 0 ? callback : undefined,\n        capture: Boolean(options),\n    };\n}\n/**\n * Assert the type of 'callback' argument.\n * @param callback The callback to check.\n */\nfunction assertCallback(callback) {\n    if (typeof callback === \"function\" ||\n        (typeof callback === \"object\" &&\n            callback !== null &&\n            typeof callback.handleEvent === \"function\")) {\n        return;\n    }\n    if (callback == null || typeof callback === \"object\") {\n        InvalidEventListener.warn(callback);\n        return;\n    }\n    throw new TypeError(format(InvalidEventListener.message, [callback]));\n}\n/**\n * Print warning for duplicated.\n * @param listener The current listener that is duplicated.\n * @param passive The passive flag of the new duplicated listener.\n * @param once The once flag of the new duplicated listener.\n * @param signal The signal object of the new duplicated listener.\n */\nfunction warnDuplicate(listener, passive, once, signal) {\n    EventListenerWasDuplicated.warn(isCapture(listener) ? \"capture\" : \"bubble\", listener.callback);\n    if (isPassive(listener) !== passive) {\n        OptionWasIgnored.warn(\"passive\");\n    }\n    if (isOnce(listener) !== once) {\n        OptionWasIgnored.warn(\"once\");\n    }\n    if (listener.signal !== signal) {\n        OptionWasIgnored.warn(\"signal\");\n    }\n}\n// Set enumerable\nconst keys$1 = Object.getOwnPropertyNames(EventTarget.prototype);\nfor (let i = 0; i < keys$1.length; ++i) {\n    if (keys$1[i] === \"constructor\") {\n        continue;\n    }\n    Object.defineProperty(EventTarget.prototype, keys$1[i], { enumerable: true });\n}\n// Ensure `eventTarget instanceof window.EventTarget` is `true`.\nif (typeof Global !== \"undefined\" &&\n    typeof Global.EventTarget !== \"undefined\") {\n    Object.setPrototypeOf(EventTarget.prototype, Global.EventTarget.prototype);\n}\n\n/**\n * Get the current value of a given event attribute.\n * @param target The `EventTarget` object to get.\n * @param type The event type.\n */\nfunction getEventAttributeValue(target, type) {\n    var _a, _b;\n    const listMap = $$2(target, \"target\");\n    return (_b = (_a = listMap[type]) === null || _a === void 0 ? void 0 : _a.attrCallback) !== null && _b !== void 0 ? _b : null;\n}\n/**\n * Set an event listener to a given event attribute.\n * @param target The `EventTarget` object to set.\n * @param type The event type.\n * @param callback The event listener.\n */\nfunction setEventAttributeValue(target, type, callback) {\n    if (callback != null && typeof callback !== \"function\") {\n        InvalidAttributeHandler.warn(callback);\n    }\n    if (typeof callback === \"function\" ||\n        (typeof callback === \"object\" && callback !== null)) {\n        upsertEventAttributeListener(target, type, callback);\n    }\n    else {\n        removeEventAttributeListener(target, type);\n    }\n}\n//------------------------------------------------------------------------------\n// Helpers\n//------------------------------------------------------------------------------\n/**\n * Update or insert the given event attribute handler.\n * @param target The `EventTarget` object to set.\n * @param type The event type.\n * @param callback The event listener.\n */\nfunction upsertEventAttributeListener(target, type, callback) {\n    const list = ensureListenerList($$2(target, \"target\"), String(type));\n    list.attrCallback = callback;\n    if (list.attrListener == null) {\n        list.attrListener = addListener(list, defineEventAttributeCallback(list), false, false, false, undefined);\n    }\n}\n/**\n * Remove the given event attribute handler.\n * @param target The `EventTarget` object to remove.\n * @param type The event type.\n * @param callback The event listener.\n */\nfunction removeEventAttributeListener(target, type) {\n    const listMap = $$2(target, \"target\");\n    const list = listMap[String(type)];\n    if (list && list.attrListener) {\n        removeListener(list, list.attrListener.callback, false);\n        list.attrCallback = list.attrListener = undefined;\n    }\n}\n/**\n * Define the callback function for the given listener list object.\n * It calls `attrCallback` property if the property value is a function.\n * @param list The `ListenerList` object.\n */\nfunction defineEventAttributeCallback(list) {\n    return function (event) {\n        const callback = list.attrCallback;\n        if (typeof callback === \"function\") {\n            callback.call(this, event);\n        }\n    };\n}\n\n/**\n * Define an `EventTarget` class that has event attibutes.\n * @param types The types to define event attributes.\n * @deprecated Use `getEventAttributeValue`/`setEventAttributeValue` pair on your derived class instead because of static analysis friendly.\n */\nfunction defineCustomEventTarget(...types) {\n    class CustomEventTarget extends EventTarget {\n    }\n    for (let i = 0; i < types.length; ++i) {\n        defineEventAttribute(CustomEventTarget.prototype, types[i]);\n    }\n    return CustomEventTarget;\n}\n/**\n * Define an event attribute.\n * @param target The `EventTarget` object to define an event attribute.\n * @param type The event type to define.\n * @param _eventClass Unused, but to infer `Event` class type.\n * @deprecated Use `getEventAttributeValue`/`setEventAttributeValue` pair on your derived class instead because of static analysis friendly.\n */\nfunction defineEventAttribute(target, type, _eventClass) {\n    Object.defineProperty(target, `on${type}`, {\n        get() {\n            return getEventAttributeValue(this, type);\n        },\n        set(value) {\n            setEventAttributeValue(this, type, value);\n        },\n        configurable: true,\n        enumerable: true,\n    });\n}\n\nexport default EventTarget;\nexport { Event, EventTarget, defineCustomEventTarget, defineEventAttribute, getEventAttributeValue, setErrorHandler, setEventAttributeValue, setWarningHandler };\n//# sourceMappingURL=index.mjs.map\n","import {EventTarget} from 'event-target-shim'; // Because EventTarget() doesn't exist on Safari\n\nconst promiseTimeout = function (ms, promise) {\n    let timeout = new Promise((resolve, reject) => {\n        let id = setTimeout(() => {\n            clearTimeout(id);\n            reject('Timed out in ' + ms + 'ms.');\n        }, ms);\n    });\n\n    return Promise.race([promise, timeout]);\n};\n\n/**\n * Returns a URL for a relative path or URL\n *\n * @param {string} urlOrPath\n */\nconst ensureURL = function (urlOrPath) {\n    try {\n        return new URL(urlOrPath).href;\n    } catch {\n        return new URL(urlOrPath, window.location.href).href;\n    }\n};\n\n/**\n * Wraps the keycloak API to support async/await, adds auto token refreshing and consolidates all\n * events into one native \"changed\" event\n *\n * The \"changed\" event has the real keycloak instance as \"detail\"\n */\nexport class KeycloakWrapper extends EventTarget {\n    /**\n     * @param {string} baseURL\n     * @param {string} realm\n     * @param {string} clientId\n     * @param {string} silentCheckSsoUri\n     * @param {boolean} checkLoginIframe\n     * @param {string} idpHint\n     */\n    constructor(baseURL, realm, clientId, silentCheckSsoUri, checkLoginIframe, idpHint) {\n        super();\n\n        this._baseURL = baseURL;\n        this._realm = realm;\n        this._clientId = clientId;\n        this._keycloak = null;\n        this._initPromise = null;\n        this._silentCheckSsoUri = silentCheckSsoUri;\n        this._checkLoginIframe = checkLoginIframe;\n        this._idpHint = idpHint;\n        this._checkId = null;\n\n        /* Minimum validity of the token in seconds */\n        this.MIN_VALIDITY = 20;\n\n        /* Interval at which the token validity is checked, in seconds */\n        this.CHECK_INTERVAL = 10;\n\n        /* Enables extra debug logging */\n        this.DEBUG = false;\n\n        this._onVisibilityChanged = this._onVisibilityChanged.bind(this);\n        document.addEventListener('visibilitychange', this._onVisibilityChanged);\n    }\n\n    /**\n     * This needs to be called or the instance will leak;\n     */\n    close() {\n        document.removeEventListener('visibilitychange', this._onVisibilityChanged);\n    }\n\n    _onVisibilityChanged() {\n        let isVisible = document.visibilityState === 'visible';\n        if (isVisible && this._keycloak.authenticated) {\n            this._checkTokeHasExpired();\n        }\n    }\n\n    _onChanged() {\n        const event = new CustomEvent('changed', {\n            detail: this._keycloak,\n            bubbles: true,\n            composed: true,\n        });\n        this.dispatchEvent(event);\n    }\n\n    _onReady(authenticated) {\n        // Avoid emitting changed when nothing has changed on init()\n        if (authenticated) this._onChanged();\n    }\n\n    async _onTokenExpired() {\n        console.log('Token has expired');\n        let refreshed = false;\n\n        try {\n            // -1 means force a refresh\n            refreshed = await this._keycloak.updateToken(-1);\n        } catch (error) {\n            console.log('Failed to refresh the token', error);\n            return;\n        }\n\n        console.assert(refreshed, 'token should have been refreshed');\n    }\n\n    async _checkTokeHasExpired() {\n        let refreshed;\n\n        let minValidity = this.MIN_VALIDITY + this.CHECK_INTERVAL;\n        if (this.DEBUG) {\n            console.log(`Updating token if not valid for at least ${minValidity}s`);\n        }\n        try {\n            refreshed = await this._keycloak.updateToken(minValidity);\n        } catch (error) {\n            console.log('Failed to refresh the token', error);\n        }\n\n        if (this.DEBUG && refreshed) console.log('token has been refreshed');\n    }\n\n    async _onAuthSuccess() {\n        // We check every once in a while if the token is still valid and\n        // and refresh it if needed.\n        if (this._checkId !== null) {\n            clearInterval(this._checkId);\n            this._checkId = null;\n        }\n        this._checkId = setInterval(\n            this._checkTokeHasExpired.bind(this),\n            this.CHECK_INTERVAL * 1000\n        );\n\n        this._onChanged();\n    }\n\n    async _onAuthLogout() {\n        if (this._checkId !== null) {\n            clearInterval(this._checkId);\n            this._checkId = null;\n        }\n\n        this._onChanged();\n    }\n\n    async _init() {\n        const Keycloak = (await import('keycloak-js')).default;\n\n        this._keycloak = new Keycloak({\n            url: this._baseURL,\n            realm: this._realm,\n            clientId: this._clientId,\n        });\n\n        this._keycloak.onTokenExpired = this._onTokenExpired.bind(this);\n        this._keycloak.onAuthRefreshSuccess = this._onChanged.bind(this);\n        this._keycloak.onAuthRefreshError = this._onChanged.bind(this);\n        this._keycloak.onAuthLogout = this._onAuthLogout.bind(this);\n        this._keycloak.onAuthSuccess = this._onAuthSuccess.bind(this);\n        this._keycloak.onAuthError = this._onChanged.bind(this);\n        this._keycloak.onReady = this._onReady.bind(this);\n\n        const options = {\n            promiseType: 'native',\n            pkceMethod: 'S256',\n        };\n\n        if (this.DEBUG) {\n            options['enableLogging'] = true;\n        }\n\n        options['checkLoginIframe'] = this._checkLoginIframe;\n\n        if (this._silentCheckSsoUri) {\n            options['onLoad'] = 'check-sso';\n            options['silentCheckSsoRedirectUri'] = ensureURL(this._silentCheckSsoUri);\n\n            // When silent-sso-check is active but the iframe doesn't load/work we will\n            // never return here, so add a timeout and emit a signal so the app can continue\n            await promiseTimeout(5000, this._keycloak.init(options)).catch(() => {\n                console.log('Login timed out');\n                this._onChanged();\n            });\n        } else {\n            await this._keycloak.init(options);\n        }\n    }\n\n    async _ensureInit() {\n        if (this._initPromise === null) {\n            this._initPromise = this._init();\n        }\n        return this._initPromise;\n    }\n\n    /**\n     * If this returns true you need to call login() at one point to finish the login process.\n     */\n    isLoggingIn() {\n        const href = window.location.href;\n        return href.search('[&#]state=') >= 0 && href.search('[&#]session_state=') >= 0;\n    }\n\n    /**\n     * Logs the user in. Might lead to a site refresh or the user needing to authenticate.\n     *\n     * @param {object} options\n     * @param {string} [options.lang] - The locale to use on the keycloak login page\n     */\n    async login(options) {\n        await this._ensureInit();\n\n        options = options || {};\n        const language = options['lang'] || 'en';\n        const scope = options['scope'] || '';\n\n        if (!this._keycloak.authenticated) {\n            await this._keycloak.login({\n                kcLocale: language, // Keycloak < 9.0\n                locale: language,\n                scope: scope,\n                idpHint: this._idpHint,\n            });\n        }\n    }\n\n    /**\n     * Logs the user in if it is possible without leaving the page or the user needing to authenticate again.\n     */\n    async tryLogin() {\n        await this._ensureInit();\n    }\n\n    /**\n     * Logs the user out locally, but not with keycloak. Login will instantly log the user back in without\n     * requiring a re-auth.\n     */\n    async localLogout() {\n        this._keycloak.clearToken();\n    }\n\n    /**\n     * Log the user out from keycloak.\n     */\n    async logout() {\n        await this._ensureInit();\n        this._keycloak.logout();\n    }\n}\n","export const LoginStatus = Object.freeze({\n    UNKNOWN: 'unknown',\n    LOGGING_IN: 'logging-in',\n    LOGGED_IN: 'logged-in',\n    LOGGING_OUT: 'logging-out',\n    LOGGED_OUT: 'logged-out',\n});\n","import {html, LitElement, css} from 'lit';\n\nexport class MiniSpinner extends LitElement {\n    constructor() {\n        super();\n        this.text = '';\n    }\n\n    static get properties() {\n        return {\n            text: {type: String},\n        };\n    }\n\n    static get styles() {\n        // language=css\n        return css`\n            .outer {\n                display: inline-block;\n                vertical-align: sub;\n            }\n            .inner {\n                display: flex;\n            }\n            .ring {\n                display: inline-block;\n                position: relative;\n                width: 1em;\n                height: 1em;\n            }\n            .ring div {\n                box-sizing: border-box;\n                display: block;\n                position: absolute;\n                width: 100%;\n                height: 100%;\n                border: 0.2em solid currentColor;\n                border-radius: 50%;\n                animation: ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n                border-color: currentColor transparent transparent transparent;\n            }\n            .ring div:nth-child(1) {\n                animation-delay: -0.45s;\n            }\n            .ring div:nth-child(2) {\n                animation-delay: -0.3s;\n            }\n            .ring div:nth-child(3) {\n                animation-delay: -0.15s;\n            }\n            @keyframes ring {\n                0% {\n                    transform: rotate(0deg);\n                }\n                100% {\n                    transform: rotate(360deg);\n                }\n            }\n            .text {\n                display: inline-block;\n                margin-left: 0.5em;\n                font-size: 0.7em;\n            }\n        `;\n    }\n\n    render() {\n        const textHtml =\n            this.text !== ''\n                ? html`\n                      <div class=\"text\">${this.text}</div>\n                  `\n                : html``;\n\n        return html`\n            <div class=\"outer\">\n                <div class=\"inner\">\n                    <div class=\"ring\">\n                        <div></div>\n                        <div></div>\n                        <div></div>\n                        <div></div>\n                    </div>\n                    ${textHtml}\n                </div>\n            </div>\n        `;\n    }\n}\n","import {css, unsafeCSS, CSSResult} from 'lit';\nimport {getIconSVGURL} from './src/icon.js';\n\n/**\n * We want to have \"neutral\" colors here\n *\n * @returns {CSSResult}\n */\nexport function getThemeCSS() {\n    // language=css\n    return css`\n        :host {\n            /* new new variables */\n            --dbp-background:\n                    var(--dbp-override-background, #ffffff\n            );\n            --dbp-content:\n                    var(--dbp-override-content, #222120\n            );\n            --dbp-content-surface:\n                    var(--dbp-override-content-surface,\n                    var(--dbp-content)\n            );\n            --dbp-on-content-surface:\n                    var(--dbp-override-on-content-surface,\n                    var(--dbp-background)\n            );\n            --dbp-border:\n                    var(--dbp-override-border, 1px solid #222120\n            );\n            --dbp-border-radius:\n                    var(--dbp-override-border-radius, 0px\n            );\n            --dbp-primary:\n                    var(--dbp-override-primary,  #3775c1\n            );\n            --dbp-primary-surface:\n                    var(--dbp-override-primary-surface,\n                    var(--dbp-primary)\n            );\n            --dbp-on-primary-surface:\n                    var(--dbp-override-on-primary-surface,\n                    var(--dbp-on-content-surface)\n            );\n            --dbp-primary-surface-border-color:\n                    var(--dbp-override-primary-surface-border-color,\n                    var(--dbp-primary)\n            );\n            --dbp-secondary:\n                    var(--dbp-override-secondary, #222120\n            );\n            --dbp-secondary-surface:\n                    var(--dbp-override-secondary-surface,\n                    var(--dbp-secondary)\n            );\n            --dbp-on-secondary-surface:\n                    var(--dbp-override-on-secondary-surface,\n                    var(--dbp-on-content-surface)\n            );\n            --dbp-secondary-surface-border-color:\n                    var(--dbp-override-secondary-surface-border-color,\n                    var(--dbp-secondary)\n            );\n            --dbp-muted:\n                    var(--dbp-override-muted, #767676\n            );\n            --dbp-muted-surface:\n                    var(--dbp-override-muted-surface,\n                    var(--dbp-muted)\n            );\n            --dbp-on-muted-surface:\n                    var(--dbp-override-on-muted-surface,\n                    var(--dbp-on-content-surface)\n            );\n            --dbp-muted-surface-border-color:\n                    var(--dbp-override-muted-surface-border-color,\n                    var(--dbp-muted)\n            );\n            --dbp-accent:\n                    var(--dbp-override-accent, #9e1e4d\n            );\n            --dbp-accent-surface:\n                    var(--dbp-override-accent-surface,\n                    var(--dbp-accent)\n            );\n            --dbp-on-accent-surface:\n                    var(--dbp-override-on-accent-surface,\n                    var(--dbp-on-content-surface)\n            );\n            --dbp-accent-surface-border-color:\n                    var(--dbp-override-accent-surface-border-color,\n                    var(--dbp-accent)\n            );\n            --dbp-info:\n                    var(--dbp-override-info, #38808a\n            );\n            --dbp-info-surface:\n                    var(--dbp-override-info-surface,\n                    var(--dbp-info)\n            );\n            --dbp-on-info-surface:\n                    var(--dbp-override-on-info-surface,\n                    var(--dbp-on-content-surface)\n            );\n            --dbp-info-surface-border-color:\n                    var(--dbp-override-info-surface-border-color,\n                    var(--dbp-info)\n            );\n            --dbp-success:\n                    var(--dbp-override-success, #338555\n            );\n            --dbp-success-surface:\n                    var(--dbp-override-success-surface,\n                    var(--dbp-success)\n            );\n            --dbp-on-success-surface:\n                    var(--dbp-override-on-success-surface,\n                    var(--dbp-on-content-surface)\n            );\n            --dbp-success-surface-border-color:\n                    var(--dbp-override-success-surface-border-color,\n                    var(--dbp-success)\n            );\n            --dbp-warning:\n                    var(--dbp-override-warning, #bf8808\n            );\n            --dbp-warning-surface:\n                    var(--dbp-override-warning-surface,\n                    var(--dbp-warning)\n            );\n            --dbp-on-warning-surface:\n                    var(--dbp-override-on-warning-surface,\n                    var(--dbp-on-content-surface)\n            );\n            --dbp-warning-surface-border-color:\n                    var(--dbp-override-warning-surface-border-color,\n                    var(--dbp-warning)\n            );\n            --dbp-danger:\n                    var(--dbp-override-danger, #cc3232\n            );\n            --dbp-danger-surface:\n                    var(--dbp-override-danger-surface,\n                    var(--dbp-danger)\n            );\n            --dbp-on-danger-surface:\n                    var(--dbp-override-on-danger-surface,\n                    var(--dbp-on-content-surface)\n            );\n            --dbp-danger-surface-border-color:\n                    var(--dbp-override-danger-surface-border-color,\n                    var(--dbp-danger)\n            );\n            --dbp-hover-background-color:\n                    var(--dbp-override-hover-background-color\n            );\n            --dbp-hover-color:\n                    var(--dbp-override-hover-color\n            );\n        }\n\n        #root {\n            background-color: var(--dbp-background);\n            color: var(--dbp-content);\n        }\n\n        ::-moz-selection {\n            color: var(--dbp-on-primary-surface);\n            background: var(--dbp-primary-surface);\n        }\n\n        ::selection {\n            color: var(--dbp-on-primary-surface);\n            background: var(--dbp-primary-surface);\n        }\n\n    `;\n}\n\nexport function getGeneralCSS(doMarginPaddingReset = true) {\n    // language=css\n    const marginPaddingResetCss = doMarginPaddingReset\n        ? css`\n              blockquote,\n              body,\n              dd,\n              dl,\n              dt,\n              fieldset,\n              figure,\n              h1,\n              h2,\n              h3,\n              h4,\n              h5,\n              h6,\n              hr,\n              html,\n              iframe,\n              legend,\n              li,\n              ol,\n              p,\n              pre,\n              textarea,\n              ul {\n                  margin: 0;\n                  padding: 0;\n              }\n          `\n        : css``;\n\n    // language=css\n    return css`\n\n        h2 {\n            font-weight: 300;\n        }\n\n        h3 {\n            font-weight: 300;\n            margin-top: 0px;\n            margin-bottom: 0.75rem;\n        }\n\n        .field:not(:last-child) {\n            margin-bottom: 0.75rem;\n        }\n\n        .field.has-addons {\n            display: flex;\n            justify-content: flex-start;\n        }\n\n        .input, .textarea, .select select {\n            border: solid 1px var(--dbp-muted);\n            border-radius: var(--dbp-border-radius);\n            padding-bottom: calc(.375em - 1px);\n            padding-left: calc(.625em - 1px);\n            padding-right: calc(.625em - 1px);\n            padding-top: calc(.375em - 1px);\n        }\n\n        .input::placeholder, .textarea::placeholder, .select select::placeholder {\n            color: var(--dbp-muted);\n        }\n\n        input, ::placeholder, textarea, select, .select select {\n            font-size: inherit;\n            font-family: inherit;\n        }\n\n        input::-moz-focus-inner { border: 0; }\n\n        :focus-visible{\n            outline:none !important;\n            outline-width: 0 !important;\n            box-shadow: none;\n            -moz-box-shadow: none;\n            -webkit-box-shadow: none;\n            box-shadow: 0px 0px 3px 1px var(--dbp-primary);\n        }\n\n        .control {\n            box-sizing: border-box;\n            clear: both;\n            font-size: 1rem;\n            position: relative;\n            text-align: left;\n        }\n\n        .label {\n            margin-bottom: .5em;\n            display: block;\n            font-weight: 600;\n        }\n\n        .hidden { display: none; }\n\n        a {\n            color: var(--dbp-content);\n            cursor: pointer;\n            text-decoration: none;\n        }\n\n        a.is-download {\n            border-bottom: var(--dbp-border);\n            transition: background-color 0.15s, color 0.15s;\n        }\n\n        a.is-download:hover {\n            color: var(--dbp-hover-color, var(--dbp-content));\n            background-color: var(--dbp-hover-background-color);\n        }\n\n        .title {\n            color: var(--dbp-content);\n            font-size: 2rem;\n            font-weight: 600;\n            line-height: 1.125;\n        }\n\n        ${marginPaddingResetCss}.int-link-internal\n\n        .button[disabled], .file-cta[disabled], .file-name[disabled], .input[disabled], .pagination-ellipsis[disabled],\n        .pagination-link[disabled], .pagination-next[disabled], .pagination-previous[disabled], .select fieldset[disabled] select,\n        .select select[disabled], .textarea[disabled], fieldset[disabled] .button, fieldset[disabled] .file-cta,\n        fieldset[disabled] .file-name, fieldset[disabled] .input, fieldset[disabled] .pagination-ellipsis,\n        fieldset[disabled] .pagination-link, fieldset[disabled] .pagination-next, fieldset[disabled] .pagination-previous,\n        fieldset[disabled] .select select, fieldset[disabled] .textarea {\n            cursor: not-allowed;\n        }\n\n        .input, .select select, .textarea {\n            background-color: var(--dbp-background);\n            border-color: var(--dbp-muted);\n            border-radius: var(--dbp-border-radius);\n            color: var(--dbp-content);\n        }\n\n        .input[disabled] {\n            color: var(--dbp-muted);\n        }\n\n        *, ::after, ::before {\n            box-sizing: inherit;\n        }\n\n        select:not(.select), .dropdown-menu {\n            -moz-appearance: none;\n            -webkit-appearance: none;\n            background-color: var(--dbp-background);\n            background: calc(100% - 0.2rem) center no-repeat url(\"${unsafeCSS(\n                getIconSVGURL('chevron-down')\n            )}\");\n            background-size: 25%;\n            border: var(--dbp-border);\n            border-radius: var(--dbp-border-radius);\n            color: var(--dbp-content);\n            padding: 0.14rem 1.0rem 0.14rem 0.14rem;\n        }\n\n        ::-moz-selection {\n            color: var(--dbp-on-primary-surface);\n            background: var(--dbp-primary-surface);\n        }\n\n        ::selection {\n            color: var(--dbp-on-primary-surface);\n            background: var(--dbp-primary-surface);\n        }\n    `;\n}\n\nexport function getFormAddonsCSS() {\n    // language=css\n    return css`\n        .buttons.has-addons .button:not(:first-child) {\n            border-bottom-left-radius: 0;\n            border-top-left-radius: 0;\n        }\n\n        .buttons.has-addons .button:not(:last-child) {\n            border-bottom-right-radius: 0;\n            border-top-right-radius: 0;\n            margin-right: -1px;\n        }\n\n        .buttons.has-addons .button:last-child {\n            margin-right: 0;\n        }\n\n        .buttons.has-addons .button:hover,\n        .buttons.has-addons .button.is-hovered {\n            z-index: 2;\n        }\n\n        .buttons.has-addons .button:focus,\n        .buttons.has-addons .button.is-focused,\n        .buttons.has-addons .button:active,\n        .buttons.has-addons .button.is-active,\n        .buttons.has-addons .button.is-selected {\n            z-index: 3;\n        }\n\n        .buttons.has-addons .button:focus:hover,\n        .buttons.has-addons .button.is-focused:hover,\n        .buttons.has-addons .button:active:hover,\n        .buttons.has-addons .button.is-active:hover,\n        .buttons.has-addons .button.is-selected:hover {\n            z-index: 4;\n        }\n\n        .buttons.has-addons .button.is-expanded {\n            flex-grow: 1;\n            flex-shrink: 1;\n        }\n\n        .buttons.is-centered {\n            justify-content: center;\n        }\n\n        .buttons.is-centered:not(.has-addons) .button:not(.is-fullwidth) {\n            margin-left: 0.25rem;\n            margin-right: 0.25rem;\n        }\n\n        .buttons.is-right {\n            justify-content: flex-end;\n        }\n\n        .buttons.is-right:not(.has-addons) .button:not(.is-fullwidth) {\n            margin-left: 0.25rem;\n            margin-right: 0.25rem;\n        }\n\n        .tags.has-addons .tag {\n            margin-right: 0;\n        }\n\n        .tags.has-addons .tag:not(:first-child) {\n            margin-left: 0;\n            border-bottom-left-radius: 0;\n            border-top-left-radius: 0;\n        }\n\n        .tags.has-addons .tag:not(:last-child) {\n            border-bottom-right-radius: 0;\n            border-top-right-radius: 0;\n        }\n\n        .field.has-addons {\n            display: flex;\n            justify-content: flex-start;\n        }\n\n        .field.has-addons .control:not(:last-child) {\n            margin-right: -1px;\n        }\n\n        .field.has-addons .control:not(:first-child):not(:last-child) .button,\n        .field.has-addons .control:not(:first-child):not(:last-child) .input,\n        .field.has-addons .control:not(:first-child):not(:last-child) .select select {\n            border-radius: 0;\n        }\n\n        .field.has-addons .control:first-child:not(:only-child) .button,\n        .field.has-addons .control:first-child:not(:only-child) .input,\n        .field.has-addons .control:first-child:not(:only-child) .select select {\n            border-bottom-right-radius: 0;\n            border-top-right-radius: 0;\n        }\n\n        .field.has-addons .control:last-child:not(:only-child) .button,\n        .field.has-addons .control:last-child:not(:only-child) .input,\n        .field.has-addons .control:last-child:not(:only-child) .select select {\n            border-bottom-left-radius: 0;\n            border-top-left-radius: 0;\n        }\n\n        .field.has-addons .control .button:not([disabled]):hover,\n        .field.has-addons .control .button:not([disabled]).is-hovered,\n        .field.has-addons .control .input:not([disabled]):hover,\n        .field.has-addons .control .input:not([disabled]).is-hovered,\n        .field.has-addons .control .select select:not([disabled]):hover,\n        .field.has-addons .control .select select:not([disabled]).is-hovered {\n            z-index: 2;\n        }\n\n        .field.has-addons .control .button:not([disabled]):focus,\n        .field.has-addons .control .button:not([disabled]).is-focused,\n        .field.has-addons .control .button:not([disabled]):active,\n        .field.has-addons .control .button:not([disabled]).is-active,\n        .field.has-addons .control .input:not([disabled]):focus,\n        .field.has-addons .control .input:not([disabled]).is-focused,\n        .field.has-addons .control .input:not([disabled]):active,\n        .field.has-addons .control .input:not([disabled]).is-active,\n        .field.has-addons .control .select select:not([disabled]):focus,\n        .field.has-addons .control .select select:not([disabled]).is-focused,\n        .field.has-addons .control .select select:not([disabled]):active,\n        .field.has-addons .control .select select:not([disabled]).is-active {\n            z-index: 3;\n        }\n\n        .field.has-addons .control .button:not([disabled]):focus:hover,\n        .field.has-addons .control .button:not([disabled]).is-focused:hover,\n        .field.has-addons .control .button:not([disabled]):active:hover,\n        .field.has-addons .control .button:not([disabled]).is-active:hover,\n        .field.has-addons .control .input:not([disabled]):focus:hover,\n        .field.has-addons .control .input:not([disabled]).is-focused:hover,\n        .field.has-addons .control .input:not([disabled]):active:hover,\n        .field.has-addons .control .input:not([disabled]).is-active:hover,\n        .field.has-addons .control .select select:not([disabled]):focus:hover,\n        .field.has-addons .control .select select:not([disabled]).is-focused:hover,\n        .field.has-addons .control .select select:not([disabled]):active:hover,\n        .field.has-addons .control .select select:not([disabled]).is-active:hover {\n            z-index: 4;\n        }\n\n        .field.has-addons .control.is-expanded {\n            flex-grow: 1;\n            flex-shrink: 1;\n        }\n\n        .field.has-addons.has-addons-centered {\n            justify-content: center;\n        }\n\n        .field.has-addons.has-addons-right {\n            justify-content: flex-end;\n        }\n\n        .field.has-addons.has-addons-fullwidth .control {\n            flex-grow: 1;\n            flex-shrink: 0;\n        }\n    `;\n}\n\nexport function getNotificationCSS() {\n    // language=css\n    return css`\n        .notification {\n            background-color: var(--dbp-background);\n            color: var(--dbp-content);\n            padding: 1.25rem 2.5rem 1.25rem 1.5rem;\n            position: relative;\n            border-radius: var(--dbp-border-radius);\n            border: var(--dbp-border);\n        }\n\n        .notification.has-progress-bar {\n            padding-bottom: 1rem;\n        }\n\n        .notification a:not(.button):not(.dropdown-item) {\n            color: currentColor;\n            text-decoration: underline;\n        }\n\n        .notification strong {\n            color: currentColor;\n        }\n\n        .notification code,\n        .notification pre {\n            color: var(--dbp-on-muted-surface);\n            background: var(--dbp-muted-surface);\n            border-color: var(--dbp-muted-surface-border-color);\n        }\n\n        .notification pre code {\n            background: transparent;\n        }\n\n        .notification dbp-icon {\n            font-size: 1.4em;\n            margin-right: 0.4em;\n        }\n\n        .notification > .delete {\n            position: absolute;\n            right: 0.5rem;\n            top: 0.5rem;\n        }\n\n        .notification .title,\n        .notification .subtitle,\n        .notification .content {\n            color: currentColor;\n        }\n\n        .notification.is-primary {\n            background-color: var(--dbp-primary-surface);\n            color: var(--dbp-on-primary-surface);\n            border-color: var(--dbp-primary-surface-border-color);\n        }\n\n        .notification.is-info {\n            background-color: var(--dbp-info-surface);\n            color: var(--dbp-on-info-surface);\n            border-color: var(--dbp-info-surface-border-color);\n        }\n\n        .notification.is-success {\n            background-color: var(--dbp-success-surface);\n            color: var(--dbp-on-success-surface);\n            border-color: var(--dbp-success-surface-border-color);\n        }\n\n        .notification.is-warning {\n            background-color: var(--dbp-warning-surface);\n            color: var(--dbp-on-warning-surface);\n            border-color: var(--dbp-warning-surface-border-color);\n        }\n\n        .notification.is-danger {\n            background-color: var(--dbp-danger-surface);\n            color: var(--dbp-on-danger-surface);\n            border-color: var(--dbp-danger-surface-border-color);\n        }\n\n        .progress-container {\n            width: 100%;\n            margin-top: .5rem;\n        }\n\n        progress[value] {\n            -webkit-appearance:none;\n            -moz-appearance:none;\n            appearance: none;\n            border: none;\n            height: 10px;\n        }\n\n        .progress {\n            height: 10px;\n            animation: runProgress var(--dbp-progress-timeout, 5s) linear forwards 0.25s;\n        }\n\n        @keyframes runProgress {\n            0% {\n                width: 0%;\n                background: rgba(255, 255, 255, 0.3);\n            }\n\n            100% {\n                width: 100%;\n                background: rgba(255, 255, 255, 1);\n            }\n        }\n\n        .enter-animation {\n            animation: slide-up 0.4s cubic-bezier(.25,0,.3,1);\n        }\n\n        @keyframes slide-up {\n            0% {\n                transform: translateY(50%);\n                opacity: 0.3;\n            }\n            75% {\n                transform: translateY(10%);\n                opacity: 0.75;\n            }\n            100% {\n                transform: translateY(0);\n                opacity: 1;\n            }\n        }\n\n        @keyframes scale-up {\n            0% {\n                transform: scale(0.75);\n                opacity: 0.3;\n            }\n            75% {\n                transform: scale(0.9);\n                opacity: 0.75;\n            }\n            100% {\n                transform: scale(1);\n                opacity: 1;\n            }\n        }\n\n        .is-removing {\n            /*animation: fadeOut 0.25s forwards;*/\n            animation: scale-down 2s ease-out; /*cubic-bezier(.25,0,.3,1);*/\n        }\n\n        @keyframes scale-down {\n            0% {\n                transform: scale(1);\n                opacity: 1;\n            }\n            50% {\n                transform: scale(0.9);\n                opacity: 0.5;\n            }\n            100% {\n                transform: scale(0.75);\n                opacity: 0.15;\n            }\n        }\n\n        @keyframes fadeOut {\n            from {\n                opacity: 1;\n            }\n            to {\n                opacity: 0;\n                transform: translateY(-100%);\n            }\n        }\n    `;\n}\n\nexport function getButtonCSS() {\n    // language=css\n    return css`\n        button.button,\n        .button,\n        button.dt-button {\n            border: var(--dbp-border);\n            border-radius: var(--dbp-border-radius);\n            color: var(--dbp-content);\n            cursor: pointer;\n            justify-content: center;\n            padding-bottom: calc(0.375em - 1px);\n            padding-left: 0.75em;\n            padding-right: 0.75em;\n            padding-top: calc(0.375em - 1px);\n            text-align: center;\n            white-space: nowrap;\n            font-size: inherit;\n            font-weight: bolder;\n            font-family: inherit;\n            transition: all 0.15s ease 0s, color 0.15s ease 0s;\n            background: var(--dbp-secondary-surface);\n            color: var(--dbp-on-secondary-surface);\n            border-color: var(--dbp-secondary-surface-border-color);\n        }\n\n        button.button:hover:enabled,\n        .button:hover:enabled,\n        button.dt-button:hover:enabled,\n        button.dt-button:hover:not(.disabled) {\n            color: var(--dbp-hover-color, var(--dbp-on-secondary-surface));\n            background-color: var(--dbp-hover-background-color, var(--dbp-secondary-surface));\n            border-color: var(--dbp-hover-background-color, var(--dbp-secondary-surface-border-color));\n        }\n\n        button.button.is-small,\n        .button.is-small {\n            border-radius: calc(var(--dbp-border-radius) / 2);\n            font-size: 0.75rem;\n        }\n\n        button.button.is-icon, .button.is-icon {\n            border: none;\n            background: none;\n            padding: 0px;\n            width: 40px;\n            height: 40px;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            color: currentColor;\n        }\n\n        button.button.is-icon dbp-icon, .button.is-icon dbp-icon, dbp-button-icon{\n            top: 0px;\n            font-size: 1.2em;\n        }\n\n        button.button.is-icon:hover:enabled,\n        .button.is-icon:hover:enabled {\n            background-color: var(--dbp-hover-background-color, unset);\n            color: var(--dbp-hover-color, currentColor);\n            border: 0 none;\n        }\n\n        button.button.is-primary,\n        .button.is-primary {\n            background-color: var(--dbp-primary-surface);\n            border-color: var(--dbp-primary-surface-border-color);\n            color: var(--dbp-on-primary-surface);\n        }\n\n        button.button.is-primary:hover:enabled,\n        .button.is-primary:hover:enabled {\n            background-color: var(--dbp-hover-background-color, var(--dbp-primary-surface));\n            color: var(--dbp-hover-color, var(--dbp-on-primary-surface));\n            border-color: var(--dbp-hover-background-color, var(--dbp-primary-surface-border-color));\n        }\n\n        button.button.is-secondary,\n        .button.is-secondary {\n            background-color: var(--dbp-secondary-surface);\n            color: var(--dbp-on-secondary-surface);\n            border-color: var(--dbp-secondary-surface-border-color);\n        }\n\n        button.button.is-secondary:hover:enabled,\n        .button.is-secondary:hover:enabled {\n            background-color: var(--dbp-hover-background-color, var(--dbp-secondary-surface));\n            color: var(--dbp-hover-color, var(--dbp-on-secondary-surface));\n            border-color: var(--dbp-hover-background-color, var(--dbp-secondary-surface-border-color));\n        }\n\n        button.button.is-info,\n        .button.is-info {\n            background-color: var(--dbp-info-surface);\n            color: var(--dbp-on-info-surface);\n            border-color: var(--dbp-info-surface-border-color);\n        }\n\n        button.button.is-info:hover:enabled,\n        .button.is-info:hover:enabled {\n            background-color: var(--dbp-hover-background-color, var(--dbp-info-surface));\n            color: var(--dbp-hover-color, var(--dbp-on-info-surface));\n            border-color: var(--dbp-hover-background-color, var(--dbp-info-surface-border-color));\n        }\n\n        button.button.is-success,\n        .button.is-success {\n            background-color: var(--dbp-success-surface);\n            border-color: var(--dbp-success-surface-border-color);\n            color: var(--dbp-on-success-surface);\n        }\n\n        button.button.is-success:hover:enabled,\n        .button.is-success:hover:enabled {\n            background-color: var(--dbp-hover-background-color, var(--dbp-success-surface));\n            color: var(--dbp-hover-color, var(--dbp-on-success-surface));\n            border-color: var(--dbp-hover-background-color,var(--dbp-success-surface-border-color));\n        }\n\n        button.button.is-warning,\n        .button.is-warning {\n            background-color: var(--dbp-warning-surface);\n            border-color: var(--dbp-warning-surface-border-color);\n            color: var(--dbp-on-warning-surface);\n        }\n\n        button.button.is-warning:hover:enabled,\n        .button.is-warning:hover:enabled {\n            background-color: var(--dbp-hover-background-color, var(--dbp-warning-surface));\n            color: var(--dbp-hover-color, var(--dbp-on-warning-surface));\n            border-color: var(--dbp-hover-background-color, var(--dbp-warning-surface-border-color));\n        }\n\n        .button.button.is-danger,\n        .button.is-danger {\n            background-color: var(--dbp-danger-surface);\n            border-color: var(--dbp-danger-surface-border-color);\n            color: var(--dbp-on-danger-surface);\n        }\n\n        .button.button.is-danger:hover:enabled,\n        .button.is-danger:hover:enabled {\n            background-color: var(--dbp-hover-background-color, var(--dbp-danger-surface));\n            color: var(--dbp-hover-color, var(--dbp-on-danger-surface));\n            border-color: var(--dbp-hover-background-color, var(--dbp-danger-surface-border-color));\n        }\n\n        button.button[disabled],\n        .button[disabled],\n        fieldset[disabled] .button {\n            opacity: 0.4;\n            cursor: not-allowed;\n        }\n\n        button:focus-visible {\n            outline: none !important;\n            outline-width: 0 !important;\n            box-shadow: none;\n            -moz-box-shadow: none;\n            -webkit-box-shadow: none;\n            box-shadow: 0px 0px 3px 1px var(--dbp-primary);\n        }\n    `;\n}\n\nexport function getRadioAndCheckboxCss() {\n    // language=css\n    return css`\n        /*\n        Radiobutton:\n            <label class=\"button-container\">\n                Labeltext\n                <input type=\"radio\" name=\"myradiobutton\">\n                <span class=\"radiobutton\"></span>\n            </label>\n\n        Checkbox:\n            <label class=\"button-container\">\n                Labeltext\n                <input type=\"checkbox\" name=\"mycheckbox\">\n                <span class=\"checkmark\"></span>\n            </label>\n         */\n\n        .button-container {\n            display: block;\n            position: relative;\n            padding-left: 35px;\n            cursor: pointer;\n            -webkit-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n        }\n\n        .button-container input[type='radio'],\n        .button-container input[type='checkbox'] {\n            position: absolute;\n            opacity: 0;\n            cursor: pointer;\n            height: 0;\n            width: 0;\n            left: 0px;\n        }\n\n        .checkmark {\n            position: absolute;\n            top: 0;\n            left: 0;\n            height: 21px;\n            width: 21px;\n            background-color: var(--dbp-background);\n            border-radius: 0px;\n            border: var(--dbp-border);\n        }\n\n        .radiobutton {\n            position: absolute;\n            top: 0;\n            left: 0;\n            height: 19px;\n            width: 19px;\n            background-color: var(--dbp-background);\n            border: solid;\n            border-radius: 100%;\n            border: var(--dbp-border);\n\n            box-sizing: content-box;\n        }\n\n        .button-container input[type='radio']:checked ~ .radiobutton:after {\n            border-color: var(--dbp-background);\n        }\n\n        .button-container input[type='radio']:disabled ~ .radiobutton {\n            border-color: var(--dbp-muted);\n            background-color: var(--dbp-muted);\n        }\n\n        .button-container input[type='radio']:checked:disabled ~ .radiobutton:after {\n            border-color: var(--dbp-muted);\n            background-color: var(--dbp-muted);\n        }\n\n        .radiobutton:after {\n            content: '';\n            position: absolute;\n            display: none;\n        }\n\n        .button-container input[type='radio']:checked ~ .radiobutton:after {\n            display: block;\n        }\n\n        .button-container .radiobutton:after {\n            left: 0px;\n            top: 0px;\n            width: 100%;\n            height: 100%;\n            background-color: var(--dbp-content);\n            border: none;\n            border-radius: 100%;\n            border: 2px solid var(--dbp-background);\n            box-sizing: border-box;\n        }\n\n        .button-container input[type='checkbox']:checked ~ .checkmark:after {\n            border-bottom: 1px solid var(--dbp-content);\n            border-right: 1px solid var(--dbp-content);\n            border-width: 0 2px 2px 0;\n        }\n\n        .button-container input[type='checkbox']:focus-visible ~ .checkmark {\n            outline: none !important;\n            outline-width: 0 !important;\n            box-shadow: none;\n            -moz-box-shadow: none;\n            -webkit-box-shadow: none;\n            box-shadow: 0px 0px 3px 1px var(--dbp-primary);\n        }\n\n        .button-container input[type='checkbox']:disabled ~ .checkmark {\n            border-color: var(--dbp-muted);\n            background-color: var(--dbp-muted);\n        }\n\n        .button-container input[type='checkbox']:checked:disabled ~ .checkmark:after {\n            border-color: var(--dbp-muted);\n        }\n\n        .checkmark:after {\n            content: '';\n            position: absolute;\n            display: none;\n        }\n\n        .button-container input[type='checkbox']:checked ~ .checkmark:after {\n            display: block;\n        }\n\n        .button-container .checkmark:after {\n            left: 8px;\n            top: 3px;\n            width: 5px;\n            height: 11px;\n            border: 1px solid var(--dbp-content);\n            border-width: 0 2px 2px 0;\n            -webkit-transform: rotate(45deg);\n            -ms-transform: rotate(45deg);\n            transform: rotate(45deg);\n        }\n\n        @media only screen and (orientation: portrait) and (max-width: 768px) {\n            .checkmark {\n                width: 30px;\n                height: 30px;\n                top: 5px;\n            }\n\n            .button-container{\n                line-height: 40px;\n            }\n\n            .button-container {\n                padding-left: 40px;\n            }\n\n            .button-container .checkmark::after {\n                left: 10px;\n                width: 10px;\n                height: 19px;\n            }\n\n            .button-container input[type=\"checkbox\"]:checked ~ .checkmark::after{\n                top: 1px;\n                left: 6px;\n                width: 5px;\n                height: 11px;\n            }\n\n            .button-container{\n                line-height: 1em;\n            }\n        }\n    `;\n}\n\nexport function getTagCSS() {\n    // language=css\n    return css`\n        .tags {\n            align-items: center;\n            display: flex;\n            flex-wrap: nowrap;\n            justify-content: flex-start;\n        }\n\n        .tags .tag {\n            margin-bottom: 0.5rem;\n        }\n\n        .tags .tag:not(:last-child) {\n            margin-right: 0.5rem;\n        }\n\n        .tags:last-child {\n            margin-bottom: -0.5rem;\n        }\n\n        .tags:not(:last-child) {\n            margin-bottom: 1rem;\n        }\n\n        .tags.are-medium .tag:not(.is-normal):not(.is-large) {\n            font-size: 1rem;\n        }\n\n        .tags.are-large .tag:not(.is-normal):not(.is-medium) {\n            font-size: 1.25rem;\n        }\n\n        .tags.is-centered {\n            justify-content: center;\n        }\n\n        .tags.is-centered .tag {\n            margin-right: 0.25rem;\n            margin-left: 0.25rem;\n        }\n\n        .tags.is-right {\n            justify-content: flex-end;\n        }\n\n        .tags.is-right .tag:not(:first-child) {\n            margin-left: 0.5rem;\n        }\n\n        .tags.is-right .tag:not(:last-child) {\n            margin-right: 0;\n        }\n\n        .tags.has-addons .tag {\n            margin-right: 0;\n        }\n\n        .tags.has-addons .tag:not(:first-child) {\n            margin-left: 0;\n            border-bottom-left-radius: 0;\n            border-top-left-radius: 0;\n        }\n\n        .tags.has-addons .tag:not(:last-child) {\n            border-bottom-right-radius: 0;\n            border-top-right-radius: 0;\n        }\n\n        .tag:not(body) {\n            align-items: center;\n            background-color: var(--dbp-muted);\n            border-radius: var(--dbp-border-radius);\n            color: var(--dbp-muted);\n            display: inline-flex;\n            font-size: 0.75rem;\n            height: 2em;\n            justify-content: center;\n            line-height: 1.5;\n            padding-left: 0.75em;\n            padding-right: 0.75em;\n            white-space: nowrap;\n        }\n\n        .tag:not(body) .delete {\n            margin-left: 0.25rem;\n            margin-right: -0.375rem;\n        }\n\n        .tag:not(body).is-dark {\n            background-color: var(--dbp-content-surface);\n            color: var(--dbp-on-content-surface);\n        }\n\n        .tag:not(body).is-light {\n            background-color: var(--dbp-background);\n            color: var(--dbp-content);\n        }\n\n        .tag:not(body).is-normal {\n            font-size: 0.75rem;\n        }\n\n        .tag:not(body).is-medium {\n            font-size: 1rem;\n        }\n\n        .tag:not(body).is-large {\n            font-size: 1.25rem;\n        }\n\n        .tag:not(body) .icon:first-child:not(:last-child) {\n            margin-left: -0.375em;\n            margin-right: 0.1875em;\n        }\n\n        .tag:not(body) .icon:last-child:not(:first-child) {\n            margin-left: 0.1875em;\n            margin-right: -0.375em;\n        }\n\n        .tag:not(body) .icon:first-child:last-child {\n            margin-left: -0.375em;\n            margin-right: -0.375em;\n        }\n\n        .tag:not(body).is-delete {\n            margin-left: 1px;\n            padding: 0;\n            position: relative;\n            width: 2em;\n        }\n\n        .tag:not(body).is-delete::before,\n        .tag:not(body).is-delete::after {\n            background-color: currentColor;\n            content: '';\n            display: block;\n            left: 50%;\n            position: absolute;\n            top: 50%;\n            -webkit-transform: translateX(-50%) translateY(-50%) rotate(45deg);\n            transform: translateX(-50%) translateY(-50%) rotate(45deg);\n            -webkit-transform-origin: center center;\n            transform-origin: center center;\n        }\n\n        .tag:not(body).is-delete::before {\n            height: 1px;\n            width: 50%;\n        }\n\n        .tag:not(body).is-delete::after {\n            height: 50%;\n            width: 1px;\n        }\n\n        .tag:not(body).is-delete:hover,\n        .tag:not(body).is-delete:focus {\n            background-color: var(--dbp-background);\n        }\n\n        .tag:not(body).is-delete:active {\n            background-color: var(--dbp-background);\n        }\n\n        .tag:not(body).is-rounded {\n            border-radius: 290486px;\n        }\n\n        a.tag:hover {\n            text-decoration: underline;\n        }\n    `;\n}\n\nexport function getDocumentationCSS() {\n    // language=css\n    return css`\n        .documentation h1,\n        .documentation h2,\n        .documentation h3 {\n            margin: 1em 0 0.8em 0;\n        }\n\n        .documentation p {\n            margin: 1em 0;\n        }\n\n        .documentation a {\n            border-bottom: 1px solid var(--dbp-muted-text-dark);\n            transition: background-color 0.15s, color 0.15s;\n        }\n\n        .documentation a:hover {\n            color: var(--dbp-hover-color, var(--dbp-content));\n            background-color: var(--dbp-hover-background-color);\n        }\n\n        .documentation ul,\n        .documentation ol,\n        .documentation li {\n            margin: inherit;\n            padding: inherit;\n        }\n\n        .documentation li > ul {\n            margin-left: 0.5em;\n        }\n    `;\n}\n\nexport function getSelect2CSS() {\n    // language=css\n    return css`\n        .select2-dropdown {\n            border-radius: var(--dbp-border-radius);\n        }\n\n        .select2-container--default .select2-selection--single {\n            border-radius: var(--dbp-border-radius);\n        }\n\n        .select2-container--default .select2-selection--single .select2-selection__rendered {\n            color: inherit;\n        }\n\n        .select2-container--default .select2-selection--single .select2-selection__clear {\n            font-size: 1.5em;\n            font-weight: 300;\n        }\n\n        .select2-container--default .select2-selection--single .select2-selection__placeholder {\n            color: var(--dbp-muted);\n        }\n\n        /* Work around single selections not wrapping and breaking responsivness */\n        .select2-container--default .select2-selection--single {\n            height: 100% !important;\n        }\n        .select2-container--default .select2-selection__rendered {\n            word-wrap: break-word !important;\n            text-overflow: inherit !important;\n            white-space: normal !important;\n        }\n\n        .select2-dropdown{\n            background-color: var(--dbp-background);\n        }\n\n        .select2-container--default .select2-selection--single, .select2-dropdown, .select2-container--default .select2-search--dropdown .select2-search__field {\n            background: var(--dbp-background);\n            color: var(--dbp-content);\n            border: var(--dbp-border);\n            border-color: var(--dbp-muted);\n        }\n    `;\n}\n\nexport function getModalDialogCSS() {\n    // language=css\n    return css`\n        /**************************\\\\\n          Modal Styles\n        \\\\**************************/\n\n        .modal-overlay {\n            position: fixed;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            z-index: 10000;\n        }\n\n        .modal-overlay::before {\n            content: '';\n            width: 100%;\n            height: 100%;\n            position: absolute;\n            left: 0;\n            background-color: var(--dbp-content-surface);\n            opacity: 0.6;\n        }\n\n        .modal-container {\n            background-color: var(--dbp-background);\n            max-width: 600px;\n            max-height: 100vh;\n            min-width: 60%;\n            min-height: 50%;\n            overflow-y: auto;\n            box-sizing: border-box;\n            display: grid;\n            height: 70%;\n            width: 70%;\n            position: relative;\n            border-radius: var(--dbp-border-radius);\n        }\n\n        .modal-close {\n            background: transparent;\n            border: none;\n            font-size: 1.5rem;\n            color: var(--dbp-accent);\n            cursor: pointer;\n            padding: 0px;\n        }\n\n        .modal-close .close-icon svg,\n        .close-icon {\n            pointer-events: none;\n        }\n\n        button.modal-close:focus {\n            outline: none;\n        }\n\n        /**************************\\\\\n          Modal Animation Style\n        \\\\**************************/\n        @keyframes mmfadeIn {\n            from {\n                opacity: 0;\n            }\n            to {\n                opacity: 1;\n            }\n        }\n\n        @keyframes mmfadeOut {\n            from {\n                opacity: 1;\n            }\n            to {\n                opacity: 0;\n            }\n        }\n\n        @keyframes mmslideIn {\n            from {\n                transform: translateY(15%);\n            }\n            to {\n                transform: translateY(0);\n            }\n        }\n\n        @keyframes mmslideOut {\n            from {\n                transform: translateY(0);\n            }\n            to {\n                transform: translateY(-10%);\n            }\n        }\n\n        .micromodal-slide {\n            display: none;\n        }\n\n        .micromodal-slide.is-open {\n            display: block;\n        }\n\n        .micromodal-slide[aria-hidden='false'] .modal-overlay {\n            animation: mmfadeIn 0.3s cubic-bezier(0, 0, 0.2, 1);\n        }\n\n        .micromodal-slide[aria-hidden='false'] .modal-container {\n            animation: mmslideIn 0.3s cubic-bezier(0, 0, 0.2, 1);\n        }\n\n        .micromodal-slide[aria-hidden='true'] .modal-overlay {\n            animation: mmfadeOut 0.3s cubic-bezier(0, 0, 0.2, 1);\n        }\n\n        .micromodal-slide[aria-hidden='true'] .modal-container {\n            animation: mmslideOut 0.3s cubic-bezier(0, 0, 0.2, 1);\n        }\n\n        .micromodal-slide .modal-container,\n        .micromodal-slide .modal-overlay {\n            will-change: transform;\n        }\n\n        @media only screen and (orientation: landscape) and (max-width: 768px) {\n            .modal-container {\n                width: 100%;\n                height: 100%;\n                max-width: 100%;\n            }\n\n            .micromodal-slide .modal-container {\n                height: 100%;\n                width: 100%;\n            }\n\n\n        }\n\n        @media only screen and (max-width: 768px) {\n            .modal-close {\n                width: 40px;\n                height: 40px;\n            }\n        }\n    `;\n}\n\nexport function getNativeModalDialogCSS() {\n    // language=css\n    return css`\n        :host {\n            font-size: var(--dbp-modal--font-size, 1rem);\n            --dbp-modal-animation: mmFadeIn;\n        }\n\n        dialog:not([open]) {\n            pointer-events: none;\n            opacity: 0;\n        }\n\n        dialog[open] {\n            animation-name: var(--dbp-modal-animation);\n            animation-duration: 0.5s;\n            animation-fill-mode: forwards;\n        }\n\n        dialog {\n            min-width: var(--dbp-modal-min-width, 320px);\n            max-width: var(--dbp-modal-max-width, 75vw);\n            min-height: var(--dbp-modal-min-height, 200px);\n            max-height: var(--dbp-modal-max-height, 90vh);\n\n            overflow: hidden;\n            padding: var(--dbp-modal-padding-top, 15px) 20px 20px;\n            border: 0 none;\n            color: var(--dbp-content);\n            background-color: var(--dbp-background);\n            filter: drop-shadow(rgba(0, 0, 0, 0.3) 2px 4px 8px)\n                drop-shadow(rgba(0, 0, 0, 0.2) 4px 8px 16px)\n                drop-shadow(rgba(0, 0, 0, 0.1) 8px 16px 32px);\n\n            transition: height 5s ease-in-out;\n            transform: translateY(var(--dbp-modal-translate-y, 0));\n        }\n\n        .modal-container {\n            display: grid;\n            grid-template-columns: 1fr;\n            grid-template-rows: auto 1fr auto;\n            align-items: start;\n            min-height: var(--dbp-modal-min-height);\n            max-height: var(--dbp-modal-max-height, 90vh);\n        }\n\n        .modal-header {\n            height: var(--dbp-modal-header-height);\n        }\n\n        .modal-content {\n            position: relative;\n            overflow-y: auto;\n            max-height: 100%;\n            min-height: 100%;\n            height: 100%;\n        }\n\n        .modal-footer {\n            height: var(--dbp-modal-footer-height);\n        }\n\n        .header-top {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            padding: 0;\n            margin-bottom: 1em;\n        }\n\n        .modal-close {\n            background: transparent;\n            border: none;\n            font-size: 1.5rem;\n            color: var(--dbp-accent);\n            cursor: pointer;\n            padding: 0px;\n        }\n\n        .modal-close .close-icon svg,\n        .modal-close .close-icon {\n            pointer-events: none;\n        }\n\n        button.modal-close:focus {\n            filter: drop-shadow(rgba(255, 255, 255, 0.5), 1px 2px 4px);\n        }\n\n        .modal-title {\n            margin: 0;\n            padding: 0.25em 0 0 0;\n            font-weight: 300;\n        }\n\n        ::slotted([slot='header']) {\n        }\n\n        ::slotted([slot='footer']) {\n        }\n\n        ::backdrop {\n            backdrop-filter: blur(5px);\n            transition: backdrop-filter 0.5s ease;\n            background: color-mix(in srgb, var(--dbp-background-color) 60%, transparent);\n        }\n\n        dialog + .backdrop {\n            /* polyfill */\n            backdrop-filter: blur(5px);\n            transition: backdrop-filter 0.5s ease;\n            background: color-mix(in srgb, var(--dbp-background-color) 60%, transparent);\n        }\n\n        @media only screen and (max-width: 490px) {\n            dialog {\n                max-width: none;\n            }\n        }\n\n        /**************************\\\\\n          Modal Animation Style\n        \\\\**************************/\n        @keyframes mmFadeIn {\n            from {\n                opacity: 0;\n            }\n            to {\n                opacity: 1;\n            }\n        }\n\n        @keyframes mmFadeOut {\n            from {\n                opacity: 1;\n            }\n            to {\n                opacity: 0;\n            }\n        }\n\n        @keyframes mmSlideIn {\n            from {\n                transform: translateY(15%);\n            }\n            to {\n                transform: translateY(0);\n            }\n        }\n\n        @keyframes mmSlideOut {\n            from {\n                transform: translateY(0);\n            }\n            to {\n                transform: translateY(-10%);\n            }\n        }\n    `;\n}\n\nexport function getTextUtilities() {\n    // language=css\n    return css`\n        .text-left {\n            text-align: left;\n        }\n\n        .text-center {\n            text-align: center;\n        }\n\n        .text-right {\n            text-align: right;\n        }\n\n        .text-lowercase {\n            text-transform: lowercase;\n        }\n\n        .text-uppercase {\n            text-transform: uppercase;\n        }\n\n        .text-capitalize {\n            text-transform: capitalize;\n        }\n    `;\n}\n\nexport function getActivityCSS() {\n    // language=css\n    return css`\n        h2:first-child {\n            margin-top: 0;\n            margin-bottom: 0px;\n        }\n\n        .subheadline {\n            font-style: italic;\n            padding-left: 2em;\n            margin-top: -1px;\n            /*line-height: 1.8;*/\n            margin-bottom: 1.2em;\n        }\n    `;\n}\n\nexport function getLinkCss() {\n    // language=css\n    return css`\n        .int-link-external,\n        .int-link-internal,\n        .link,\n        .link-without-hover {\n            border-bottom: var(--dbp-border);\n            border-color: var(--dbp-content);\n        }\n\n        .int-link-external:hover,\n        .int-link-internal:hover,\n        .link:hover {\n            color: var(--dbp-hover-color, var(--dbp-content));\n            border-color: var(--dbp-hover-color, var(--dbp-content));\n            background-color: var(--dbp-hover-background-color);\n        }\n\n        .int-link-external:after,\n        .int-link-internal:after,\n        .link:after,\n        .link-without-hover:after {\n            content: '\\\\00a0\\\\00a0\\\\00a0';\n            background-color: var(--dbp-content);\n            -webkit-mask-image: url('data:image/svg+xml;charset=utf-8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%0A%3Csvg%20version%3D%221.1%22%20id%3D%22Ebene_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%0A%09%20viewBox%3D%220%200%2022.7%2062.4%22%20style%3D%22enable-background%3Anew%200%200%2022.7%2062.4%3B%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cg%20transform%3D%22translate%28-382.21%20-336.98%29%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20d%3D%22M386.9%2C380.5c-0.2%2C0-0.4-0.1-0.6-0.3c-0.3-0.3-0.3-0.8%2C0.1-1.1l12.5-10.9l-12.5-10.9c-0.3-0.3-0.4-0.8-0.1-1.1%0A%09%09%09c0.3-0.3%2C0.8-0.4%2C1.1-0.1l13.1%2C11.5c0.2%2C0.2%2C0.3%2C0.4%2C0.3%2C0.6s-0.1%2C0.5-0.3%2C0.6l-13.1%2C11.5C387.3%2C380.4%2C387.1%2C380.5%2C386.9%2C380.5z%22%0A%09%09%09%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A');\n            mask-image: url('data:image/svg+xml;charset=utf-8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%0A%3Csvg%20version%3D%221.1%22%20id%3D%22Ebene_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%0A%09%20viewBox%3D%220%200%2022.7%2062.4%22%20style%3D%22enable-background%3Anew%200%200%2022.7%2062.4%3B%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cg%20transform%3D%22translate%28-382.21%20-336.98%29%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20d%3D%22M386.9%2C380.5c-0.2%2C0-0.4-0.1-0.6-0.3c-0.3-0.3-0.3-0.8%2C0.1-1.1l12.5-10.9l-12.5-10.9c-0.3-0.3-0.4-0.8-0.1-1.1%0A%09%09%09c0.3-0.3%2C0.8-0.4%2C1.1-0.1l13.1%2C11.5c0.2%2C0.2%2C0.3%2C0.4%2C0.3%2C0.6s-0.1%2C0.5-0.3%2C0.6l-13.1%2C11.5C387.3%2C380.4%2C387.1%2C380.5%2C386.9%2C380.5z%22%0A%09%09%09%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A');\n            -webkit-mask-repeat: no-repeat;\n            mask-repeat: no-repeat;\n            -webkit-mask-position: center -2px;\n            mask-position: center center;\n            margin: 0 0 0 4px;\n            padding: 0 0 0.25% 0;\n            -webkit-mask-size: 100%;\n            mask-size: 120%;\n        }\n\n        .int-link-external:hover::after,\n        .int-link-internal:hover::after,\n        .link:hover::after {\n            background-color: var(--dbp-hover-color, var(--dbp-content));\n        }\n    `;\n}\n","import {html, LitElement, css} from 'lit';\nimport {ScopedElementsMixin} from '@open-wc/scoped-elements';\nimport {ifDefined} from 'lit/directives/if-defined.js';\nimport {MiniSpinner} from './mini-spinner.js';\nimport * as commonStyles from '../styles.js';\n\nclass DbpButton extends ScopedElementsMixin(LitElement) {\n    constructor() {\n        super();\n        this.value = '';\n        this.type = '';\n        this.loading = false;\n        this.disabled = false;\n\n        // https://bugs.chromium.org/p/chromium/issues/detail?id=1061240#c12\n        this.addEventListener('click', (e) => {\n            if (this.disabled) {\n                e.stopImmediatePropagation();\n            }\n        });\n    }\n\n    static get scopedElements() {\n        return {\n            'dbp-mini-spinner': MiniSpinner,\n        };\n    }\n\n    static get properties() {\n        return {\n            // value is deprecated, use the main slot instead\n            value: {type: String},\n            type: {type: String},\n            loading: {type: Boolean},\n            disabled: {type: Boolean, reflect: true},\n        };\n    }\n\n    start() {\n        this.loading = true;\n        this.disabled = true;\n    }\n\n    stop() {\n        this.loading = false;\n        this.disabled = false;\n    }\n\n    isDisabled() {\n        return this.disabled;\n    }\n}\n\n/**\n * dbp-button implements a button with Bulma styles and automatic spinner and\n * disabling if button is clicked\n *\n * Use the attribute \"no-spinner-on-click\" to disable the spinner, then you can\n * start it with start() and stop it with stop()\n *\n * Type can be is-primary/is-secondary/is-info/is-success/is-warning/is-danger\n */\nexport class Button extends DbpButton {\n    constructor() {\n        super();\n        this.spinner = false;\n        this.noSpinnerOnClick = false;\n\n        // https://bugs.chromium.org/p/chromium/issues/detail?id=1061240#c12\n        this.addEventListener('click', (e) => {\n            if (!this.noSpinnerOnClick) {\n                this.start();\n            }\n        });\n    }\n\n    connectedCallback() {\n        super.connectedCallback();\n    }\n\n    static get properties() {\n        return {\n            ...super.properties,\n            spinner: {type: Boolean},\n            noSpinnerOnClick: {type: Boolean, attribute: 'no-spinner-on-click'},\n        };\n    }\n\n    static get styles() {\n        // language=css\n        return css`\n            ${commonStyles.getThemeCSS()}\n            ${commonStyles.getButtonCSS()}\n\n            .spinner {\n                margin-left: 0.5em;\n            }\n\n            ::slotted(dbp-icon) {\n                transition: transform .25s ease-in-out;\n            }\n\n            button:hover ::slotted(dbp-icon){\n                transform: var(--icon-transform);\n            }\n        `;\n    }\n\n    render() {\n        return html`\n            <button\n                class=\"button ${this.type}\"\n                ?disabled=\"${this.disabled}\">\n                <slot>${this.value}</slot>\n                <dbp-mini-spinner\n                    class=\"spinner\"\n                    style=\"display: ${this.spinner ? 'inline' : 'none'}\"></dbp-mini-spinner>\n            </button>\n        `;\n    }\n}\n\nexport class LoadingButton extends DbpButton {\n    constructor() {\n        super();\n    }\n\n    static get styles() {\n        // language=css\n        return css`\n            ${commonStyles.getThemeCSS()}\n            ${commonStyles.getButtonCSS()}\n\n            .spinner {\n                padding-left: 0.5em;\n                min-width: 16px;\n            }\n\n            .loading-container {\n                display: flex;\n                align-items: baseline;\n            }\n\n            .label {\n                white-space: nowrap;\n                overflow: hidden;\n                text-overflow: ellipsis;\n            }\n\n            :host {\n                display: inline-block;\n            }\n\n            .is-not-loading .label {\n                padding-left: 12px;\n                padding-right: 12px;\n            }\n\n            .button {\n                width: 100%;\n            }\n\n            ::slotted(dbp-icon) {\n                transition: transform .25s ease-in-out;\n            }\n\n            button:hover ::slotted(dbp-icon){\n                transform: var(--icon-transform);\n            }\n\n            @media only screen and (orientation: portrait) and (max-width: 768px) {\n                .button {\n                    min-height: 36px;\n                }\n\n                .label {\n                    margin: auto;\n                }\n            }\n        `;\n    }\n\n    render() {\n        return html`\n            <button\n                class=\"button ${this.type} loading-container ${!this.loading\n                    ? 'is-not-loading'\n                    : ''}\"\n                ?disabled=\"${this.disabled}\">\n                <div class=\"label\"><slot>${this.value}</slot></div>\n                <dbp-mini-spinner\n                    class=\"spinner\"\n                    style=\"display: ${this.loading ? 'inline' : 'none'}\"></dbp-mini-spinner>\n            </button>\n        `;\n    }\n}\n\nexport class IconButton extends ScopedElementsMixin(LitElement) {\n    constructor() {\n        super();\n        this.iconName = '';\n        this.disabled = false;\n        this.loading = false;\n        this.ariaLabel = undefined;\n    }\n\n    static get properties() {\n        return {\n            ...super.properties,\n            iconName: {type: String, attribute: 'icon-name'},\n            ariaLabel: {type: String, attribute: 'aria-label', reflect: true},\n            disabled: {type: Boolean, reflect: true},\n            loading: {type: Boolean},\n        };\n    }\n\n    start() {\n        this.loading = true;\n        this.disabled = true;\n    }\n\n    stop() {\n        this.loading = false;\n        this.disabled = false;\n    }\n\n    static get styles() {\n        // language=css\n        return css`\n            ${commonStyles.getThemeCSS()}\n            ${commonStyles.getButtonCSS()}\n\n            :host{\n                display: inline-block;\n                font-size: 1.2rem;\n            }\n\n            .spinner {\n                padding-left: 0.5em;\n                min-width: 16px;\n            }\n\n            .loading-container {\n                display: flex;\n                align-items: baseline;\n            }\n\n            .label {\n                white-space: nowrap;\n                overflow: hidden;\n                text-overflow: ellipsis;\n            }\n\n            .button {\n                width: 100%;\n            }\n\n            ::slotted(dbp-icon) {\n                transition: transform .25s ease-in-out;\n            }\n\n            button:hover ::slotted(dbp-icon){\n                transform: var(--icon-transform);\n            }\n\n            @media only screen and (orientation: portrait) and (max-width: 768px) {\n                .button {\n                    min-height: 36px;\n                }\n\n                .label {\n                    margin: auto;\n                }\n            }\n        `;\n    }\n\n    render() {\n        return html`\n            <button\n                class=\"button is-icon loading-container ${!this.loading ? 'is-not-loading': ''}\"\n                ?disabled=\"${this.disabled}\"\n                aria-label=\"${ifDefined(this.ariaLabel ? this.ariaLabel : undefined)}\">\n                <slot><dbp-icon\n                        class=\"dbp-button-icon\"\n                        name=\"${this.iconName}\"\n                        aria-hidden=\"true\"\n                        style=\"display: ${this.loading ? 'none' : 'inline'}\"></dbp-icon></slot>\n                <dbp-mini-spinner\n                    class=\"spinner\"\n                    aria-hidden=\"true\"\n                    style=\"display: ${this.loading ? 'inline' : 'none'}\"></dbp-mini-spinner>\n            </button>\n        `;\n    }\n}\n","class LoggerType {\n    get debug() {\n        if (window.location.hash.includes('debug')) {\n            return console.debug;\n        } else {\n            return () => {};\n        }\n    }\n}\n\nexport const Logger = new LoggerType();\n","import {LitElement} from 'lit';\nimport {Logger} from './logger';\n\nexport class AdapterLitElement extends LitElement {\n    constructor() {\n        super();\n        this.connected = false;\n        this.deferSubscribe = false;\n        this.deferUnSubscribe = false;\n        // attributes (if they exist) will be updated if a property is changed by \"subscribe\"\n        this.reflectAttribute = true;\n\n        // default values\n        this.subscribe = '';\n        this.unsubscribe = '';\n\n        this.callbackStore = [];\n\n        // Previously we used direct properties like this[\"lang\"] (instead of this.propertyStore[\"lang\"]) for storing the\n        // properties, but the \"lang\" property seems to be updated before the event from the MutationObserver, so we\n        // cannot observe a value change directly (as workaround we use another property (e.g. \"langValue\") instead of \"lang\")\n        this.propertyStore = {};\n\n        // We need to store our own \"last values\" because we cannot be sure what the MutationObserver detects\n        this.lastProperties = {};\n\n        Logger.debug('AdapterLitElement(' + this.tagName + ') constructor()');\n    }\n\n    getProperty(name) {\n        return this.propertyStore[name];\n    }\n\n    getPropertyByAttributeName(name) {\n        return this[this.findPropertyName(name)];\n    }\n\n    setPropertyByAttributeName(name, value) {\n        this[this.findPropertyName(name)] = value;\n    }\n\n    setProperty(name, value) {\n        // TODO: check if lit attribute really present?\n        if (typeof value === 'object' && value !== null) {\n            // Logger.debug(\"value is object\", value);\n            this.setPropertyByAttributeName(name, value);\n        } else {\n            this.attributeChangedCallback(name, this.getPropertyByAttributeName(name), value);\n        }\n\n        this.lastProperties[name] = value;\n        this.propertyStore[name] = value;\n    }\n\n    hasPropertyChanged(name, value) {\n        return this.lastProperties[name] !== value;\n    }\n\n    hasProperty(name) {\n        // return this.hasAttribute(\"name\")\n        return Object.hasOwnProperty.call(this.propertyStore, name);\n    }\n\n    connectedCallback() {\n        super.connectedCallback();\n\n        if (this.deferUnSubscribe) {\n            const attrs = this.unsubscribe.split(',');\n            attrs.forEach((element) => this.unSubscribeProviderFor(element));\n            this.deferSubscribe = false;\n            this.unsubscribe = '';\n        }\n\n        if (this.deferSubscribe) {\n            const attrs = this.subscribe.split(',');\n            attrs.forEach((element) => this.subscribeProviderFor(element));\n            this.deferSubscribe = false;\n        }\n\n        this.connected = true;\n\n        const that = this;\n\n        this.addEventListener(\n            'dbp-subscribe',\n            function (e) {\n                const name = e.detail.name;\n                if (that.hasProperty(name) || that.providerRoot) {\n                    Logger.debug(\n                        'AdapterLitElementProvider(' +\n                            that.tagName +\n                            ') eventListener(\"dbp-subscribe\",..) name \"' +\n                            name +\n                            '\" found.'\n                    );\n                    that.callbackStore.push({\n                        name: name,\n                        callback: e.detail.callback,\n                        sender: e.detail.sender,\n                    });\n\n                    e.detail.callback(that.getProperty(name));\n                    e.stopPropagation();\n                }\n            },\n            false\n        );\n\n        this.addEventListener(\n            'dbp-unsubscribe',\n            function (e) {\n                const name = e.detail.name;\n                const sender = e.detail.sender;\n                if (that.hasProperty(name) || that.providerRoot) {\n                    Logger.debug(\n                        'AdapterLitElementProvider(' +\n                            that.tagName +\n                            ') eventListener(\"dbp-unsubscribe\",..) name \"' +\n                            name +\n                            '\" found.'\n                    );\n                    that.callbackStore.forEach((item) => {\n                        if (item.sender === sender && item.name === name) {\n                            const index = that.callbackStore.indexOf(item);\n                            that.callbackStore.splice(index, 1);\n                            Logger.debug(\n                                'AdapterLitElementProvider(' +\n                                    that.tagName +\n                                    ') eventListener for name \"' +\n                                    name +\n                                    '\" removed.'\n                            );\n                        }\n                    });\n\n                    e.stopPropagation();\n                }\n            },\n            false\n        );\n\n        // listen to property changes\n        this.addEventListener(\n            'dbp-set-property',\n            function (e) {\n                const name = e.detail.name;\n                const value = e.detail.value;\n\n                if (that.hasProperty(name) || that.providerRoot) {\n                    Logger.debug(\n                        'AdapterLitElementProvider(' +\n                            that.tagName +\n                            ') eventListener(\"dbp-set-property\",..) name \"' +\n                            name +\n                            '\" found.'\n                    );\n                    that.setProperty(name, value);\n\n                    that.callbackStore.forEach((item) => {\n                        if (item.name === name) {\n                            item.callback(value);\n                        }\n                    });\n\n                    e.stopPropagation();\n                }\n            },\n            false\n        );\n\n        // Options for the observer (which mutations to observe)\n        const config = {attributes: true, childList: false, subtree: false};\n\n        // Callback function to execute when mutations are observed\n        const callback = function (mutationsList, observer) {\n            // Use traditional 'for loops' for IE 11\n            for (const mutation of mutationsList) {\n                if (mutation.type === 'attributes') {\n                    const name = mutation.attributeName;\n                    const value = that.getAttribute(name);\n\n                    if (that.hasPropertyChanged(name, value)) {\n                        Logger.debug(\n                            'AdapterLitElementProvider (' +\n                                that.tagName +\n                                ') observed attribute \"' +\n                                name +\n                                '\" changed'\n                        );\n                        that.setProperty(name, value);\n\n                        that.callbackStore.forEach((item) => {\n                            if (item.name === name) {\n                                item.callback(value);\n                            }\n                        });\n                    }\n                }\n            }\n        };\n\n        // Create an observer instance linked to the callback function\n        const observer = new MutationObserver(callback);\n\n        // Start observing the target node for configured mutations\n        observer.observe(this, config);\n\n        // get all *not observed* attributes\n        if (this.hasAttributes()) {\n            const attrs = this.attributes;\n            for (let i = attrs.length - 1; i >= 0; i--) {\n                if (['id', 'class', 'style', 'data-tag-name'].includes(attrs[i].name)) {\n                    continue;\n                }\n\n                this.setProperty(attrs[i].name, attrs[i].value);\n                Logger.debug(\n                    'AdapterLitElementProvider (' +\n                        that.tagName +\n                        ') found attribute \"' +\n                        attrs[i].name +\n                        '\" = \"' +\n                        attrs[i].value +\n                        '\"'\n                );\n            }\n        }\n    }\n\n    disconnectedCallback() {\n        const attrs = this.subscribe.split(',');\n        attrs.forEach((element) => this.unSubscribeProviderFor(element));\n\n        super.disconnectedCallback();\n    }\n\n    subscribeProviderFor(element) {\n        Logger.debug(\n            'AdapterLitElement(' + this.tagName + ') subscribeProviderFor( ' + element + ' )'\n        );\n        const pair = element.trim().split(':');\n        const local = pair[0];\n        const global = pair[1] || local;\n        const that = this;\n        const event = new CustomEvent('dbp-subscribe', {\n            bubbles: true,\n            composed: true,\n            detail: {\n                name: global,\n                callback: (value) => {\n                    // Don't send back \"undefined\" if the attribute wasn't found (for example if the providerRoot\n                    // is used and the attribute was subscribed but not set anywhere), because that will be\n                    // interpreted as \"true\" for Boolean lit-element attributes!\n                    if (value === undefined) {\n                        return;\n                    }\n\n                    Logger.debug(\n                        'AdapterLitElement(' +\n                            that.tagName +\n                            ') sub/Callback ' +\n                            global +\n                            ' -> ' +\n                            local +\n                            ' = ' +\n                            value\n                    );\n\n                    // If value is an object set it directly as property\n                    if (typeof value === 'object' && value !== null) {\n                        // Logger.debug(\"value is object\", value);\n                        that.setPropertyByAttributeName(local, value);\n                    } else {\n                        // Logger.debug(\"local, that.getPropertyByAttributeName(local), value\", local, that.getPropertyByAttributeName(local), value);\n                        that.attributeChangedCallback(\n                            local,\n                            that.getPropertyByAttributeName(local),\n                            value\n                        );\n\n                        // check if an attribute also exists in the tag\n                        if (that.getAttribute(local) !== null) {\n                            // we don't support attributes and provider values at the same time\n                            console.warn(\n                                'Provider callback: \"' +\n                                    local +\n                                    '\" is also an attribute in tag \"' +\n                                    that.tagName +\n                                    '\", this is not supported!'\n                            );\n\n                            // update attribute if reflectAttribute is enabled\n                            if (that.reflectAttribute) {\n                                that.setAttribute(local, value);\n                            }\n                        }\n                    }\n                },\n                sender: this,\n            },\n        });\n        this.dispatchEvent(event);\n    }\n\n    unSubscribeProviderFor(element) {\n        Logger.debug(\n            'AdapterLitElement(' + this.tagName + ') unSubscribeProviderFor( ' + element + ' )'\n        );\n        const pair = element.trim().split(':');\n        const global = pair[1] || pair[0];\n        const event = new CustomEvent('dbp-unsubscribe', {\n            bubbles: true,\n            composed: true,\n            detail: {\n                name: global,\n                sender: this,\n            },\n        });\n        this.dispatchEvent(event);\n    }\n\n    static get properties() {\n        return {\n            ...super.properties,\n            subscribe: {type: String},\n            unsubscribe: {type: String},\n            providerRoot: {type: Boolean, attribute: 'provider-root'},\n        };\n    }\n\n    findPropertyName(attributeName) {\n        let resultName = attributeName;\n        const properties = this.constructor.properties;\n        // Logger.debug(\"properties\", properties);\n\n        for (const propertyName in properties) {\n            // Logger.debug(\"findPropertyName\", `${propertyName}: ${properties[propertyName]}`);\n            const attribute = properties[propertyName].attribute;\n            if (attribute === attributeName) {\n                resultName = propertyName;\n                break;\n            }\n        }\n\n        return resultName;\n    }\n\n    attributeChangedCallback(name, oldValue, newValue) {\n        switch (name) {\n            case 'subscribe':\n                Logger.debug(\n                    'AdapterLitElement() attributeChangesCallback( ' +\n                        name +\n                        ', ' +\n                        oldValue +\n                        ', ' +\n                        newValue +\n                        ')'\n                );\n\n                if (this.subscribe && this.subscribe.length > 0) {\n                    if (this.connected) {\n                        const attrs = this.subscribe.split(',');\n                        attrs.forEach((element) => this.unSubscribeProviderFor(element));\n                    } else {\n                        this.deferUnSubscribe = this.subscribe.length > 0;\n                        this.unsubscribe = this.subscribe;\n                    }\n                }\n\n                if (newValue !== null) {\n                    this.subscribe = newValue;\n                    if (this.connected) {\n                        const attrs = newValue.split(',');\n                        attrs.forEach((element) => this.subscribeProviderFor(element));\n                    } else {\n                        this.deferSubscribe = newValue && newValue.length > 0;\n                    }\n                }\n                break;\n            default:\n                // The function should not be called if oldValue is an object, oldValue and newValue are empty\n                // or if newValue is empty but name and oldValue are set\n                // This should prevent 'Uncaught SyntaxError: JSON.parse unexpected end of data at line 1 column 1 of the JSON data'\n                if (\n                    (typeof oldValue === 'object' && !oldValue && !newValue) ||\n                    (!newValue && oldValue && name)\n                ) {\n                    // Logger.debug(\"attributeChangedCallback ignored\", name, oldValue, newValue);\n                    break;\n                }\n                super.attributeChangedCallback(name, oldValue, newValue);\n        }\n\n        // Logger.debug(\"this.lang\", this.tagName, name, this.lang);\n        // Logger.debug(\"this.entryPointUrl\", this.tagName, name, this.entryPointUrl);\n        // console.trace();\n    }\n\n    /**\n     * Send a dbp-set-property event to the provider components\n     *\n     * @param name\n     * @param value\n     * @param sendToSelf Set this to \"true\" if the event should  be sent to oneself instead of the parent (e.g. in the app shell if there isn't a provider around it)\n     * @returns {boolean}\n     */\n    sendSetPropertyEvent(name, value, sendToSelf = false) {\n        // Logger.debug(\"dbp-set-property\", name, value);\n\n        const event = new CustomEvent('dbp-set-property', {\n            bubbles: true,\n            composed: true,\n            detail: {name: name, value: value},\n        });\n\n        // dispatch the dbp-set-property event to the parent (if there is any) so that the current element\n        // doesn't terminate the event if it has the attribute set itself\n        const element = this.parentElement && !sendToSelf ? this.parentElement : this;\n\n        return element.dispatchEvent(event);\n    }\n\n    // update(changedProperties) {\n    //     changedProperties.forEach((oldValue, propName) => {\n    //         switch(propName) {\n    //             case 'subscribe':\n    //                 if (this.subscribe && this.subscribe.length > 0) {\n    //                     if (this.connected) {\n    //                         const attrs = this.subscribe.split(',');\n    //                         attrs.forEach(element => this.unSubscribeProviderFor(element));\n    //                     } else {\n    //                         this.deferUnSubscribe = this.subscribe.length > 0;\n    //                         this.unsubscribe = this.subscribe;\n    //                     }\n    //                 }\n    //                 if (this.subscribe !== null) {\n    //                     if (this.connected) {\n    //                         const attrs = this.subscribe.split(',');\n    //                         attrs.forEach(element => this.subscribeProviderFor(element));\n    //                     } else {\n    //                         this.deferSubscribe = this.subscribe && this.subscribe.length > 0;\n    //                     }\n    //                 }\n    //                 break;\n    //         }\n    //     });\n    //\n    //     super.update(changedProperties);\n    // }\n}\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},e=t=>(...e)=>({_$litDirective$:t,values:e});class i{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,i){this._$Ct=t,this._$AM=e,this._$Ci=i}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}export{i as Directive,t as PartType,e as directive};\n//# sourceMappingURL=directive.js.map\n","import{nothing as t,noChange as i}from\"../lit-html.js\";import{Directive as r,PartType as s,directive as n}from\"../directive.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */class e extends r{constructor(i){if(super(i),this.it=t,i.type!==s.CHILD)throw Error(this.constructor.directiveName+\"() can only be used in child bindings\")}render(r){if(r===t||null==r)return this._t=void 0,this.it=r;if(r===i)return r;if(\"string\"!=typeof r)throw Error(this.constructor.directiveName+\"() called with a non-string value\");if(r===this.it)return this._t;this.it=r;const s=[r];return s.raw=s,this._t={_$litType$:this.constructor.resultType,strings:s,values:[]}}}e.directiveName=\"unsafeHTML\",e.resultType=1;const o=n(e);export{e as UnsafeHTMLDirective,o as unsafeHTML};\n//# sourceMappingURL=unsafe-html.js.map\n","// nb. This is for IE10 and lower _only_.\nvar supportCustomEvent = window.CustomEvent;\nif (!supportCustomEvent || typeof supportCustomEvent === 'object') {\n  supportCustomEvent = function CustomEvent(event, x) {\n    x = x || {};\n    var ev = document.createEvent('CustomEvent');\n    ev.initCustomEvent(event, !!x.bubbles, !!x.cancelable, x.detail || null);\n    return ev;\n  };\n  supportCustomEvent.prototype = window.Event.prototype;\n}\n\n/**\n * Dispatches the passed event to both an \"on<type>\" handler as well as via the\n * normal dispatch operation. Does not bubble.\n *\n * @param {!EventTarget} target\n * @param {!Event} event\n * @return {boolean}\n */\nfunction safeDispatchEvent(target, event) {\n  var check = 'on' + event.type.toLowerCase();\n  if (typeof target[check] === 'function') {\n    target[check](event);\n  }\n  return target.dispatchEvent(event);\n}\n\n/**\n * @param {Element} el to check for stacking context\n * @return {boolean} whether this el or its parents creates a stacking context\n */\nfunction createsStackingContext(el) {\n  while (el && el !== document.body) {\n    var s = window.getComputedStyle(el);\n    var invalid = function(k, ok) {\n      return !(s[k] === undefined || s[k] === ok);\n    };\n\n    if (s.opacity < 1 ||\n        invalid('zIndex', 'auto') ||\n        invalid('transform', 'none') ||\n        invalid('mixBlendMode', 'normal') ||\n        invalid('filter', 'none') ||\n        invalid('perspective', 'none') ||\n        s['isolation'] === 'isolate' ||\n        s.position === 'fixed' ||\n        s.webkitOverflowScrolling === 'touch') {\n      return true;\n    }\n    el = el.parentElement;\n  }\n  return false;\n}\n\n/**\n * Finds the nearest <dialog> from the passed element.\n *\n * @param {Element} el to search from\n * @return {HTMLDialogElement} dialog found\n */\nfunction findNearestDialog(el) {\n  while (el) {\n    if (el.localName === 'dialog') {\n      return /** @type {HTMLDialogElement} */ (el);\n    }\n    if (el.parentElement) {\n      el = el.parentElement;\n    } else if (el.parentNode) {\n      el = el.parentNode.host;\n    } else {\n      el = null;\n    }\n  }\n  return null;\n}\n\n/**\n * Blur the specified element, as long as it's not the HTML body element.\n * This works around an IE9/10 bug - blurring the body causes Windows to\n * blur the whole application.\n *\n * @param {Element} el to blur\n */\nfunction safeBlur(el) {\n  // Find the actual focused element when the active element is inside a shadow root\n  while (el && el.shadowRoot && el.shadowRoot.activeElement) {\n    el = el.shadowRoot.activeElement;\n  }\n\n  if (el && el.blur && el !== document.body) {\n    el.blur();\n  }\n}\n\n/**\n * @param {!NodeList} nodeList to search\n * @param {Node} node to find\n * @return {boolean} whether node is inside nodeList\n */\nfunction inNodeList(nodeList, node) {\n  for (var i = 0; i < nodeList.length; ++i) {\n    if (nodeList[i] === node) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * @param {HTMLFormElement} el to check\n * @return {boolean} whether this form has method=\"dialog\"\n */\nfunction isFormMethodDialog(el) {\n  if (!el || !el.hasAttribute('method')) {\n    return false;\n  }\n  return el.getAttribute('method').toLowerCase() === 'dialog';\n}\n\n/**\n * @param {!DocumentFragment|!Element} hostElement\n * @return {?Element}\n */\nfunction findFocusableElementWithin(hostElement) {\n  // Note that this is 'any focusable area'. This list is probably not exhaustive, but the\n  // alternative involves stepping through and trying to focus everything.\n  var opts = ['button', 'input', 'keygen', 'select', 'textarea'];\n  var query = opts.map(function(el) {\n    return el + ':not([disabled])';\n  });\n  // TODO(samthor): tabindex values that are not numeric are not focusable.\n  query.push('[tabindex]:not([disabled]):not([tabindex=\"\"])');  // tabindex != \"\", not disabled\n  var target = hostElement.querySelector(query.join(', '));\n\n  if (!target && 'attachShadow' in Element.prototype) {\n    // If we haven't found a focusable target, see if the host element contains an element\n    // which has a shadowRoot.\n    // Recursively search for the first focusable item in shadow roots.\n    var elems = hostElement.querySelectorAll('*');\n    for (var i = 0; i < elems.length; i++) {\n      if (elems[i].tagName && elems[i].shadowRoot) {\n        target = findFocusableElementWithin(elems[i].shadowRoot);\n        if (target) {\n          break;\n        }\n      }\n    }\n  }\n  return target;\n}\n\n/**\n * Determines if an element is attached to the DOM.\n * @param {Element} element to check\n * @return {boolean} whether the element is in DOM\n */\nfunction isConnected(element) {\n  return element.isConnected || document.body.contains(element);\n}\n\n/**\n * @param {!Event} event\n * @return {?Element}\n */\nfunction findFormSubmitter(event) {\n  if (event.submitter) {\n    return event.submitter;\n  }\n\n  var form = event.target;\n  if (!(form instanceof HTMLFormElement)) {\n    return null;\n  }\n\n  var submitter = dialogPolyfill.formSubmitter;\n  if (!submitter) {\n    var target = event.target;\n    var root = ('getRootNode' in target && target.getRootNode() || document);\n    submitter = root.activeElement;\n  }\n\n  if (!submitter || submitter.form !== form) {\n    return null;\n  }\n  return submitter;\n}\n\n/**\n * @param {!Event} event\n */\nfunction maybeHandleSubmit(event) {\n  if (event.defaultPrevented) {\n    return;\n  }\n  var form = /** @type {!HTMLFormElement} */ (event.target);\n\n  // We'd have a value if we clicked on an imagemap.\n  var value = dialogPolyfill.imagemapUseValue;\n  var submitter = findFormSubmitter(event);\n  if (value === null && submitter) {\n    value = submitter.value;\n  }\n\n  // There should always be a dialog as this handler is added specifically on them, but check just\n  // in case.\n  var dialog = findNearestDialog(form);\n  if (!dialog) {\n    return;\n  }\n\n  // Prefer formmethod on the button.\n  var formmethod = submitter && submitter.getAttribute('formmethod') || form.getAttribute('method');\n  if (formmethod !== 'dialog') {\n    return;\n  }\n  event.preventDefault();\n\n  if (value != null) {\n    // nb. we explicitly check against null/undefined\n    dialog.close(value);\n  } else {\n    dialog.close();\n  }\n}\n\n/**\n * @param {!HTMLDialogElement} dialog to upgrade\n * @constructor\n */\nfunction dialogPolyfillInfo(dialog) {\n  this.dialog_ = dialog;\n  this.replacedStyleTop_ = false;\n  this.openAsModal_ = false;\n\n  // Set a11y role. Browsers that support dialog implicitly know this already.\n  if (!dialog.hasAttribute('role')) {\n    dialog.setAttribute('role', 'dialog');\n  }\n\n  dialog.show = this.show.bind(this);\n  dialog.showModal = this.showModal.bind(this);\n  dialog.close = this.close.bind(this);\n\n  dialog.addEventListener('submit', maybeHandleSubmit, false);\n\n  if (!('returnValue' in dialog)) {\n    dialog.returnValue = '';\n  }\n\n  if ('MutationObserver' in window) {\n    var mo = new MutationObserver(this.maybeHideModal.bind(this));\n    mo.observe(dialog, {attributes: true, attributeFilter: ['open']});\n  } else {\n    // IE10 and below support. Note that DOMNodeRemoved etc fire _before_ removal. They also\n    // seem to fire even if the element was removed as part of a parent removal. Use the removed\n    // events to force downgrade (useful if removed/immediately added).\n    var removed = false;\n    var cb = function() {\n      removed ? this.downgradeModal() : this.maybeHideModal();\n      removed = false;\n    }.bind(this);\n    var timeout;\n    var delayModel = function(ev) {\n      if (ev.target !== dialog) { return; }  // not for a child element\n      var cand = 'DOMNodeRemoved';\n      removed |= (ev.type.substr(0, cand.length) === cand);\n      window.clearTimeout(timeout);\n      timeout = window.setTimeout(cb, 0);\n    };\n    ['DOMAttrModified', 'DOMNodeRemoved', 'DOMNodeRemovedFromDocument'].forEach(function(name) {\n      dialog.addEventListener(name, delayModel);\n    });\n  }\n  // Note that the DOM is observed inside DialogManager while any dialog\n  // is being displayed as a modal, to catch modal removal from the DOM.\n\n  Object.defineProperty(dialog, 'open', {\n    set: this.setOpen.bind(this),\n    get: dialog.hasAttribute.bind(dialog, 'open')\n  });\n\n  this.backdrop_ = document.createElement('div');\n  this.backdrop_.className = 'backdrop';\n  this.backdrop_.addEventListener('mouseup'  , this.backdropMouseEvent_.bind(this));\n  this.backdrop_.addEventListener('mousedown', this.backdropMouseEvent_.bind(this));\n  this.backdrop_.addEventListener('click'    , this.backdropMouseEvent_.bind(this));\n}\n\ndialogPolyfillInfo.prototype = /** @type {HTMLDialogElement.prototype} */ ({\n\n  get dialog() {\n    return this.dialog_;\n  },\n\n  /**\n   * Maybe remove this dialog from the modal top layer. This is called when\n   * a modal dialog may no longer be tenable, e.g., when the dialog is no\n   * longer open or is no longer part of the DOM.\n   */\n  maybeHideModal: function() {\n    if (this.dialog_.hasAttribute('open') && isConnected(this.dialog_)) { return; }\n    this.downgradeModal();\n  },\n\n  /**\n   * Remove this dialog from the modal top layer, leaving it as a non-modal.\n   */\n  downgradeModal: function() {\n    if (!this.openAsModal_) { return; }\n    this.openAsModal_ = false;\n    this.dialog_.style.zIndex = '';\n\n    // This won't match the native <dialog> exactly because if the user set top on a centered\n    // polyfill dialog, that top gets thrown away when the dialog is closed. Not sure it's\n    // possible to polyfill this perfectly.\n    if (this.replacedStyleTop_) {\n      this.dialog_.style.top = '';\n      this.replacedStyleTop_ = false;\n    }\n\n    // Clear the backdrop and remove from the manager.\n    this.backdrop_.parentNode && this.backdrop_.parentNode.removeChild(this.backdrop_);\n    dialogPolyfill.dm.removeDialog(this);\n  },\n\n  /**\n   * @param {boolean} value whether to open or close this dialog\n   */\n  setOpen: function(value) {\n    if (value) {\n      this.dialog_.hasAttribute('open') || this.dialog_.setAttribute('open', '');\n    } else {\n      this.dialog_.removeAttribute('open');\n      this.maybeHideModal();  // nb. redundant with MutationObserver\n    }\n  },\n\n  /**\n   * Handles mouse events ('mouseup', 'mousedown', 'click') on the fake .backdrop element, redirecting them as if\n   * they were on the dialog itself.\n   *\n   * @param {!Event} e to redirect\n   */\n  backdropMouseEvent_: function(e) {\n    if (!this.dialog_.hasAttribute('tabindex')) {\n      // Clicking on the backdrop should move the implicit cursor, even if dialog cannot be\n      // focused. Create a fake thing to focus on. If the backdrop was _before_ the dialog, this\n      // would not be needed - clicks would move the implicit cursor there.\n      var fake = document.createElement('div');\n      this.dialog_.insertBefore(fake, this.dialog_.firstChild);\n      fake.tabIndex = -1;\n      fake.focus();\n      this.dialog_.removeChild(fake);\n    } else {\n      this.dialog_.focus();\n    }\n\n    var redirectedEvent = document.createEvent('MouseEvents');\n    redirectedEvent.initMouseEvent(e.type, e.bubbles, e.cancelable, window,\n        e.detail, e.screenX, e.screenY, e.clientX, e.clientY, e.ctrlKey,\n        e.altKey, e.shiftKey, e.metaKey, e.button, e.relatedTarget);\n    this.dialog_.dispatchEvent(redirectedEvent);\n    e.stopPropagation();\n  },\n\n  /**\n   * Focuses on the first focusable element within the dialog. This will always blur the current\n   * focus, even if nothing within the dialog is found.\n   */\n  focus_: function() {\n    // Find element with `autofocus` attribute, or fall back to the first form/tabindex control.\n    var target = this.dialog_.querySelector('[autofocus]:not([disabled])');\n    if (!target && this.dialog_.tabIndex >= 0) {\n      target = this.dialog_;\n    }\n    if (!target) {\n      target = findFocusableElementWithin(this.dialog_);\n    }\n    safeBlur(document.activeElement);\n    target && target.focus();\n  },\n\n  /**\n   * Sets the zIndex for the backdrop and dialog.\n   *\n   * @param {number} dialogZ\n   * @param {number} backdropZ\n   */\n  updateZIndex: function(dialogZ, backdropZ) {\n    if (dialogZ < backdropZ) {\n      throw new Error('dialogZ should never be < backdropZ');\n    }\n    this.dialog_.style.zIndex = dialogZ;\n    this.backdrop_.style.zIndex = backdropZ;\n  },\n\n  /**\n   * Shows the dialog. If the dialog is already open, this does nothing.\n   */\n  show: function() {\n    if (!this.dialog_.open) {\n      this.setOpen(true);\n      this.focus_();\n    }\n  },\n\n  /**\n   * Show this dialog modally.\n   */\n  showModal: function() {\n    if (this.dialog_.hasAttribute('open')) {\n      throw new Error('Failed to execute \\'showModal\\' on dialog: The element is already open, and therefore cannot be opened modally.');\n    }\n    if (!isConnected(this.dialog_)) {\n      throw new Error('Failed to execute \\'showModal\\' on dialog: The element is not in a Document.');\n    }\n    if (!dialogPolyfill.dm.pushDialog(this)) {\n      throw new Error('Failed to execute \\'showModal\\' on dialog: There are too many open modal dialogs.');\n    }\n\n    if (createsStackingContext(this.dialog_.parentElement)) {\n      console.warn('A dialog is being shown inside a stacking context. ' +\n          'This may cause it to be unusable. For more information, see this link: ' +\n          'https://github.com/GoogleChrome/dialog-polyfill/#stacking-context');\n    }\n\n    this.setOpen(true);\n    this.openAsModal_ = true;\n\n    // Optionally center vertically, relative to the current viewport.\n    if (dialogPolyfill.needsCentering(this.dialog_)) {\n      dialogPolyfill.reposition(this.dialog_);\n      this.replacedStyleTop_ = true;\n    } else {\n      this.replacedStyleTop_ = false;\n    }\n\n    // Insert backdrop.\n    this.dialog_.parentNode.insertBefore(this.backdrop_, this.dialog_.nextSibling);\n\n    // Focus on whatever inside the dialog.\n    this.focus_();\n  },\n\n  /**\n   * Closes this HTMLDialogElement. This is optional vs clearing the open\n   * attribute, however this fires a 'close' event.\n   *\n   * @param {string=} opt_returnValue to use as the returnValue\n   */\n  close: function(opt_returnValue) {\n    if (!this.dialog_.hasAttribute('open')) {\n      throw new Error('Failed to execute \\'close\\' on dialog: The element does not have an \\'open\\' attribute, and therefore cannot be closed.');\n    }\n    this.setOpen(false);\n\n    // Leave returnValue untouched in case it was set directly on the element\n    if (opt_returnValue !== undefined) {\n      this.dialog_.returnValue = opt_returnValue;\n    }\n\n    // Triggering \"close\" event for any attached listeners on the <dialog>.\n    var closeEvent = new supportCustomEvent('close', {\n      bubbles: false,\n      cancelable: false\n    });\n    safeDispatchEvent(this.dialog_, closeEvent);\n  }\n\n});\n\nvar dialogPolyfill = {};\n\ndialogPolyfill.reposition = function(element) {\n  var scrollTop = document.body.scrollTop || document.documentElement.scrollTop;\n  var topValue = scrollTop + (window.innerHeight - element.offsetHeight) / 2;\n  element.style.top = Math.max(scrollTop, topValue) + 'px';\n};\n\ndialogPolyfill.isInlinePositionSetByStylesheet = function(element) {\n  for (var i = 0; i < document.styleSheets.length; ++i) {\n    var styleSheet = document.styleSheets[i];\n    var cssRules = null;\n    // Some browsers throw on cssRules.\n    try {\n      cssRules = styleSheet.cssRules;\n    } catch (e) {}\n    if (!cssRules) { continue; }\n    for (var j = 0; j < cssRules.length; ++j) {\n      var rule = cssRules[j];\n      var selectedNodes = null;\n      // Ignore errors on invalid selector texts.\n      try {\n        selectedNodes = document.querySelectorAll(rule.selectorText);\n      } catch(e) {}\n      if (!selectedNodes || !inNodeList(selectedNodes, element)) {\n        continue;\n      }\n      var cssTop = rule.style.getPropertyValue('top');\n      var cssBottom = rule.style.getPropertyValue('bottom');\n      if ((cssTop && cssTop !== 'auto') || (cssBottom && cssBottom !== 'auto')) {\n        return true;\n      }\n    }\n  }\n  return false;\n};\n\ndialogPolyfill.needsCentering = function(dialog) {\n  var computedStyle = window.getComputedStyle(dialog);\n  if (computedStyle.position !== 'absolute') {\n    return false;\n  }\n\n  // We must determine whether the top/bottom specified value is non-auto.  In\n  // WebKit/Blink, checking computedStyle.top == 'auto' is sufficient, but\n  // Firefox returns the used value. So we do this crazy thing instead: check\n  // the inline style and then go through CSS rules.\n  if ((dialog.style.top !== 'auto' && dialog.style.top !== '') ||\n      (dialog.style.bottom !== 'auto' && dialog.style.bottom !== '')) {\n    return false;\n  }\n  return !dialogPolyfill.isInlinePositionSetByStylesheet(dialog);\n};\n\n/**\n * @param {!Element} element to force upgrade\n */\ndialogPolyfill.forceRegisterDialog = function(element) {\n  if (window.HTMLDialogElement || element.showModal) {\n    console.warn('This browser already supports <dialog>, the polyfill ' +\n        'may not work correctly', element);\n  }\n  if (element.localName !== 'dialog') {\n    throw new Error('Failed to register dialog: The element is not a dialog.');\n  }\n  new dialogPolyfillInfo(/** @type {!HTMLDialogElement} */ (element));\n};\n\n/**\n * @param {!Element} element to upgrade, if necessary\n */\ndialogPolyfill.registerDialog = function(element) {\n  if (!element.showModal) {\n    dialogPolyfill.forceRegisterDialog(element);\n  }\n};\n\n/**\n * @constructor\n */\ndialogPolyfill.DialogManager = function() {\n  /** @type {!Array<!dialogPolyfillInfo>} */\n  this.pendingDialogStack = [];\n\n  var checkDOM = this.checkDOM_.bind(this);\n\n  // The overlay is used to simulate how a modal dialog blocks the document.\n  // The blocking dialog is positioned on top of the overlay, and the rest of\n  // the dialogs on the pending dialog stack are positioned below it. In the\n  // actual implementation, the modal dialog stacking is controlled by the\n  // top layer, where z-index has no effect.\n  this.overlay = document.createElement('div');\n  this.overlay.className = '_dialog_overlay';\n  this.overlay.addEventListener('click', function(e) {\n    this.forwardTab_ = undefined;\n    e.stopPropagation();\n    checkDOM([]);  // sanity-check DOM\n  }.bind(this));\n\n  this.handleKey_ = this.handleKey_.bind(this);\n  this.handleFocus_ = this.handleFocus_.bind(this);\n\n  this.zIndexLow_ = 100000;\n  this.zIndexHigh_ = 100000 + 150;\n\n  this.forwardTab_ = undefined;\n\n  if ('MutationObserver' in window) {\n    this.mo_ = new MutationObserver(function(records) {\n      var removed = [];\n      records.forEach(function(rec) {\n        for (var i = 0, c; c = rec.removedNodes[i]; ++i) {\n          if (!(c instanceof Element)) {\n            continue;\n          } else if (c.localName === 'dialog') {\n            removed.push(c);\n          }\n          removed = removed.concat(c.querySelectorAll('dialog'));\n        }\n      });\n      removed.length && checkDOM(removed);\n    });\n  }\n};\n\n/**\n * Called on the first modal dialog being shown. Adds the overlay and related\n * handlers.\n */\ndialogPolyfill.DialogManager.prototype.blockDocument = function() {\n  document.documentElement.addEventListener('focus', this.handleFocus_, true);\n  document.addEventListener('keydown', this.handleKey_);\n  this.mo_ && this.mo_.observe(document, {childList: true, subtree: true});\n};\n\n/**\n * Called on the first modal dialog being removed, i.e., when no more modal\n * dialogs are visible.\n */\ndialogPolyfill.DialogManager.prototype.unblockDocument = function() {\n  document.documentElement.removeEventListener('focus', this.handleFocus_, true);\n  document.removeEventListener('keydown', this.handleKey_);\n  this.mo_ && this.mo_.disconnect();\n};\n\n/**\n * Updates the stacking of all known dialogs.\n */\ndialogPolyfill.DialogManager.prototype.updateStacking = function() {\n  var zIndex = this.zIndexHigh_;\n\n  for (var i = 0, dpi; dpi = this.pendingDialogStack[i]; ++i) {\n    dpi.updateZIndex(--zIndex, --zIndex);\n    if (i === 0) {\n      this.overlay.style.zIndex = --zIndex;\n    }\n  }\n\n  // Make the overlay a sibling of the dialog itself.\n  var last = this.pendingDialogStack[0];\n  if (last) {\n    var p = last.dialog.parentNode || document.body;\n    p.appendChild(this.overlay);\n  } else if (this.overlay.parentNode) {\n    this.overlay.parentNode.removeChild(this.overlay);\n  }\n};\n\n/**\n * @param {Element} candidate to check if contained or is the top-most modal dialog\n * @return {boolean} whether candidate is contained in top dialog\n */\ndialogPolyfill.DialogManager.prototype.containedByTopDialog_ = function(candidate) {\n  while (candidate = findNearestDialog(candidate)) {\n    for (var i = 0, dpi; dpi = this.pendingDialogStack[i]; ++i) {\n      if (dpi.dialog === candidate) {\n        return i === 0;  // only valid if top-most\n      }\n    }\n    candidate = candidate.parentElement;\n  }\n  return false;\n};\n\ndialogPolyfill.DialogManager.prototype.handleFocus_ = function(event) {\n  var target = event.composedPath ? event.composedPath()[0] : event.target;\n\n  if (this.containedByTopDialog_(target)) { return; }\n\n  if (document.activeElement === document.documentElement) { return; }\n\n  event.preventDefault();\n  event.stopPropagation();\n  safeBlur(/** @type {Element} */ (target));\n\n  if (this.forwardTab_ === undefined) { return; }  // move focus only from a tab key\n\n  var dpi = this.pendingDialogStack[0];\n  var dialog = dpi.dialog;\n  var position = dialog.compareDocumentPosition(target);\n  if (position & Node.DOCUMENT_POSITION_PRECEDING) {\n    if (this.forwardTab_) {\n      // forward\n      dpi.focus_();\n    } else if (target !== document.documentElement) {\n      // backwards if we're not already focused on <html>\n      document.documentElement.focus();\n    }\n  }\n\n  return false;\n};\n\ndialogPolyfill.DialogManager.prototype.handleKey_ = function(event) {\n  this.forwardTab_ = undefined;\n  if (event.keyCode === 27) {\n    event.preventDefault();\n    event.stopPropagation();\n    var cancelEvent = new supportCustomEvent('cancel', {\n      bubbles: false,\n      cancelable: true\n    });\n    var dpi = this.pendingDialogStack[0];\n    if (dpi && safeDispatchEvent(dpi.dialog, cancelEvent)) {\n      dpi.dialog.close();\n    }\n  } else if (event.keyCode === 9) {\n    this.forwardTab_ = !event.shiftKey;\n  }\n};\n\n/**\n * Finds and downgrades any known modal dialogs that are no longer displayed. Dialogs that are\n * removed and immediately readded don't stay modal, they become normal.\n *\n * @param {!Array<!HTMLDialogElement>} removed that have definitely been removed\n */\ndialogPolyfill.DialogManager.prototype.checkDOM_ = function(removed) {\n  // This operates on a clone because it may cause it to change. Each change also calls\n  // updateStacking, which only actually needs to happen once. But who removes many modal dialogs\n  // at a time?!\n  var clone = this.pendingDialogStack.slice();\n  clone.forEach(function(dpi) {\n    if (removed.indexOf(dpi.dialog) !== -1) {\n      dpi.downgradeModal();\n    } else {\n      dpi.maybeHideModal();\n    }\n  });\n};\n\n/**\n * @param {!dialogPolyfillInfo} dpi\n * @return {boolean} whether the dialog was allowed\n */\ndialogPolyfill.DialogManager.prototype.pushDialog = function(dpi) {\n  var allowed = (this.zIndexHigh_ - this.zIndexLow_) / 2 - 1;\n  if (this.pendingDialogStack.length >= allowed) {\n    return false;\n  }\n  if (this.pendingDialogStack.unshift(dpi) === 1) {\n    this.blockDocument();\n  }\n  this.updateStacking();\n  return true;\n};\n\n/**\n * @param {!dialogPolyfillInfo} dpi\n */\ndialogPolyfill.DialogManager.prototype.removeDialog = function(dpi) {\n  var index = this.pendingDialogStack.indexOf(dpi);\n  if (index === -1) { return; }\n\n  this.pendingDialogStack.splice(index, 1);\n  if (this.pendingDialogStack.length === 0) {\n    this.unblockDocument();\n  }\n  this.updateStacking();\n};\n\ndialogPolyfill.dm = new dialogPolyfill.DialogManager();\ndialogPolyfill.formSubmitter = null;\ndialogPolyfill.imagemapUseValue = null;\n\n/**\n * Installs global handlers, such as click listers and native method overrides. These are needed\n * even if a no dialog is registered, as they deal with <form method=\"dialog\">.\n */\nif (window.HTMLDialogElement === undefined) {\n\n  /**\n   * If HTMLFormElement translates method=\"DIALOG\" into 'get', then replace the descriptor with\n   * one that returns the correct value.\n   */\n  var testForm = document.createElement('form');\n  testForm.setAttribute('method', 'dialog');\n  if (testForm.method !== 'dialog') {\n    var methodDescriptor = Object.getOwnPropertyDescriptor(HTMLFormElement.prototype, 'method');\n    if (methodDescriptor) {\n      // nb. Some older iOS and older PhantomJS fail to return the descriptor. Don't do anything\n      // and don't bother to update the element.\n      var realGet = methodDescriptor.get;\n      methodDescriptor.get = function() {\n        if (isFormMethodDialog(this)) {\n          return 'dialog';\n        }\n        return realGet.call(this);\n      };\n      var realSet = methodDescriptor.set;\n      /** @this {HTMLElement} */\n      methodDescriptor.set = function(v) {\n        if (typeof v === 'string' && v.toLowerCase() === 'dialog') {\n          return this.setAttribute('method', v);\n        }\n        return realSet.call(this, v);\n      };\n      Object.defineProperty(HTMLFormElement.prototype, 'method', methodDescriptor);\n    }\n  }\n\n  /**\n   * Global 'click' handler, to capture the <input type=\"submit\"> or <button> element which has\n   * submitted a <form method=\"dialog\">. Needed as Safari and others don't report this inside\n   * document.activeElement.\n   */\n  document.addEventListener('click', function(ev) {\n    dialogPolyfill.formSubmitter = null;\n    dialogPolyfill.imagemapUseValue = null;\n    if (ev.defaultPrevented) { return; }  // e.g. a submit which prevents default submission\n\n    var target = /** @type {Element} */ (ev.target);\n    if ('composedPath' in ev) {\n      var path = ev.composedPath();\n      target = path.shift() || target;\n    }\n    if (!target || !isFormMethodDialog(target.form)) { return; }\n\n    var valid = (target.type === 'submit' && ['button', 'input'].indexOf(target.localName) > -1);\n    if (!valid) {\n      if (!(target.localName === 'input' && target.type === 'image')) { return; }\n      // this is a <input type=\"image\">, which can submit forms\n      dialogPolyfill.imagemapUseValue = ev.offsetX + ',' + ev.offsetY;\n    }\n\n    var dialog = findNearestDialog(target);\n    if (!dialog) { return; }\n\n    dialogPolyfill.formSubmitter = target;\n\n  }, false);\n\n  /**\n   * Global 'submit' handler. This handles submits of `method=\"dialog\"` which are invalid, i.e.,\n   * outside a dialog. They get prevented.\n   */\n  document.addEventListener('submit', function(ev) {\n    var form = ev.target;\n    var dialog = findNearestDialog(form);\n    if (dialog) {\n      return;  // ignore, handle there\n    }\n\n    var submitter = findFormSubmitter(ev);\n    var formmethod = submitter && submitter.getAttribute('formmethod') || form.getAttribute('method');\n    if (formmethod === 'dialog') {\n      ev.preventDefault();\n    }\n  });\n\n  /**\n   * Replace the native HTMLFormElement.submit() method, as it won't fire the\n   * submit event and give us a chance to respond.\n   */\n  var nativeFormSubmit = HTMLFormElement.prototype.submit;\n  var replacementFormSubmit = function () {\n    if (!isFormMethodDialog(this)) {\n      return nativeFormSubmit.call(this);\n    }\n    var dialog = findNearestDialog(this);\n    dialog && dialog.close();\n  };\n  HTMLFormElement.prototype.submit = replacementFormSubmit;\n}\n\nexport default dialogPolyfill;\n","import {createInstance} from './i18n.js';\nimport {KeycloakWrapper} from './keycloak.js';\nimport {LoginStatus} from './util.js';\nimport {AdapterLitElement, combineURLs} from '@dbp-toolkit/common';\nimport {send} from '@dbp-toolkit/common/notification';\n\n/**\n * Keycloak auth web component\n * https://www.keycloak.org/docs/latest/securing_apps/index.html#_javascript_adapter\n *\n * Emits a dbp-set-property event for the attribute \"auth\":\n *   auth.subject: Keycloak username\n *   auth.login-status: Login status (see object LoginStatus)\n *   auth.token: Keycloak token to send with your requests\n *   auth.user-full-name: Full name of the user\n *   auth.user-id: Identifier of the user\n */\nexport class AuthKeycloak extends AdapterLitElement {\n    constructor() {\n        super();\n        this.forceLogin = false;\n        this.token = '';\n        this.subject = '';\n        this.name = '';\n        this.tryLogin = false;\n        this.entryPointUrl = '';\n        this._user = null;\n        this._userId = '';\n        this._authenticated = false;\n        this._loginStatus = LoginStatus.UNKNOWN;\n        this.requestedLoginStatus = LoginStatus.UNKNOWN;\n        this._i18n = createInstance();\n        this.lang = this._i18n.language;\n\n        // Keycloak config\n        this.keycloakUrl = null;\n        this.realm = null;\n        this.clientId = null;\n        this.silentCheckSsoRedirectUri = null;\n        this.noCheckLoginIframe = false;\n        this.scope = null;\n        this.idpHint = '';\n\n        this._onKCChanged = this._onKCChanged.bind(this);\n\n        // inject a data-testid attribute for Playwright\n        if (window.playwright) {\n            this.setAttribute(\"data-testid\", \"dbp-auth-keycloak\");\n        }\n    }\n\n    update(changedProperties) {\n        // console.log(\"changedProperties\", changedProperties);\n        changedProperties.forEach((oldValue, propName) => {\n            switch (propName) {\n                case 'lang':\n                    this._i18n.changeLanguage(this.lang);\n                    break;\n                case 'requestedLoginStatus':\n                    console.log('requested-login-status changed', this.requestedLoginStatus);\n                    switch (this.requestedLoginStatus) {\n                        case LoginStatus.LOGGED_IN:\n                            this._kcwrapper.login({lang: this.lang, scope: this.scope || ''});\n                            break;\n                        case LoginStatus.LOGGED_OUT:\n                            // Keycloak will redirect right away without emitting events, so we have\n                            // to do this manually here\n                            if (this._loginStatus === LoginStatus.LOGGED_IN) {\n                                this._setLoginStatus(LoginStatus.LOGGING_OUT);\n                            }\n                            this._kcwrapper.logout();\n                            // In case logout was aborted, for example with beforeunload,\n                            // revert back to being logged in\n                            if (this._loginStatus === LoginStatus.LOGGING_OUT) {\n                                this._setLoginStatus(LoginStatus.LOGGED_IN);\n                            }\n                            break;\n                    }\n                    break;\n            }\n        });\n\n        super.update(changedProperties);\n    }\n\n    async _fetchUser(userId) {\n        const apiUrl = combineURLs(this.entryPointUrl, `/frontend/users/${encodeURIComponent(userId)}`);\n\n        let response = await fetch(apiUrl, {\n            headers: {\n                Authorization: 'Bearer ' + this.token,\n            },\n        });\n        if (!response.ok) {\n            throw response;\n        }\n        let user = await response.json();\n        let dummyUser = {\n            roles: user['roles'] ?? [],\n        };\n        return dummyUser;\n    }\n\n    async _onKCChanged(event) {\n        const kc = event.detail;\n\n        this._authenticated = kc.authenticated;\n        if (kc.authenticated) {\n            let tokenChanged = this.token !== kc.token;\n            this.name = kc.idTokenParsed.name;\n            this.token = kc.token;\n\n            this.subject = kc.subject;\n            const userId = kc.idTokenParsed.preferred_username;\n            let userChanged = userId !== this._userId;\n            if (userChanged) {\n                this._userId = userId;\n                let user;\n                try {\n                    user = await this._fetchUser(userId);\n                } catch (error) {\n                    // In case fetching the user failed then likely the API backend\n                    // is not set up or broken. Return a user without any roles so we\n                    // can show something at least.\n                    console.error(error);\n                    user = {roles: []};\n                }\n                if (userId === this._userId) {\n                    this._user = user;\n                }\n            }\n            if (this._user !== null) {\n                this._setLoginStatus(LoginStatus.LOGGED_IN, tokenChanged || userChanged);\n            }\n        } else {\n            if (this._loginStatus === LoginStatus.LOGGED_IN) {\n                this._setLoginStatus(LoginStatus.LOGGING_OUT);\n            }\n            this.name = '';\n            this.token = '';\n            this.subject = '';\n            this._userId = '';\n            this._user = null;\n\n            this._setLoginStatus(LoginStatus.LOGGED_OUT);\n        }\n    }\n\n    sendSetPropertyEvents() {\n        const auth = {\n            'login-status': this._loginStatus,\n            subject: this.subject,\n            token: this.token,\n            'user-full-name': this.name,\n            'user-id': this._userId,\n            // Deprecated\n            'person-id': this._userId,\n            person: this._user,\n        };\n\n        // Inject a window.DBPAuth variable for Cypress/Playwright\n        // Warning: window.playwright is not set the if the browser window was just opened!\n        if (window.Cypress || window.playwright) {\n            window.DBPAuth = auth;\n            console.log(\"Cypress/Playwright detected\");\n        }\n\n        this.setAttribute(\"data-auth-set\", \"true\");\n\n        this.sendSetPropertyEvent('auth', auth);\n    }\n\n    _setLoginStatus(status, force) {\n        if (this._loginStatus === status && !force) return;\n\n        this._loginStatus = status;\n        this.sendSetPropertyEvents();\n    }\n\n    static get properties() {\n        return {\n            ...super.properties,\n            lang: {type: String},\n            forceLogin: {type: Boolean, attribute: 'force-login'},\n            tryLogin: {type: Boolean, attribute: 'try-login'},\n            entryPointUrl: {type: String, attribute: 'entry-point-url'},\n            name: {type: String, attribute: false},\n            token: {type: String, attribute: false},\n            subject: {type: String, attribute: false},\n            _userId: {type: String, attribute: false},\n            _user: {type: Object, attribute: false},\n            _loginStatus: {type: String, attribute: false},\n            keycloakUrl: {type: String, attribute: 'url'},\n            realm: {type: String},\n            clientId: {type: String, attribute: 'client-id'},\n            silentCheckSsoRedirectUri: {type: String, attribute: 'silent-check-sso-redirect-uri'},\n            scope: {type: String},\n            idpHint: {type: String, attribute: 'idp-hint'},\n            requestedLoginStatus: {type: String, attribute: 'requested-login-status'},\n            noCheckLoginIframe: {type: Boolean, attribute: 'no-check-login-iframe'},\n        };\n    }\n\n    connectedCallback() {\n        super.connectedCallback();\n\n        if (!this.keycloakUrl) throw Error('url not set');\n        if (!this.realm) throw Error('realm not set');\n        if (!this.clientId) throw Error('client-id not set');\n        this._kcwrapper = new KeycloakWrapper(\n            this.keycloakUrl,\n            this.realm,\n            this.clientId,\n            this.silentCheckSsoRedirectUri,\n            !this.noCheckLoginIframe,\n            this.idpHint\n        );\n        this._kcwrapper.addEventListener('changed', this._onKCChanged);\n\n        const handleLogin = async () => {\n            try {\n                if (this.forceLogin || this._kcwrapper.isLoggingIn()) {\n                    this._setLoginStatus(LoginStatus.LOGGING_IN);\n                    await this._kcwrapper.login({lang: this.lang, scope: this.scope || ''});\n                } else if (this.tryLogin) {\n                    this._setLoginStatus(LoginStatus.LOGGING_IN);\n                    await this._kcwrapper.tryLogin();\n                    if (!this._authenticated) {\n                        this._setLoginStatus(LoginStatus.LOGGED_OUT);\n                    }\n                } else {\n                    this._setLoginStatus(LoginStatus.LOGGED_OUT);\n                }\n            } catch (error) {\n                // In case the keycloak server is offline for example\n                this._setLoginStatus(LoginStatus.LOGGED_OUT);\n                send({\n                    summary: this._i18n.t('login-failed'),\n                    type: 'danger',\n                    timeout: 5,\n                });\n                throw error;\n            }\n        };\n\n        handleLogin();\n    }\n\n    disconnectedCallback() {\n        this._kcwrapper.close();\n        this._kcwrapper.removeEventListener('changed', this._onKCChanged);\n\n        super.disconnectedCallback();\n    }\n}\n","/**\n * Appends the second relative or absolute URL by treating\n * the base URL as the root path. Unlike normal URL join which\n * treats the host as root path.\n *\n * http://example.com/foo + bar -> http://example.com/foo/bar\n * http://example.com/foo/ + /bar -> http://example.com/foo/bar\n *\n * @param {string} baseURL The bas URL\n * @param {string} addedURL The URL to append ot the baseURL\n */\nexport const combineURLs = (baseURL, addedURL) => {\n    if (!baseURL.endsWith('/')) {\n        baseURL += '/';\n    }\n    return new URL(addedURL.replace(/^\\/+/, ''), baseURL).href;\n};","/**\n * Sends a notification via the event\n *\n * Type can be info/success/warning/danger\n *\n * example options:\n *\n * {\n *   \"summary\": \"Item deleted\",\n *   \"body\": \"Item foo was deleted!\",\n *   \"type\": \"info\",\n *   \"icon\": \"download\",\n *   \"timeout\": 5,\n * }\n *\n * @param options\n */\nfunction send(options) {\n    const event = new CustomEvent('dbp-notification-send', {\n        bubbles: true,\n        cancelable: true,\n        detail: options,\n    });\n\n    const result = window.dispatchEvent(event);\n\n    // true means the event was not handled\n    if (result) {\n        alert(\n            (options.summary !== undefined && options.summary !== ''\n                ? options.summary + ': '\n                : '') + options.body\n        );\n        console.log('Use the web component dbp-notification to show fancy notifications.');\n    }\n}\n\nexport {send};\n","import {createInstance} from './i18n.js';\nimport {html, css} from 'lit';\nimport {unsafeHTML} from 'lit/directives/unsafe-html.js';\nimport {ScopedElementsMixin} from '@open-wc/scoped-elements';\nimport * as commonStyles from '@dbp-toolkit/common/styles';\nimport {LoginStatus} from './util.js';\nimport {AdapterLitElement, MiniSpinner} from '@dbp-toolkit/common';\n\nlet logoutSVG = `\n<svg\n   viewBox=\"0 0 100 100\"\n   y=\"0px\"\n   x=\"0px\"\n   id=\"icon\"\n   role=\"img\"\n   version=\"1.1\">\n<g\n   id=\"g6\">\n  <path\n     d=\"m 20.749313,38.894934 -5.885859,6.967885 h 43.408213 c 1.839331,0 3.433418,1.741972 3.433418,4.064599 0,2.322628 -1.471465,4.064599 -3.433418,4.064599 H 14.863454 l 5.885859,6.967883 c 1.348843,1.596808 1.348843,4.064599 0,5.661406 -1.348843,1.596808 -3.433418,1.596808 -4.782261,0 L 1.9881356,49.927418 15.967052,33.378693 c 1.348843,-1.596806 3.433418,-1.596806 4.782261,0 1.348843,1.596807 1.348843,4.064599 0,5.516241 z\"\n     id=\"path2\"\n     style=\"stroke-width:1.33417916\"\n     inkscape:connector-curvature=\"0\" />\n  <path\n     style=\"stroke-width:0.67017764\"\n     d=\"M 61.663665,16.308792 C 48.158763,16.560171 35.913199,25.828579 30.896087,38.197464 34.816744,37.806184 40.033349,39.91491 41.470306,35.017776 50.594944,21.215302 72.517616,20.362655 82.800384,33.07637 93.497261,44.618596 90.228387,65.093356 76.499603,72.791214 64.104901,80.786232 45.895432,75.593227 39.470306,62.310745 35.613955,62.60637 27.974792,60.593775 32.925384,66.267776 41.232037,82.878292 64.023613,89.46919 79.876556,79.765823 96.140149,70.989504 102.10102,48.145494 91.970306,32.629104 85.705979,22.257901 73.793809,15.772382 61.663665,16.308792 Z\"\n     id=\"path4\"\n     inkscape:connector-curvature=\"0\" />\n</g>\n</svg>\n`;\n\nlet loginSVG = `\n<svg\n   viewBox=\"0 0 100 100\"\n   y=\"0px\"\n   x=\"0px\"\n   id=\"icon\"\n   role=\"img\"\n   version=\"1.1\">\n<g\n   id=\"g6\">\n    <path\n   style=\"stroke-width:1.33417916\"\n   id=\"path2\"\n   d=\"m 42.943908,38.894934 5.885859,6.967885 H 5.4215537 c -1.8393311,0 -3.4334181,1.741972 -3.4334181,4.064599 0,2.322628 1.4714649,4.064599 3.4334181,4.064599 H 48.829767 L 42.943908,60.9599 c -1.348843,1.596808 -1.348843,4.064599 0,5.661406 1.348843,1.596808 3.433418,1.596808 4.782261,0 L 61.705085,49.927418 47.726169,33.378693 c -1.348843,-1.596806 -3.433418,-1.596806 -4.782261,0 -1.348843,1.596807 -1.348843,4.064599 0,5.516241 z\" />\n    <path\n   id=\"path4\"\n   d=\"m 50,2.3007812 c -18.777325,0 -35.049449,10.9124408 -42.8261719,26.7246098 H 13.390625 C 20.672112,16.348362 34.336876,7.8007812 50,7.8007812 73.3,7.8007812 92.300781,26.7 92.300781,50 92.300781,73.3 73.3,92.300781 50,92.300781 c -15.673389,0 -29.345175,-8.60579 -36.623047,-21.326172 H 7.1640625 C 14.942553,86.8272 31.242598,97.800781 50.099609,97.800781 76.399609,97.800781 97.900391,76.4 97.900391,50 97.800391,23.7 76.3,2.3007812 50,2.3007812 Z\" />\n</g>\n</svg>\n`;\n\nexport class LoginButton extends ScopedElementsMixin(AdapterLitElement) {\n    constructor() {\n        super();\n        this._i18n = createInstance();\n        this.lang = this._i18n.language;\n        this.auth = {};\n    }\n\n    static get scopedElements() {\n        return {\n            'dbp-mini-spinner': MiniSpinner,\n        };\n    }\n\n    static get properties() {\n        return {\n            lang: {type: String},\n            auth: {type: Object},\n        };\n    }\n\n    connectedCallback() {\n        super.connectedCallback();\n    }\n\n    disconnectedCallback() {\n        super.disconnectedCallback();\n    }\n\n    _onLoginClicked(e) {\n        this.sendSetPropertyEvent('requested-login-status', LoginStatus.LOGGED_IN);\n        e.preventDefault();\n    }\n\n    _onLogoutClicked(e) {\n        this.sendSetPropertyEvent('requested-login-status', LoginStatus.LOGGED_OUT);\n        e.preventDefault();\n    }\n\n    update(changedProperties) {\n        changedProperties.forEach((oldValue, propName) => {\n            if (propName === 'lang') {\n                this._i18n.changeLanguage(this.lang);\n            }\n        });\n\n        super.update(changedProperties);\n    }\n\n    static get styles() {\n        // language=css\n        return [\n            commonStyles.getThemeCSS(),\n            css`\n                :host {\n                    display: inline-block;\n                }\n\n                a {\n                    color: var(--dbp-content);\n                    fill: var(--dbp-content);\n                    cursor: pointer;\n                    text-decoration: none;\n                }\n\n                .login-box {\n                    display: flex;\n                    align-items: center;\n                    padding: 0.3em 0.4em;\n                    transition: background-color 0.15s, color 0.15s;\n                }\n\n                .login-box svg,\n                .icon {\n                    width: 1.1em;\n                    height: 1.1em;\n                }\n\n                .login-box svg,\n                .spinner {\n                    display: flex;\n                }\n\n                .login-box:hover svg path {\n                    fill: var(--dbp-hover-color);\n                }\n\n                .login-box:hover {\n                    color: var(--dbp-hover-color, var(--dbp-content));\n                    background-color: var(--dbp-hover-background-color);\n                    cursor: pointer;\n                    transition: none;\n                }\n\n                .login-box .label {\n                    padding-left: 0.2em;\n                }\n            `,\n        ];\n    }\n\n    render() {\n        let i18n = this._i18n;\n        if (this.auth['login-status'] === LoginStatus.LOGGING_IN) {\n            // try to keep the layout the same to avoid layout shifts\n            return html`\n                <a href=\"#\">\n                    <div class=\"login-box login-button\" aria-busy=\"true\">\n                        <div class=\"icon\" aria-hidden=\"false\" aria-label=\"${i18n.t('logging-in')}\">\n                            <dbp-mini-spinner class=\"spinner\"></dbp-mini-spinner>\n                        </div>\n                        <div class=\"label\" aria-hidden=\"true\">&#8203;</div>\n                    </div>\n                </a>\n            `;\n        } else if (this.auth['login-status'] === LoginStatus.LOGGED_IN) {\n            return html`\n                <a href=\"#\" @click=\"${this._onLogoutClicked}\">\n                    <div class=\"login-box login-button\">\n                        <div class=\"icon\" aria-hidden=\"true\">${unsafeHTML(logoutSVG)}</div>\n                        <div class=\"label\">${i18n.t('logout')}</div>\n                    </div>\n                </a>\n            `;\n        } else {\n            return html`\n                <a href=\"#\" @click=\"${this._onLoginClicked}\">\n                    <div class=\"login-box login-button\">\n                        <div class=\"icon\" aria-hidden=\"true\">${unsafeHTML(loginSVG)}</div>\n                        <div class=\"label\">${i18n.t('login')}</div>\n                    </div>\n                </a>\n            `;\n        }\n    }\n}\n","import '@webcomponents/scoped-custom-element-registry';\nimport {html} from 'lit';\nimport {ScopedElementsMixin} from '@open-wc/scoped-elements';\nimport {AuthKeycloak} from '@dbp-toolkit/auth/src/auth-keycloak';\nimport {LoginButton} from '@dbp-toolkit/auth/src/login-button';\nimport * as commonUtils from '@dbp-toolkit/common/utils';\nimport {AdapterLitElement} from \"@dbp-toolkit/common\";\n\nexport class ApiPlatformAuth extends ScopedElementsMixin(AdapterLitElement) {\n    constructor() {\n        super();\n        this.auth = {};\n        this.lang = 'en';\n        this.url = '';\n        this.realm = '';\n        this.clientId = '';\n        this.silentCheckSsoRedirectUri = '';\n        this.entryPointUrl = '';\n    }\n\n    static get scopedElements() {\n        return {\n          'dbp-auth-keycloak': AuthKeycloak,\n          'dbp-login-button': LoginButton,\n        };\n    }\n\n    static get properties() {\n        return {\n            ...super.properties,\n            auth: { type: Object },\n            lang: { type: String },\n            url: { type: String },\n            realm: { type: String },\n            clientId: { type: String, attribute: 'client-id' },\n            silentCheckSsoRedirectUri: { type: String, attribute: 'silent-check-sso-redirect-uri' },\n            entryPointUrl: { type: String, attribute: 'entry-point-url' },\n        };\n    }\n\n    update(changedProperties) {\n        changedProperties.forEach((oldValue, propName) => {\n            if (propName === \"auth\") {\n                const event = new CustomEvent(\"api-platform-auth-update\", { \"detail\": this.auth, bubbles: true, composed: true });\n                window.dispatchEvent(event);\n            }\n        });\n\n        super.update(changedProperties);\n    }\n\n    render() {\n        return html`\n            <dbp-auth-keycloak subscribe=\"requested-login-status\"\n                               lang=\"${this.lang}\"\n                               entry-point-url=\"${this.entryPointUrl}\"\n                               silent-check-sso-redirect-uri=\"${this.silentCheckSsoRedirectUri}\"\n                               url=\"${this.url}\"\n                               realm=\"${this.realm}\"\n                               client-id=\"${this.clientId}\"\n                               try-login></dbp-auth-keycloak>\n            <dbp-login-button subscribe=\"auth\" lang=\"${this.lang}\"></dbp-login-button>\n        `;\n    }\n}\n\ncommonUtils.defineCustomElement('api-platform-auth', ApiPlatformAuth);\n","/**\n * Parses the base url from an url\n *\n * @param url\n * @returns {string}\n */\nexport const parseBaseUrl = (url) => {\n    const pathArray = url.split('/');\n    const protocol = pathArray[0];\n    const host = pathArray[2];\n    return protocol + '//' + host;\n};\n\n/**\n * Converts a string list to a data array for Select2\n *\n * @param list\n * @returns {Array}\n */\nexport const stringListToSelect2DataArray = (list) => {\n    let data = [];\n    list.forEach((item) => {\n        data.push({id: item, text: item});\n    });\n    return data;\n};\n\n/**\n * Does generic Base64 Encoding with support for 16-bit encoded strings\n *\n * @see https://www.base64encoder.io/javascript/\n * @param str\n * @returns {string}\n */\nexport const base64EncodeUnicode = (str) => {\n    // First we escape the string using encodeURIComponent to get the UTF-8 encoding of the characters,\n    // then we convert the percent encodings into raw bytes, and finally feed it to btoa() function.\n    const utf8Bytes = encodeURIComponent(str).replace(/%([0-9A-F]{2})/g, function (match, p1) {\n        return String.fromCharCode('0x' + p1);\n    });\n\n    return btoa(utf8Bytes);\n};\n\n/**\n * Like customElements.define() but tries to display an error in case the browser doesn't\n * support everything we need.\n *\n * Returns false in case define failed, true otherwise.\n *\n * @returns {boolean}\n */\n\n/**\n * Same as customElements.define() but with some additional error handling.\n *\n * In case the same component (with the exact same implementation) is already\n * defined then this will do nothing instead of erroring out.\n *\n * In case the browser doesn't support custom elements it will fill all those\n * custom tags with an error message so the user gets some feedback instead of\n * just an empty page.\n *\n * @param {string} name\n * @param {Function} constructor\n * @param {object} options\n */\nexport const defineCustomElement = (name, constructor, options) => {\n    // In case the constructor is already defined just do nothing\n    if (customElements.get(name) === constructor) {\n        return true;\n    }\n    // Checks taken from https://github.com/webcomponents/webcomponentsjs/blob/master/webcomponents-loader.js\n    if (\n        !(\n            'attachShadow' in Element.prototype &&\n            'getRootNode' in Element.prototype &&\n            window.customElements\n        )\n    ) {\n        var elements = document.getElementsByTagName(name);\n        for (var i = 0; i < elements.length; i++) {\n            elements[i].innerHTML =\n                \"<span style='border: 1px solid red; font-size: 0.8em; \" +\n                \"opacity: 0.5; padding: 0.2em;'>☹ Your browser is not supported ☹</span>\";\n        }\n        return false;\n    }\n    customElements.define(name, constructor, options);\n    return true;\n};\n\n/**\n * Creates a random id\n *\n * taken from: https://stackoverflow.com/a/1349426/1581487\n *\n * @param length\n * @returns {string}\n */\nexport const makeId = (length) => {\n    let result = '';\n    const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    const charactersLength = characters.length;\n    for (let i = 0; i < length; i++) {\n        result += characters.charAt(Math.floor(Math.random() * charactersLength));\n    }\n\n    return result;\n};\n\n/**\n * Pads a number with a 0, so it has two digits\n *\n * @param n\n * @returns {string}\n */\nexport const pad10 = (n) => {\n    return n < 10 ? '0' + n : n;\n};\n\n/**\n * Converts a date object or string to a local iso datetime with stripped seconds and timezone for the datetime-local input\n *\n * @param date\n * @returns {string}\n */\nexport const dateToStrippedIsoDT = (date) => {\n    if (!(date instanceof Date)) {\n        date = new Date(date);\n    }\n\n    return `${date.getFullYear()}-${pad10(date.getMonth() + 1)}-${pad10(date.getDate())}T${pad10(\n        date.getHours()\n    )}:${pad10(date.getMinutes())}`;\n};\n\n/**\n * Converts a date object or string to a local date string the date input\n *\n * @param date\n * @returns {string}\n */\nexport const dateToInputDateString = (date) => {\n    if (!(date instanceof Date)) {\n        date = new Date(date);\n    }\n\n    return `${date.getFullYear()}-${pad10(date.getMonth() + 1)}-${pad10(date.getDate())}`;\n};\n\n/**\n * Converts a date object or string to a local time string the time input\n *\n * @param date\n * @returns {string}\n */\nexport const dateToInputTimeString = (date) => {\n    if (!(date instanceof Date)) {\n        date = new Date(date);\n    }\n\n    return `${pad10(date.getHours())}:${pad10(date.getMinutes())}`;\n};\n\n/**\n * Get an absolute path for assets given a relative path to the js bundle.\n *\n * @param {string} pkg The package which provides the asset\n * @param {string} path The relative path based on the js bundle path\n */\nexport const getAssetURL = (pkg, path) => {\n    let fullPath = '';\n    if (path === undefined) {\n        // backwards compat: in case only one parameter is passed\n        // assume it is a full path\n        fullPath = pkg;\n    } else {\n        fullPath = 'local/' + pkg + '/' + path;\n    }\n    return new URL(fullPath, new URL('..', import.meta.url).href).href;\n};\n\n/**\n * Poll <fn> every <interval> ms until <timeout> ms\n *\n * @param fn\n * @param timeout\n * @param interval\n */\nexport const pollFunc = (fn, timeout, interval) => {\n    var startTime = new Date().getTime();\n    interval = interval || 1000;\n\n    (function p() {\n        // don't retry if we took longer than timeout ms\n        if (new Date().getTime() - startTime > timeout) {\n            return;\n        }\n\n        // retry until fn() returns true\n        if (!fn()) {\n            setTimeout(p, interval);\n        }\n    })();\n};\n\n/**\n * Doing an async foreach for non-linear integer keys\n *\n * @param array\n * @param callback\n * @returns {Promise<void>}\n */\nexport async function asyncObjectForEach(array, callback) {\n    const keys = Object.keys(array);\n\n    for (let index = 0; index < keys.length; index++) {\n        const key = keys[index];\n        await callback(array[key], key, array);\n    }\n}\n\n/**\n * Doing an async foreach for non-linear integer keys with a copy of the array\n *\n * @param array\n * @param callback\n * @returns {Promise<void>}\n */\nexport async function asyncCopyObjectForEach(array, callback) {\n    const arrayCopy = {...array};\n    const keys = Object.keys(arrayCopy);\n\n    for (let index = 0; index < keys.length; index++) {\n        const key = keys[index];\n        await callback(arrayCopy[key], key, arrayCopy);\n    }\n}\n\n/**\n * Doing an async foreach for linear integer keys\n *\n * @param array\n * @param callback\n * @returns {Promise<void>}\n */\nexport async function asyncArrayForEach(array, callback) {\n    for (let index = 0; index < array.length; index++) {\n        await callback(array[index], index, array);\n    }\n}\n\n/**\n * Attempts to determine the mime-type of a file or blob\n *\n * @param file\n * @returns {Promise<string>}\n */\nexport async function getMimeTypeOfFile(file) {\n    const getMimeType = (signature) => {\n        switch (signature) {\n            case '89504E47':\n                return 'image/png';\n            case '47494638':\n                return 'image/gif';\n            case '25504446':\n                return 'application/pdf';\n            case 'FFD8FFDB':\n            case 'FFD8FFE0':\n            case 'FFD8FFE1':\n                return 'image/jpeg';\n            case '504B0304':\n                return 'application/zip';\n            default:\n                return 'Unknown filetype';\n        }\n    };\n\n    return await new Promise((resolve) => {\n        let fileReader = new FileReader();\n\n        fileReader.onloadend = function (evt) {\n            if (evt.target.readyState === FileReader.DONE) {\n                const uint = new Uint8Array(evt.target.result);\n                let bytes = [];\n\n                uint.forEach((byte) => {\n                    bytes.push(byte.toString(16));\n                });\n\n                const hex = bytes.join('').toUpperCase();\n                const mimeType = getMimeType(hex);\n\n                resolve(mimeType);\n            }\n        };\n\n        fileReader.readAsArrayBuffer(file.slice(0, 4));\n    });\n}\n\n/**\n * Get the basename of a filename\n *\n * @param str\n * @returns {string}\n */\nexport const getBaseName = (str) => {\n    let base = String(str).substring(str.lastIndexOf('/') + 1);\n\n    if (base.lastIndexOf('.') !== -1) {\n        base = base.substring(0, base.lastIndexOf('.'));\n    }\n\n    return base;\n};\n\n/**\n * Get the file extension of a filename\n *\n * @param str\n * @returns {string}\n */\nexport const getFileExtension = (str) => {\n    return str.split('.').pop();\n};\n\n/**\n * Queries for \"selector\" in \"root\" in the slot html\n *\n * @param root\n * @param selector\n * @returns {*[]}\n */\nexport const querySlotted = (root, selector) => {\n    let slots = root.querySelectorAll('slot');\n    let matched = [];\n\n    slots.forEach((slot) => {\n        matched = matched.concat(\n            slot.assignedElements().filter((el) => {\n                return el.matches(selector);\n            })\n        );\n    });\n\n    return matched;\n};\n"],"names":["h","b","c","length","done","value","l","Symbol","iterator","call","next","m","Array","a","push","t","n","Object","create","prototype","q","globalThis","window","self","global","Math","Error","p","this","r","Reflect","construct","d","e","setPrototypeOf","Function","apply","u","w","__proto__","TypeError","x","ShadowRoot","createElement","L","y","HTMLElement","A","customElements","define","B","get","C","D","WeakMap","E","F","G","CustomElementRegistry","Map","o","i","toLowerCase","j","DOMException","attributeChangedCallback","Set","observedAttributes","H","g","connectedCallback","disconnectedCallback","adoptedCallback","formAssociated","formAssociatedCallback","formDisabledCallback","formResetCallback","formStateRestoreCallback","set","I","s","delete","J","resolve","upgrade","K","arguments","pop","whenDefined","Promise","promise","add","constructor","getRootNode","document","defineProperty","configurable","enumerable","size","setAttribute","f","k","has","z","getAttribute","removeAttribute","toggleAttribute","M","getPrototypeOf","forEach","hasAttribute","isConnected","N","Element","attachShadow","O","P","getOwnPropertyDescriptor","assign","writable","ElementInternals","setFormValue","Q","R","attachInternals","concat","RadioNodeList","S","T","U","defineProperties","V","find","checked","HTMLFormControlsCollection","namedItem","W","HTMLFormElement","ShadyCSS","nativeShadow","Document","CSSStyleSheet","n$2","_$cssResult$","cssText","styleSheet","replaceSync","toString","reduce","adoptedStyleSheets","map","litNonce","textContent","appendChild","cssRules","is","getOwnPropertyNames","getOwnPropertySymbols","trustedTypes","emptyScript","reactiveElementPolyfillSupport","toAttribute","Boolean","JSON","stringify","fromAttribute","Number","parse","attribute","type","String","converter","reflect","hasChanged","metadata","litPropertyMetadata","addInitializer","_$Ei","finalize","_$Eh","keys","createProperty","state","elementProperties","noAccessor","getPropertyDescriptor","requestUpdate","getPropertyOptions","hasOwnProperty","finalized","properties","_$Eu","elementStyles","finalizeStyles","styles","isArray","flat","reverse","unshift","super","_$Ep","isUpdatePending","hasUpdated","_$Em","_$Ev","_$ES","enableUpdating","_$AL","_$E_","addController","_$EO","renderRoot","hostConnected","removeController","createRenderRoot","shadowRoot","shadowRootOptions","hostDisconnected","_$AK","_$EC","_$ET","_$Ej","reject","scheduleUpdate","performUpdate","wrapped","shouldUpdate","willUpdate","hostUpdate","update","_$EU","_$AE","hostUpdated","firstUpdated","updated","updateComplete","getUpdateComplete","mode","ReactiveElement","reactiveElementVersions","createPolicy","createHTML","random","toFixed","slice","createComment","v","_","RegExp","$","_$litType$","strings","values","for","createTreeWalker","lastIndex","exec","test","startsWith","parts","el","currentNode","content","firstChild","replaceWith","childNodes","nextNode","nodeType","hasAttributes","getAttributeNames","endsWith","split","index","name","ctor","tagName","append","data","indexOf","innerHTML","_$Co","_$Cl","_$litDirective$","_$AO","_$AT","_$AS","_$AV","_$AN","_$AD","_$AM","parentNode","_$AU","creationScope","importNode","nextSibling","_$AI","_$Cv","_$AH","_$AA","_$AB","options","startNode","endNode","_$AR","insertBefore","createTextNode","_$AC","_$AP","remove","setConnected","element","fill","capture","once","passive","removeEventListener","addEventListener","handleEvent","host","litHtmlPolyfillSupport","litHtmlVersions","renderOptions","_$Do","renderBefore","render","_$litPart$","_$litElement$","litElementHydrateSupport","LitElement","litElementPolyfillSupport","litElementVersions","appliedClassMixins","version","versions","includes","supportsScopedRegistry","ScopedElementsMixin","mixin","superclass","scopedElements","scopedElementsVersion","__shadowRootOptions","__elementStyles","_args","undefined","registry","__registry","klass","entries","defineScopedElement","createdRoot","adoptStyles","createScopedElement","registeredClass","console","error","join","getScopedTagName","superClass","wasMixinPreviouslyApplied","mixedClass","isString","obj","defer","res","rej","makeString","object","lastOfPathSeparatorRegExp","cleanKey","key","replace","canNotTraverseDeeper","getLastOfPath","path","Empty","stack","stackIndex","setPath","newValue","last","getPath","deepExtend","target","source","overwrite","prop","regexEscape","str","_entityMap","escape","chars","looksLikeObjectPathRegExpCache","capacity","regExpMap","regExpQueue","getRegExp","pattern","regExpFromCache","regExpNew","shift","deepFind","keySeparator","tokens","current","nextPath","getCleanedCode","code","consoleLogger","log","args","output","warn","baseLogger","Logger","concreteLogger","init","prefix","logger","debug","_len","_key","forward","_len2","_key2","_len3","_key3","deprecate","_len4","_key4","lvl","debugOnly","moduleName","clone","EventEmitter","observers","on","events","listener","event","numListeners","off","emit","from","_ref","observer","numTimesAdded","_ref2","ResourceStore","ns","defaultNS","ignoreJSONStructure","addNamespaces","removeNamespaces","splice","getResource","lng","result","addResource","silent","addResources","resources","addResourceBundle","deep","skipCopy","pack","removeResourceBundle","hasResourceBundle","getResourceBundle","compatibilityAPI","getDataByLanguage","hasLanguageSomeTranslations","toJSON","postProcessor","processors","addPostProcessor","module","handle","translator","processor","process","checkedLoadedFor","Translator","services","copy","changeLanguage","language","exists","interpolation","resolved","extractFromKey","nsSeparator","namespaces","wouldCheckForNsInKey","seemsNaturalLanguage","userDefinedKeySeparator","userDefinedNsSeparator","possibleChars","filter","matched","ki","substring","looksLikeObjectPath","match","interpolator","nestingRegexp","translate","lastKey","overloadTranslationOptionHandler","returnDetails","namespace","appendNamespaceToCIMode","usedKey","exactUsedKey","usedLng","usedNS","usedParams","getUsedParamsDetails","resUsedKey","resExactUsedKey","resType","joinArrays","handleAsObjectInI18nFormat","i18nFormat","handleAsObject","extendTranslation","usedDefault","needsPluralHandling","count","hasDefaultValue","defaultValueSuffix","pluralResolver","getSuffix","defaultValueSuffixOrdinalFallback","ordinal","needsZeroSuffixLookup","shouldUseIntlApi","defaultValue","pluralSeparator","isValidLookup","resForMissing","missingKeyNoValueFallbackToKey","updateMissing","fk","lngs","fallbackLngs","languageUtils","getFallbackCodes","fallbackLng","saveMissingTo","toResolveHierarchy","send","specificDefaultValue","defaultForMissing","missingKeyHandler","backendConnector","saveMissing","saveMissingPlurals","suffixes","getSuffixes","suffix","appendNamespaceToMissingKey","parseMissingKeyHandler","returnObjects","returnedObjectHandler","resTypeIsArray","newKeyToUse","deepKey","_this","defaultVariables","skipInterpolation","skipOnVariables","nestBef","nb","interpolate","na","nest","context","reset","postProcess","postProcessorNames","applyPostProcessor","postProcessPassResolved","i18nResolved","found","extracted","fallbackNS","needsContextHandling","codes","utils","hasLoadedNamespace","finalKeys","addLookupKeys","pluralSuffix","zeroSuffix","ordinalPrefix","contextKey","contextSeparator","possibleKey","returnNull","returnEmptyString","resourceStore","optionsKeys","useOptionsReplaceForData","option","capitalize","string","charAt","toUpperCase","LanguageUtil","supportedLngs","getScriptPartFromCode","formatLanguageCode","getLanguagePartFromCode","Intl","getCanonicalLocales","formattedCode","lowerCaseLng","specialCases","part","cleanCode","isSupportedCode","load","nonExplicitSupportedLngs","getBestMatchFromCodes","cleanedLng","lngOnly","supportedLng","fallbacks","default","fallbackCode","fallbackCodes","addCode","fc","sets","nr","_rulesPluralsTypes","nonIntlVersions","intlVersions","suffixesOrder","zero","one","two","few","many","other","PluralResolver","compatibilityJSON","PluralRules","rules","numbers","plurals","createRules","pluralRulesCache","addRule","clearCache","getRule","cleanedCode","cacheKey","rule","err","needsPlural","resolvedOptions","pluralCategories","getPluralFormsOfKey","sort","pluralCategory1","pluralCategory2","pluralCategory","prepend","number","select","getSuffixRetroCompatible","idx","noAbs","abs","simplifyPluralSuffix","returnSuffix","deepFindWithDefaults","defaultData","getPathWithDefaults","regexSafe","val","Interpolator","format","escapeValue","escape$1","useRawValueToEscape","prefixEscaped","suffixEscaped","formatSeparator","unescapeSuffix","unescapePrefix","nestingPrefix","nestingPrefixEscaped","nestingSuffix","nestingSuffixEscaped","nestingOptionsSeparator","maxReplaces","alwaysFormat","resetRegExp","getOrResetRegExp","existingRegExp","regexp","regexpUnescape","replaces","handleFormat","interpolationkey","trim","missingInterpolationHandler","regex","safeValue","todo","matchedVar","temp","clonedOptions","handleHasOptions","inheritedOptions","sep","optionsString","matchedSingleQuotes","matchedDoubleQuotes","formatters","doReduce","elem","createCachedFormatter","fn","cache","optForCache","formatParams","formatter","Formatter","formats","opt","NumberFormat","currency","style","datetime","DateTimeFormat","relativetime","RelativeTimeFormat","range","list","ListFormat","addCached","findIndex","mem","formatName","formatOptions","formatStr","optStr","rest","trimmedKey","isNaN","parseInt","parseFormatStr","formatted","valOptions","locale","Connector","backend","store","waitingReads","maxParallelReads","readingCalls","maxRetries","retryTimeout","queue","queueLoad","languages","callback","toLoad","pending","toLoadLanguages","toLoadNamespaces","hasAllNamespaces","reload","pendingCount","loaded","errors","pushPath","removePending","loadedKeys","read","fcName","tried","wait","resolver","setTimeout","bind","then","catch","prepareLoading","loadOne","fallbackValue","isUpdate","clb","opts","initImmediate","preload","partialBundledLanguages","ret","tDescription","transformOptions","noop","I18n","inst","modules","external","isInitialized","isClone","isInitializing","defOpts","createClassOnDemand","ClassOrObject","lu","languageDetector","detection","deferred","finish","initializedStoreOnce","loadResources","usedCallback","resolvedLanguage","setResolvedLanguage","reloadResources","use","li","lngInLngs","_this2","isLanguageChangingTo","setLngProps","setLng","cacheUserLanguage","async","detect","getFixedT","keyPrefix","_this3","fixedT","resultKey","setDefaultNamespace","lastLng","loadNotPending","loadState","precheck","preResult","loadNamespaces","loadLanguages","preloaded","newLngs","dir","createInstance","cloneInstance","forkResourceStore","mergedOptions","instance","fallback","overrideNamespace","getOverrideNamespace","i18n","i18next","assert","_createInstance","en","de","assertType","condition","message","anyToString","Global","Warning","_a","currentWarnHandler","_b","InitEventWasCalledWhileDispatching","FalsyWasAssignedToCancelBubble","TruthyWasAssignedToReturnValue","NonCancelableEventWasCanceled","CanceledInPassiveListener","EventListenerWasDuplicated","OptionWasIgnored","InvalidEventListener","Event","NONE","CAPTURING_PHASE","AT_TARGET","BUBBLING_PHASE","eventInitDict","internalDataMap","bubbles","cancelable","composed","currentTarget","stopPropagationFlag","stopImmediatePropagationFlag","canceledFlag","inPassiveListenerFlag","dispatchFlag","timeStamp","Date","now","srcElement","composedPath","eventPhase","stopPropagation","cancelBubble","stopImmediatePropagation","returnValue","setCancelFlag","preventDefault","defaultPrevented","isTrusted","initEvent","retv","ErrorCodeMap","INDEX_SIZE_ERR","DOMSTRING_SIZE_ERR","HIERARCHY_REQUEST_ERR","WRONG_DOCUMENT_ERR","INVALID_CHARACTER_ERR","NO_DATA_ALLOWED_ERR","NO_MODIFICATION_ALLOWED_ERR","NOT_FOUND_ERR","NOT_SUPPORTED_ERR","INUSE_ATTRIBUTE_ERR","INVALID_STATE_ERR","SYNTAX_ERR","INVALID_MODIFICATION_ERR","NAMESPACE_ERR","INVALID_ACCESS_ERR","VALIDATION_ERR","TYPE_MISMATCH_ERR","SECURITY_ERR","NETWORK_ERR","ABORT_ERR","URL_MISMATCH_ERR","QUOTA_EXCEEDED_ERR","TIMEOUT_ERR","INVALID_NODE_TYPE_ERR","DATA_CLONE_ERR","defineErrorCodeProperties","EventWrapper","wrap","getWrapperClassOf","internalDataMap$1","original","defineRedirectDescriptor","$$1","wrapperClassCache","originalEvent","wrapper","BaseEventWrapper","originalPrototype","CustomEventWrapper","defineWrapper","isCapture","flags","isPassive","isOnce","isRemoved","invokeCallback","thrownError","maybeError","dispatchEvent","ErrorEvent","reportError","findIndexOfListener","listeners","removeListener","removeListenerAt","disableCow","setRemoved","signal","signalListener","cow","EventTarget","internalDataMap$2","type0","callback0","options0","listenerMap","$$2","assertCallback","normalizeAddOptions","aborted","attrCallback","attrListener","ensureListenerList","createListener","addListener","warnDuplicate","normalizeOptions","eventData","msg","captureStackTrace","keys$1","KeycloakWrapper","baseURL","realm","clientId","silentCheckSsoUri","checkLoginIframe","idpHint","_baseURL","_realm","_clientId","_keycloak","_initPromise","_silentCheckSsoUri","_checkLoginIframe","_idpHint","_checkId","MIN_VALIDITY","CHECK_INTERVAL","DEBUG","_onVisibilityChanged","close","visibilityState","authenticated","_checkTokeHasExpired","_onChanged","CustomEvent","detail","_onReady","_onTokenExpired","refreshed","updateToken","minValidity","_onAuthSuccess","clearInterval","setInterval","_onAuthLogout","_init","Keycloak","import","url","onTokenExpired","onAuthRefreshSuccess","onAuthRefreshError","onAuthLogout","onAuthSuccess","onAuthError","onReady","promiseType","pkceMethod","urlOrPath","URL","href","location","ensureURL","ms","timeout","id","clearTimeout","race","promiseTimeout","_ensureInit","isLoggingIn","search","login","scope","kcLocale","tryLogin","localLogout","clearToken","logout","LoginStatus","freeze","UNKNOWN","LOGGING_IN","LOGGED_IN","LOGGING_OUT","LOGGED_OUT","MiniSpinner","text","css","textHtml","html","getThemeCSS","hash","AdapterLitElement","connected","deferSubscribe","deferUnSubscribe","reflectAttribute","subscribe","unsubscribe","callbackStore","propertyStore","lastProperties","getProperty","getPropertyByAttributeName","findPropertyName","setPropertyByAttributeName","setProperty","hasPropertyChanged","hasProperty","unSubscribeProviderFor","subscribeProviderFor","that","providerRoot","sender","item","MutationObserver","mutationsList","mutation","attributeName","observe","attributes","childList","subtree","attrs","pair","local","resultName","propertyName","oldValue","sendSetPropertyEvent","sendToSelf","parentElement","_$Ct","_$Ci","it","directiveName","_t","raw","resultType","supportCustomEvent","safeDispatchEvent","check","findNearestDialog","localName","safeBlur","activeElement","blur","body","inNodeList","nodeList","node","isFormMethodDialog","findFocusableElementWithin","hostElement","query","querySelector","elems","querySelectorAll","contains","findFormSubmitter","submitter","form","dialogPolyfill","formSubmitter","maybeHandleSubmit","imagemapUseValue","dialog","dialogPolyfillInfo","dialog_","replacedStyleTop_","openAsModal_","show","showModal","maybeHideModal","attributeFilter","removed","cb","downgradeModal","delayModel","ev","cand","substr","setOpen","backdrop_","className","backdropMouseEvent_","createEvent","initCustomEvent","zIndex","top","removeChild","dm","removeDialog","focus","fake","tabIndex","redirectedEvent","initMouseEvent","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","focus_","updateZIndex","dialogZ","backdropZ","open","pushDialog","getComputedStyle","invalid","ok","opacity","position","webkitOverflowScrolling","createsStackingContext","needsCentering","reposition","opt_returnValue","closeEvent","scrollTop","documentElement","topValue","innerHeight","offsetHeight","max","styleSheets","selectedNodes","selectorText","cssTop","getPropertyValue","cssBottom","bottom","isInlinePositionSetByStylesheet","HTMLDialogElement","forceRegisterDialog","pendingDialogStack","checkDOM","checkDOM_","overlay","forwardTab_","handleKey_","handleFocus_","zIndexLow_","zIndexHigh_","mo_","records","rec","removedNodes","DialogManager","blockDocument","unblockDocument","disconnect","updateStacking","dpi","containedByTopDialog_","candidate","compareDocumentPosition","Node","DOCUMENT_POSITION_PRECEDING","keyCode","cancelEvent","allowed","testForm","method","methodDescriptor","realGet","realSet","offsetX","offsetY","nativeFormSubmit","submit","AuthKeycloak","forceLogin","token","subject","entryPointUrl","_user","_userId","_authenticated","_loginStatus","requestedLoginStatus","_i18n","lang","keycloakUrl","silentCheckSsoRedirectUri","noCheckLoginIframe","_onKCChanged","playwright","changedProperties","propName","_kcwrapper","_setLoginStatus","_fetchUser","userId","apiUrl","addedURL","encodeURIComponent","response","fetch","headers","Authorization","roles","json","kc","tokenChanged","idTokenParsed","preferred_username","userChanged","user","sendSetPropertyEvents","auth","person","Cypress","DBPAuth","status","force","alert","summary","handleLogin","LoginButton","_onLoginClicked","_onLogoutClicked","commonStyles.getThemeCSS","unsafeHTML","ApiPlatformAuth","elements","getElementsByTagName","commonUtils.defineCustomElement"],"mappings":"+JAAA,WAca,SAASA,EAAEC,GAAG,IAAIC,EAAE,EAAE,OAAO,WAAW,OAAOA,EAAED,EAAEE,OAAO,CAACC,MAAK,EAAGC,MAAMJ,EAAEC,MAAM,CAACE,MAAK,EAAG,CAAC,CAAC,SAASE,EAAEL,GAAG,IAAIC,EAAE,oBAAoBK,QAAQA,OAAOC,UAAUP,EAAEM,OAAOC,UAAU,OAAON,EAAEA,EAAEO,KAAKR,GAAG,CAACS,KAAKV,EAAEC,GAAG,CAAC,SAASU,EAAEV,GAAG,KAAKA,aAAaW,OAAO,CAACX,EAAEK,EAAEL,GAAG,IAAI,IAAIC,EAAEW,EAAE,KAAKX,EAAED,EAAES,QAAQN,MAAMS,EAAEC,KAAKZ,EAAEG,OAAOJ,EAAEY,CAAC,CAAC,OAAOZ,CAAC,CAAC,IAE6Gc,EAFzGC,EAAE,mBAAmBC,OAAOC,OAAOD,OAAOC,OAAO,SAASjB,GAAG,SAASC,KAAmB,OAAdA,EAAEiB,UAAUlB,EAAS,IAAIC,CAAC,EAEhbkB,EADJ,SAAWnB,GAAGA,EAAE,CAAC,iBAAiBoB,YAAYA,WAAWpB,EAAE,iBAAiBqB,QAAQA,OAAO,iBAAiBC,MAAMA,KAAK,iBAAiBC,GAAQA,GAAQ,IAAI,IAAItB,EAAE,EAAEA,EAAED,EAAEE,SAASD,EAAE,CAAC,IAAIW,EAAEZ,EAAEC,GAAG,GAAGW,GAAGA,EAAEY,MAAMA,KAAK,OAAOZ,CAAC,CAAC,MAAMa,MAAM,4BAA6B,CAC9PC,CAAEC,MAAMC,EAAE,WAA2G,GAAG,oBAAoBC,SAASA,QAAQC,UAAU,CAAC,GAAnJ,WAAa,SAASlB,KAAgD,OAArCiB,QAAQC,UAAUlB,EAAE,IAAG,eAAqB,IAAIA,aAAaA,CAAC,CAAuDZ,GAAI,OAAO6B,QAAQC,UAAU,IAAI7B,EAAE4B,QAAQC,UAAU,OAAO,SAASlB,EAAEmB,EAAEC,GAAqD,OAAlDpB,EAAEX,EAAEW,EAAEmB,GAAGC,GAAGH,QAAQI,eAAerB,EAAEoB,EAAEd,WAAkBN,CAAC,CAAC,CAAC,OAAO,SAASA,EAAEmB,EAAEC,GAAwD,YAArD,IAASA,IAAIA,EAAEpB,GAAGoB,EAAEjB,EAAEiB,EAAEd,WAAWF,OAAOE,WAAkBgB,SAAShB,UAAUiB,MAAM3B,KAAKI,EAAEoB,EAAED,IAAIC,CAAC,CAAC,CAApa,GAChB,GAAG,mBAAmBhB,OAAOiB,eAAenB,EAAEE,OAAOiB,mBAAmB,CAAC,IAAIG,EAAExB,EAAE,CAAC,IAAayB,EAAE,CAAA,EAAG,IAAIA,EAAEC,UAAlB,CAAC1B,GAAE,GAA2BwB,EAAEC,EAAEzB,EAAE,MAAMA,CAAC,CAAC,MAAMZ,GAAE,CAAEoC,GAAE,CAAE,CAACtB,EAAEsB,EAAE,SAASpC,EAAEC,GAAiB,GAAdD,EAAEsC,UAAUrC,EAAKD,EAAEsC,YAAYrC,EAAE,MAAM,IAAIsC,UAAUvC,EAAE,sBAAsB,OAAOA,CAAC,EAAE,IAAI,CAAC,IAAIwC,EAAE1B,EACvQ,IAAI2B,WAAWvB,UAAUwB,cAAc,CAAC,IAImDC,EAJ/CC,EAAEvB,OAAOwB,YAAYC,EAAEzB,OAAO0B,eAAeC,OAAOC,EAAE5B,OAAO0B,eAAeG,IAAIC,EAAE9B,OAAO0B,eAAeK,EAAE,IAAIC,QAAQC,EAAE,IAAID,QAAQE,EAAE,IAAIF,QAAQG,EAAE,IAAIH,QAAQhC,OAAOoC,sBAAsB,WAAW9B,KAAKtB,EAAE,IAAIqD,IAAI/B,KAAKgC,EAAE,IAAID,IAAI/B,KAAKiC,EAAE,IAAIF,IAAI/B,KAAK5B,EAAE,IAAI2D,GAAG,EAAErC,OAAOoC,sBAAsBvC,UAAU8B,OAAO,SAAShD,EAAEC,GAAqB,GAAlBD,EAAEA,EAAE6D,mBAAiB,IAASlC,KAAKmC,EAAE9D,GAAG,MAAM,IAAI+D,aAAa,qEAAqE/D,EAAE,8CACnf,QAAG,IAAS2B,KAAKgC,EAAET,IAAIjD,GAAG,MAAM,IAAI8D,aAAa,oHAAoH,IAAInD,EAAEX,EAAEiB,UAAU8C,yBAAyBjC,EAAE,IAAIkC,IAAIhE,EAAEiE,oBAAoB,IACmE,GAD/DC,EAAElE,EAAE8B,EAAEnB,GAAGA,EAAE,CAACwD,EAAEnE,EAAEoE,kBAAkBpE,EAAEiB,UAAUmD,kBAAkBC,qBAAqBrE,EAAEiB,UAAUoD,qBAAqBC,gBAAgBtE,EAAEiB,UAAUqD,gBAAgBP,yBAAyBpD,EAAE4D,eAAevE,EAAEuE,eAAeC,uBAAuBxE,EAAEiB,UAAUuD,uBACpfC,qBAAqBzE,EAAEiB,UAAUwD,qBAAqBC,kBAAkB1E,EAAEiB,UAAUyD,kBAAkBC,yBAAyB3E,EAAEiB,UAAU0D,yBAAyBV,mBAAmBnC,GAAGJ,KAAKtB,EAAEwE,IAAI7E,EAAEY,GAAGe,KAAKgC,EAAEkB,IAAI5E,EAAEW,IAAGmB,EAAEkB,EAAEzC,KAAK2C,EAAEnD,MAAO+B,EAAE+C,EAAE9E,GAAG8C,EAAEtC,KAAK2C,EAAEnD,EAAE+B,IAAIJ,OAAON,OAAO0B,iBAAiBQ,EAAEsB,IAAI5E,EAAEW,GAAGA,EAAEmE,EAAEhD,GAAMA,EAAEJ,KAAK5B,EAAEmD,IAAIlD,GAAG,CAAC2B,KAAK5B,EAAEiF,OAAOhF,GAAU,IAAI,IAAIgC,GAAfD,EAAE1B,EAAE0B,IAAetB,QAAQuB,EAAE7B,KAAK6B,EAAED,EAAEtB,OAAOuB,EAAEA,EAAE5B,MAAMkD,EAAE0B,OAAOhD,GAAGiD,EAAEjD,EAAEpB,GAAE,EAAG,CAA6D,YAA5C,KAAhBA,EAAEe,KAAKiC,EAAEV,IAAIlD,MAAgBY,EAAEsE,QAAQjF,GAAG0B,KAAKiC,EAAEoB,OAAOhF,IAAWC,CAAC,EAAEoB,OAAOoC,sBAAsBvC,UAAUiE,QAClhB,WAAWC,EAAEvE,KAAKc,MAAMwB,EAAEgC,QAAQhD,MAAMgB,EAAEkC,WAAWD,EAAEE,KAAK,EAAEjE,OAAOoC,sBAAsBvC,UAAUgC,IAAI,SAASlD,GAAG,IAAIC,EAAE,OAAO,OAAOA,EAAE0B,KAAKtB,EAAE6C,IAAIlD,SAAI,EAAOC,EAAEmE,CAAC,EAAE/C,OAAOoC,sBAAsBvC,UAAU4C,EAAE,SAAS9D,GAAG,OAAO2B,KAAKtB,EAAE6C,IAAIlD,EAAE,EAAEqB,OAAOoC,sBAAsBvC,UAAUqE,YAAY,SAASvF,GAAG,IAAIC,EAAE0B,KAAKmC,EAAE9D,GAAG,QAAG,IAASC,EAAE,OAAOuF,QAAQN,QAAQjF,EAAEmE,GAAG,IAAIxD,EAAEe,KAAKiC,EAAEV,IAAIlD,GAA6F,YAA1F,IAASY,KAAIA,EAAE,CAAE,GAAG6E,QAAQ,IAAID,SAAQ,SAASzD,GAAG,OAAOnB,EAAEsE,QAAQnD,CAAC,IAAGJ,KAAKiC,EAAEiB,IAAI7E,EAAEY,IAAWA,EAAE6E,OAAO,EAAEpE,OAAOoC,sBAAsBvC,UAAUR,EACjhB,SAASV,EAAEC,EAAEW,GAAG,IAAImB,EAAEJ,KAAK5B,EAAEmD,IAAIjD,GAAG8B,GAAGJ,KAAK5B,EAAE8E,IAAI5E,EAAE8B,EAAE,IAAIkC,KAAKrD,EAAEmB,EAAE2D,IAAI1F,GAAG+B,EAAEiD,OAAOhF,EAAE,EAAQqB,OAAOwB,YAAY,WAAW,IAAI7C,EAAE2C,EAAE,GAAG3C,EAAE,OAAO2C,OAAE,EAAO3C,EAAE,IAAIC,EAAEsD,EAAEL,IAAIvB,KAAKgE,aAAa,IAAI1F,EAAE,MAAM,IAAIsC,UAAU,mHAAgN,OAA7FvC,EAAE6B,QAAQC,UAAUc,EAAE,GAAG3C,EAAE8E,GAAG/D,OAAOiB,eAAejC,EAAE2B,KAAKgE,YAAYzE,WAAWkC,EAAEyB,IAAI7E,EAAEC,GAAUD,CAAC,EAAEqB,OAAOwB,YAAY3B,UAAU0B,EAAE1B,UAAU,IAAI4D,EAAE,SAAS9E,GAAG,SAASC,IAAI,IAAIW,EACxfiB,QAAQC,UAAUc,EAAE,GAAGjB,KAAKgE,aAAa3E,OAAOiB,eAAerB,EAAEiC,YAAY3B,WAAWN,EAAE,CAAC,IAAImB,EAAEnB,EAAEgF,cAAc,KAAK7D,IAAI8D,UAAU9D,aAAaU,YAAY,CAAiB,IAAhBV,EAAEqD,EAAEA,EAAElF,OAAO,cAAmBuD,sBAAsB,CAAC,IAAIzB,EAAED,EAAE,MAAMnB,CAAC,EAACmB,EAAEA,EAAE6D,iBAAkBC,UAAU9D,aAAaU,aAAaV,GAAG,OAAOC,EAAEwB,EAAEN,IAAInB,SAAI,EAAOC,EAAE4D,gBAAgBC,SAAS,CAAC7D,EAAED,EAAEgB,cAAc,CAAyD,OAA5BhB,GAA5BC,EAAEA,GAAGX,OAAO0B,gBAAoBe,EAAE9D,IAAIiF,EAAErE,EAAEmB,GAAGuB,EAAEuB,IAAIjE,EAAEoB,GAAUpB,CAAC,CAG7T,OAH8TO,EAAEH,OAAO8E,eAAe7F,EAAE,iBAAiB,CAAC8F,cAAa,EAAGC,YAAW,EACnf9C,IAAI,WAAW,OAAM,CAAE,IAAIjD,EAAEiB,UAAUmD,kBAAkB,WAAW,IAAIzD,EAAEwC,EAAEF,IAAIvB,MAAMf,EAAEA,EAAEyD,mBAAmBzD,EAAEyD,kBAAkBlC,MAAMR,KAAK0D,WAAW/B,EAAEJ,IAAIvB,MAAMjB,EAAEiB,KAAK3B,GAAE,EAAG,EAAEC,EAAEiB,UAAUoD,qBAAqB,WAAW,IAAI1D,EAAEwC,EAAEF,IAAIvB,MAAMf,EAAEA,EAAE0D,sBAAsB1D,EAAE0D,qBAAqBnC,MAAMR,KAAK0D,WAAW/B,EAAEJ,IAAIvB,MAAMjB,EAAEiB,KAAK3B,GAAE,EAAG,EAAEC,EAAEiB,UAAUqD,gBAAgB,WAAW,IAAI3D,EAAEmB,EAAE,OAAOnB,EAAEwC,EAAEF,IAAIvB,QAAQ,OAAOI,EAAEnB,EAAE2D,kBAAkBxC,EAAEI,MAAMR,KAAK0D,UAAU,EAAEpF,EAAEiB,UAAUuD,uBAAuB,WAAW,IACld1C,EADsdnB,EAC9fwC,EAAEF,IAAIvB,MAASf,GAAGA,EAAE4D,iBAAsB,MAAM5D,GAAG,OAAOmB,EAAEnB,EAAE6D,yBAAyB1C,EAAEI,MAAMR,KAAK0D,WAAW,EAAEpF,EAAEiB,UAAUwD,qBAAqB,WAAW,IAAqD3C,EAAjDnB,EAAEwC,EAAEF,IAAIvB,MAAS,MAAMf,GAAIA,EAAE4D,iBAAsB,MAAM5D,GAAG,OAAOmB,EAAEnB,EAAE8D,uBAAuB3C,EAAEI,MAAMR,KAAK0D,WAAW,EAAEpF,EAAEiB,UAAUyD,kBAAkB,WAAW,IAAqD5C,EAAjDnB,EAAEwC,EAAEF,IAAIvB,MAAS,MAAMf,GAAIA,EAAE4D,iBAAsB,MAAM5D,GAAG,OAAOmB,EAAEnB,EAAE+D,oBAAoB5C,EAAEI,MAAMR,KAAK0D,WAAW,EAAEpF,EAAEiB,UAAU0D,yBAAyB,WAAW,IACxc7C,EAD4cnB,EAAEwC,EAAEF,IAAIvB,MACpf,MAAMf,GAAIA,EAAE4D,iBAAsB,MAAM5D,GAAG,OAAOmB,EAAEnB,EAAEgE,2BAA2B7C,EAAEI,MAAMR,KAAK0D,WAAW,EAASpF,CAAC,EAAEkE,EAAE,SAASnE,EAAEC,EAAEW,GAAG,GAAG,IAAIX,EAAEgG,WAAM,IAASrF,EAAE,CAAC,IAAImB,EAAE/B,EAAEkB,UAAUgF,aAAanE,IAAI/B,EAAEkB,UAAUgF,aAAa,SAASC,EAAEC,GAAqB,GAAlBD,EAAEA,EAAEtC,cAAiB5D,EAAEoG,IAAIF,GAAG,CAAC,IAAIG,EAAE3E,KAAK4E,aAAaJ,GAAGpE,EAAEvB,KAAKmB,KAAKwE,EAAEC,GAAGxF,EAAEJ,KAAKmB,KAAKwE,EAAEG,EAAEF,EAAE,MAAMrE,EAAEvB,KAAKmB,KAAKwE,EAAEC,EAAE,GAAG,IAAIpE,EAAEhC,EAAEkB,UAAUsF,gBAAgBxE,IAAIhC,EAAEkB,UAAUsF,gBAAgB,SAASL,GAAqB,GAAlBA,EAAEA,EAAEtC,cAAiB5D,EAAEoG,IAAIF,GAAG,CAAC,IAAIC,EAAEzE,KAAK4E,aAAaJ,GAAGnE,EAAExB,KAAKmB,KACpfwE,GAAGvF,EAAEJ,KAAKmB,KAAKwE,EAAEC,EAAE,KAAK,MAAMpE,EAAExB,KAAKmB,KAAKwE,EAAE,GAAG,IAAI/B,EAAEpE,EAAEkB,UAAUuF,gBAAgBrC,IAAIpE,EAAEkB,UAAUuF,gBAAgB,SAASN,EAAEC,GAAqB,GAAlBD,EAAEA,EAAEtC,cAAiB5D,EAAEoG,IAAIF,GAAG,CAAC,IAAIG,EAAE3E,KAAK4E,aAAaJ,GAAG/B,EAAE5D,KAAKmB,KAAKwE,EAAEC,GAAGA,EAAEzE,KAAK4E,aAAaJ,GAAGvF,EAAEJ,KAAKmB,KAAKwE,EAAEG,EAAEF,EAAE,MAAMhC,EAAE5D,KAAKmB,KAAKwE,EAAEC,EAAE,EAAE,CAAC,EAAEM,EAAE,SAAS1G,GAAG,IAAIC,EAAEe,OAAO2F,eAAe3G,GAAG,GAAGC,IAAIoB,OAAOwB,YAAY,OAAO5C,IAAI2C,EAAE5B,OAAOiB,eAAejC,EAAEqB,OAAOwB,aAAa6D,EAAEzG,EAAE,EAAEgF,EAAE,SAASjF,EAAEC,EAAEW,GAAGA,OAAE,IAASA,GAAKA,EAAEI,OAAOiB,eAAejC,EAAEC,EAAEmE,EAAElD,WAAWkC,EAAEyB,IAAI7E,EAAEC,GAAG0C,EAAE3C,EAAE,IAAI,IAAIC,EAAEmE,CAAC,CAAC,MAAMrC,GAAG2E,EAAEzG,EAAEmE,GACvgB,IAAInE,EAAEmE,CAAC,CAACnE,EAAE+D,0BAA0B/D,EAAEiE,mBAAmB0C,SAAQ,SAAS7E,GAAG/B,EAAE6G,aAAa9E,IAAI9B,EAAE+D,yBAAyBxD,KAAKR,EAAE+B,EAAE,KAAK/B,EAAEuG,aAAaxE,GAAG,IAAGnB,GAAGX,EAAEoE,mBAAmBrE,EAAE8G,aAAa7G,EAAEoE,kBAAkB7D,KAAKR,EAAE,EAAE+G,EAAEC,QAAQ9F,UAAU+F,aAAaD,QAAQ9F,UAAU+F,aAAa,SAASjH,GAAG,IAAIC,EAAE8G,EAAE5E,MAAMR,KAAK0D,WAAiE,OAAtDrF,EAAE+C,iBAAiB9C,EAAE8C,eAAe/C,EAAE+C,gBAAuB9C,CAAC,EAAE,IAAImF,EAAE,CAACS,UAAUqB,EAAE,SAASlH,EAAEC,EAAEW,GAAG,IAAImB,GAAGnB,EAAEI,OAAO2F,eAAe/F,GAAGZ,EAAEkB,WAAWjB,GAAGD,EAAEkB,UAAUjB,GAAG,WAAWmF,EAAEvE,KAAKc,MAClgB,IAAIK,EAAED,EAAEI,MAAMvB,GAAGe,KAAK0D,WAA6C,YAAlC,IAASrD,GAAGwB,EAAEqB,IAAI7C,EAAEL,MAAMyD,EAAEE,MAAatD,CAAC,CAAC,EAAEkF,EAAEzE,WAAW,gBAAgBoD,UAAUqB,EAAEzE,WAAW,aAAaoD,UAAUqB,EAAEF,QAAQ,sBAAsB,IAAIG,EAAE,SAASnH,GAAG,IAAIC,EAAEe,OAAOoG,yBAAyBpH,EAAEkB,UAAU,aAAaF,OAAO8E,eAAe9F,EAAEkB,UAAU,YAAYF,OAAOqG,OAAO,CAAE,EAACpH,EAAE,CAAC4E,IAAI,SAASjE,GAAGwE,EAAEvE,KAAKc,MAAM1B,EAAE4E,IAAIrE,KAAKmB,KAAKf,GAAGwE,EAAEE,KAAK,IAAI,EACzX,GAD2X6B,EAAEH,SAASG,EAAE1E,YAAYzB,OAAO8E,eAAezE,OAAO,iBAAiB,CAACjB,MAAM,IAAIqD,sBAAsBsC,cAAa,EAC9fuB,UAAS,IAAQjG,OAAOkG,kBAAkBlG,OAAOkG,iBAAiBrG,UAAUsG,aAAa,CAAC,IAAIC,EAAE,IAAIpE,QAAQqE,EAAE7E,YAAY3B,UAAUyG,gBAAwF9E,YAAY3B,UAAUyG,gBAAgB,SAAS3H,GAAG,IAAI,IAAIC,EAAE,GAAGW,EAAE,EAAEA,EAAEyE,UAAUnF,SAASU,EAAEX,EAAEW,GAAGyE,UAAUzE,GAAuD,OAApDX,EAAEyH,EAAElH,KAAK2B,MAAMuF,EAAE,CAAC/F,MAAMiG,OAAOlH,EAAET,KAAKwH,EAAE5C,IAAI5E,EAAE0B,MAAa1B,CAAC,EAAxO,CAAC,eAAe,cAAc,gBAAgB,kBAAoM2G,SAAQ,SAAS5G,GAAG,IAAIC,EAAEoB,OAAOkG,iBAAiBrG,UAAUN,EAAEX,EAAED,GAAGC,EAAED,GAAG,SAAS+B,GAAG,IAAI,IAAIC,EAAE,GAAGoC,EAAE,EAAEA,EACnfiB,UAAUnF,SAASkE,EAAEpC,EAAEoC,GAAGiB,UAAUjB,GAAiB,GAAdA,EAAEqD,EAAEvE,IAAIvB,OAAS,IAAKyB,EAAEF,IAAIkB,GAAGI,eAAe,OAAO,MAAM5D,OAAE,EAAOA,EAAEJ,KAAK2B,MAAMvB,EAAE,CAACe,MAAMiG,OAAOlH,EAAEsB,KAAK,MAAM,IAAI+B,aAAa,qBAAqBnD,EAAE,sFAAuF,CAAC,IAAG,IAAIiH,EAAc,SAAS7H,GAAG,IAAIC,EAAE2B,EAAEjB,MAAM,GAAGiH,OAAOlH,EAAEV,IAAI2B,KAAKgE,aAAmB,OAAN1F,EAAEF,EAAEC,EAASC,CAAC,EAAE6H,EAAED,EAAcE,EAAEpH,MAA2D,GAArDmH,EAAE5G,UAAUH,EAAEgH,EAAE7G,WAAW4G,EAAE5G,UAAUyE,YAAYmC,EAAKtF,EAAEA,EAAEsF,EAAEC,QAAQ,IAAI,IAAIC,KAAKD,EAAE,GAAG,aAAaC,EAAE,GAAGhH,OAAOiH,iBAAiB,CAAC,IAAIC,EACrhBlH,OAAOoG,yBAAyBW,EAAEC,GAAGE,GAAGlH,OAAO8E,eAAegC,EAAEE,EAAEE,EAAE,MAAMJ,EAAEE,GAAGD,EAAEC,GAAGF,EAAE1F,EAAE2F,EAAE7G,UAAUC,EAAEH,OAAO8E,eAAe+B,EAAc3G,UAAU,QAAQ,CAAC6E,cAAa,EAAGC,YAAW,EAAG9C,IAAI,WAAW,IAAIlD,EAAE,OAAO,OAAOA,EAAE2B,KAAK5B,EAAEoI,MAAK,SAASlI,GAAG,OAAM,IAAKA,EAAEmI,OAAO,UAAI,EAAOpI,EAAEI,QAAQ,EAAE,IAAI,IAAIiI,EAA2B,SAASrI,GAAG,IAAIC,EAAE0B,KAAKf,EAAE,IAAI8C,IAAI1D,EAAE4G,SAAQ,SAAS7E,EAAEC,GAAG,IAAIoC,EAAErC,EAAEwE,aAAa,QAAQJ,EAAEvF,EAAEsC,IAAIkB,IAAI,GAAGnE,GAAG+B,GAAGD,EAAEoE,EAAEtF,KAAKkB,GAAGnB,EAAEiE,IAAIT,EAAE+B,EAAE,IAAGxE,KAAKzB,OAAOF,EAAEE,OAAOU,EAAEgG,SAAQ,SAAS7E,EAAEC,GAAGD,IACtf9B,EAAE+B,GAAG,IAAID,EAAE7B,OAAO6B,EAAE,GAAG,IAAI8F,EAAc9F,GAAG,GAAE,EAAEsG,EAA2BnH,UAAUoH,UAAU,SAAStI,GAAG,OAAO2B,KAAK3B,EAAE,EAAE,IAAIuI,EAAEvH,OAAOoG,yBAAyBoB,gBAAgBtH,UAAU,YAAYF,OAAO8E,eAAe0C,gBAAgBtH,UAAU,WAAW,CAACgC,IAAI,WAAiD,IAAtC,IAAIlD,EAAEuI,EAAErF,IAAI1C,KAAKmB,KAAK,IAAI1B,EAAE,GAAkBW,GAAfZ,EAAEK,EAAEL,IAAeS,QAAQG,EAAET,KAAKS,EAAEZ,EAAES,OAAO,CAACG,EAAEA,EAAER,MAAM,IAAI2B,EAAEqB,EAAEF,IAAItC,GAAGmB,IAAG,IAAKA,EAAEyC,gBAAgBvE,EAAEY,KAAKD,EAAE,CAAC,OAAO,IAAIyH,EAA2BpI,EAAE,GAAG,CAAC,CACxc,EAAEO,KAA2B,iBAAfY,WAA0BA,WAAaC;;;;;;AC7BtD,MAAMP,EAAEM,WAAWY,EAAElB,EAAE2B,kBAAa,IAAS3B,EAAE2H,UAAU3H,EAAE2H,SAASC,eAAe,uBAAuBC,SAASzH,WAAW,YAAY0H,cAAc1H,UAAU6D,EAAEzE,SAASqD,EAAE,IAAIN,QAAQ,IAAAwF,EAAA,MAAQ,WAAAlD,CAAY7E,EAAEkB,EAAE2B,GAAG,GAAGhC,KAAKmH,cAAa,EAAGnF,IAAIoB,EAAE,MAAMtD,MAAM,qEAAqEE,KAAKoH,QAAQjI,EAAEa,KAAKb,EAAEkB,CAAC,CAAC,cAAIgH,GAAa,IAAIlI,EAAEa,KAAKgC,EAAE,MAAMoB,EAAEpD,KAAKb,EAAE,GAAGkB,QAAG,IAASlB,EAAE,CAAC,MAAMkB,OAAE,IAAS+C,GAAG,IAAIA,EAAE7E,OAAO8B,IAAIlB,EAAE6C,EAAET,IAAI6B,SAAI,IAASjE,KAAKa,KAAKgC,EAAE7C,EAAE,IAAI8H,eAAeK,YAAYtH,KAAKoH,SAAS/G,GAAG2B,EAAEkB,IAAIE,EAAEjE,GAAG,CAAC,OAAOA,CAAC,CAAC,QAAAoI,GAAW,OAAOvH,KAAKoH,OAAO,GAAE,MAAqDnF,EAAE,CAAC9C,KAAKkB,KAAK,MAAM2B,EAAE,IAAI7C,EAAEZ,OAAOY,EAAE,GAAGkB,EAAEmH,QAAQ,CAACnH,EAAE+C,EAAEpB,IAAI3B,EAAE,CAAClB,IAAI,IAAG,IAAKA,EAAEgI,aAAa,OAAOhI,EAAEiI,QAAQ,GAAG,iBAAiBjI,EAAE,OAAOA,EAAE,MAAMW,MAAM,mEAAmEX,EAAE,uFAAwF,EAArP,CAAuPiE,GAAGjE,EAAE6C,EAAE,IAAI7C,EAAE,IAAI,OAAO,IAAIC,EAAE4C,EAAE7C,EAAEiE,EAAC,EAAG+C,EAAE,CAAC/C,EAAEpB,KAAK,GAAG3B,EAAE+C,EAAEqE,mBAAmBzF,EAAE0F,KAAKvI,GAAGA,aAAa8H,cAAc9H,EAAEA,EAAEkI,kBAAkB,IAAI,MAAMhH,KAAK2B,EAAE,CAAC,MAAMA,EAAEkC,SAASnD,cAAc,SAAS3B,EAAED,EAAEwI,cAAS,IAASvI,GAAG4C,EAAEuC,aAAa,QAAQnF,GAAG4C,EAAE4F,YAAYvH,EAAE+G,QAAQhE,EAAEyE,YAAY7F,EAAE,GAAG1D,EAAE+B,EAAElB,GAAGA,EAAEA,GAAGA,aAAa8H,cAAc,CAAC9H,IAAI,IAAIkB,EAAE,GAAG,IAAI,MAAM+C,KAAKjE,EAAE2I,SAASzH,GAAG+C,EAAEgE,QAAQ,MAAztBjI,IAAG,IAAIC,EAAE,iBAAiBD,EAAEA,EAAEA,EAAE,QAAG,EAAOiE,GAAsrBnD,CAAEI,EAAG,EAAjE,CAAmElB,GAAGA;;;;;KCAlzC4I,GAAG9F,EAAEkC,eAAe9D,EAAEoF,yBAAyBxF,EAAE+H,oBAAoB5J,EAAE6J,sBAAsBjG,EAAEgD,eAAe5F,GAAGC,OAAOJ,EAAEQ,WAAWnB,EAAEW,EAAEiJ,aAAaxJ,EAAEJ,EAAEA,EAAE6J,YAAY,GAAGpI,EAAEd,EAAEmJ,+BAA+BhI,EAAE,CAACjB,EAAEiE,IAAIjE,EAAEsB,EAAE,CAAC,WAAA4H,CAAYlJ,EAAEiE,GAAG,OAAOA,GAAG,KAAKkF,QAAQnJ,EAAEA,EAAET,EAAE,KAAK,MAAM,KAAKW,OAAO,KAAKL,MAAMG,EAAE,MAAMA,EAAEA,EAAEoJ,KAAKC,UAAUrJ,GAAG,OAAOA,CAAC,EAAE,aAAAsJ,CAActJ,EAAEiE,GAAG,IAAInB,EAAE9C,EAAE,OAAOiE,GAAG,KAAKkF,QAAQrG,EAAE,OAAO9C,EAAE,MAAM,KAAKuJ,OAAOzG,EAAE,OAAO9C,EAAE,KAAKuJ,OAAOvJ,GAAG,MAAM,KAAKE,OAAO,KAAKL,MAAM,IAAIiD,EAAEsG,KAAKI,MAAMxJ,EAAE,CAAC,MAAMA,GAAG8C,EAAE,IAAI,EAAE,OAAOA,CAAC,GAAGuC,EAAE,CAACrF,EAAEiE,KAAKnB,EAAE9C,EAAEiE,GAAGnC,EAAE,CAAC2H,WAAU,EAAGC,KAAKC,OAAOC,UAAUtI,EAAEuI,SAAQ,EAAGC,WAAWzE,GAAG7F,OAAOuK,WAAWvK,OAAO,YAAYM,EAAEkK,sBAAsB,IAAIzH,QAAQ,MAAMrD,UAAU6C,YAAY,qBAAOkI,CAAejK,GAAGa,KAAKqJ,QAAQrJ,KAAKtB,IAAI,IAAIQ,KAAKC,EAAE,CAAC,6BAAWoD,GAAqB,OAAOvC,KAAKsJ,WAAWtJ,KAAKuJ,MAAM,IAAIvJ,KAAKuJ,KAAKC,OAAO,CAAC,qBAAOC,CAAetK,EAAEiE,EAAEnC,GAAG,GAAGmC,EAAEsG,QAAQtG,EAAEwF,WAAU,GAAI5I,KAAKqJ,OAAOrJ,KAAK2J,kBAAkBzG,IAAI/D,EAAEiE,IAAIA,EAAEwG,WAAW,CAAC,MAAM3H,EAAEtD,SAASsB,EAAED,KAAK6J,sBAAsB1K,EAAE8C,EAAEmB,QAAG,IAASnD,GAAGI,EAAEL,KAAKT,UAAUJ,EAAEc,EAAE,CAAC,CAAC,4BAAO4J,CAAsB1K,EAAEiE,EAAEnB,GAAG,MAAMV,IAAIlB,EAAE6C,IAAI9E,GAAG6B,EAAED,KAAKT,UAAUJ,IAAI,CAAC,GAAAoC,GAAM,OAAOvB,KAAKoD,EAAE,EAAE,GAAAF,CAAI/D,GAAGa,KAAKoD,GAAGjE,CAAC,GAAG,MAAM,CAAC,GAAAoC,GAAM,OAAOlB,GAAGxB,KAAKmB,KAAK,EAAE,GAAAkD,CAAIE,GAAG,MAAMnD,EAAEI,GAAGxB,KAAKmB,MAAM5B,EAAES,KAAKmB,KAAKoD,GAAGpD,KAAK8J,cAAc3K,EAAEc,EAAEgC,EAAE,EAAEmC,cAAa,EAAGC,YAAW,EAAG,CAAC,yBAAO0F,CAAmB5K,GAAG,OAAOa,KAAK2J,kBAAkBpI,IAAIpC,IAAI8B,CAAC,CAAC,WAAOoI,GAAO,GAAGrJ,KAAKgK,eAAe5J,EAAE,sBAAsB,OAAO,MAAMjB,EAAEC,EAAEY,MAAMb,EAAEmK,gBAAW,IAASnK,EAAET,IAAIsB,KAAKtB,EAAE,IAAIS,EAAET,IAAIsB,KAAK2J,kBAAkB,IAAI5H,IAAI5C,EAAEwK,kBAAkB,CAAC,eAAOL,GAAW,GAAGtJ,KAAKgK,eAAe5J,EAAE,cAAc,OAAO,GAAGJ,KAAKiK,WAAU,EAAGjK,KAAKqJ,OAAOrJ,KAAKgK,eAAe5J,EAAE,eAAe,CAAC,MAAMjB,EAAEa,KAAKkK,WAAW9G,EAAE,IAAIhF,EAAEe,MAAM6C,EAAE7C,IAAI,IAAI,MAAM8C,KAAKmB,EAAEpD,KAAKyJ,eAAexH,EAAE9C,EAAE8C,GAAG,CAAC,MAAM9C,EAAEa,KAAKrB,OAAOuK,UAAU,GAAG,OAAO/J,EAAE,CAAC,MAAMiE,EAAE+F,oBAAoB5H,IAAIpC,GAAG,QAAG,IAASiE,EAAE,IAAI,MAAMjE,EAAE8C,KAAKmB,EAAEpD,KAAK2J,kBAAkBzG,IAAI/D,EAAE8C,EAAE,CAACjC,KAAKuJ,KAAK,IAAIxH,IAAI,IAAI,MAAM5C,EAAEiE,KAAKpD,KAAK2J,kBAAkB,CAAC,MAAM1H,EAAEjC,KAAKmK,KAAKhL,EAAEiE,QAAG,IAASnB,GAAGjC,KAAKuJ,KAAKrG,IAAIjB,EAAE9C,EAAE,CAACa,KAAKoK,cAAcpK,KAAKqK,eAAerK,KAAKsK,OAAO,CAAC,qBAAOD,CAAejH,GAAG,MAAMnB,EAAE,GAAG,GAAGjD,MAAMuL,QAAQnH,GAAG,CAAC,MAAM/C,EAAE,IAAIiC,IAAIc,EAAEoH,KAAK,KAAKC,WAAW,IAAI,MAAMrH,KAAK/C,EAAE4B,EAAEyI,QAAQvL,EAAEiE,GAAG,WAAM,IAASA,GAAGnB,EAAE/C,KAAKC,EAAEiE,IAAI,OAAOnB,CAAC,CAAC,WAAOkI,CAAKhL,EAAEiE,GAAG,MAAMnB,EAAEmB,EAAEwF,UAAU,OAAM,IAAK3G,OAAE,EAAO,iBAAiBA,EAAEA,EAAE,iBAAiB9C,EAAEA,EAAE+C,mBAAc,CAAM,CAAC,WAAA8B,GAAc2G,QAAQ3K,KAAK4K,UAAK,EAAO5K,KAAK6K,iBAAgB,EAAG7K,KAAK8K,YAAW,EAAG9K,KAAK+K,KAAK,KAAK/K,KAAKgL,MAAM,CAAC,IAAAA,GAAOhL,KAAKiL,KAAK,IAAIpH,SAAS1E,GAAGa,KAAKkL,eAAe/L,IAAIa,KAAKmL,KAAK,IAAIpJ,IAAI/B,KAAKoL,OAAOpL,KAAK8J,gBAAgB9J,KAAKgE,YAAYtF,GAAGuG,SAAS9F,GAAGA,EAAEa,OAAO,CAAC,aAAAqL,CAAclM,IAAIa,KAAKsL,OAAO,IAAIhJ,KAAKyB,IAAI5E,QAAG,IAASa,KAAKuL,YAAYvL,KAAKmF,aAAahG,EAAEqM,iBAAiB,CAAC,gBAAAC,CAAiBtM,GAAGa,KAAKsL,MAAMjI,OAAOlE,EAAE,CAAC,IAAAiM,GAAO,MAAMjM,EAAE,IAAI4C,IAAIqB,EAAEpD,KAAKgE,YAAY2F,kBAAkB,IAAI,MAAM1H,KAAKmB,EAAEoG,OAAOxJ,KAAKgK,eAAe/H,KAAK9C,EAAE+D,IAAIjB,EAAEjC,KAAKiC,WAAWjC,KAAKiC,IAAI9C,EAAEmF,KAAK,IAAItE,KAAK4K,KAAKzL,EAAE,CAAC,gBAAAuM,GAAmB,MAAMvM,EAAEa,KAAK2L,YAAY3L,KAAKsF,aAAatF,KAAKgE,YAAY4H,mBAAmB,OAAOxI,EAAEjE,EAAEa,KAAKgE,YAAYoG,eAAejL,CAAC,CAAC,iBAAAuD,GAAoB1C,KAAKuL,aAAavL,KAAK0L,mBAAmB1L,KAAKkL,gBAAe,GAAIlL,KAAKsL,MAAMrG,SAAS9F,GAAGA,EAAEqM,mBAAmB,CAAC,cAAAN,CAAe/L,GAAI,CAAA,oBAAAwD,GAAuB3C,KAAKsL,MAAMrG,SAAS9F,GAAGA,EAAE0M,sBAAsB,CAAC,wBAAAxJ,CAAyBlD,EAAEiE,EAAEnB,GAAGjC,KAAK8L,KAAK3M,EAAE8C,EAAE,CAAC,IAAA8J,CAAK5M,EAAEiE,GAAG,MAAMnB,EAAEjC,KAAKgE,YAAY2F,kBAAkBpI,IAAIpC,GAAGkB,EAAEL,KAAKgE,YAAYmG,KAAKhL,EAAE8C,GAAG,QAAG,IAAS5B,IAAG,IAAK4B,EAAE+G,QAAQ,CAAC,MAAM/I,QAAG,IAASgC,EAAE8G,WAAWV,YAAYpG,EAAE8G,UAAUtI,GAAG4H,YAAYjF,EAAEnB,EAAE4G,MAAM7I,KAAK+K,KAAK5L,EAAE,MAAMc,EAAED,KAAK6E,gBAAgBxE,GAAGL,KAAKuE,aAAalE,EAAEJ,GAAGD,KAAK+K,KAAK,IAAI,CAAC,CAAC,IAAAe,CAAK3M,EAAEiE,GAAG,MAAMnB,EAAEjC,KAAKgE,YAAY3D,EAAE4B,EAAEsH,KAAKhI,IAAIpC,GAAG,QAAG,IAASkB,GAAGL,KAAK+K,OAAO1K,EAAE,CAAC,MAAMlB,EAAE8C,EAAE8H,mBAAmB1J,GAAGJ,EAAE,mBAAmBd,EAAE4J,UAAU,CAACN,cAActJ,EAAE4J,gBAAW,IAAS5J,EAAE4J,WAAWN,cAActJ,EAAE4J,UAAUtI,EAAET,KAAK+K,KAAK1K,EAAEL,KAAKK,GAAGJ,EAAEwI,cAAcrF,EAAEjE,EAAE0J,MAAM7I,KAAK+K,KAAK,IAAI,CAAC,CAAC,aAAAjB,CAAc3K,EAAEiE,EAAEnB,GAAG,QAAG,IAAS9C,EAAE,CAAC,GAAG8C,IAAIjC,KAAKgE,YAAY+F,mBAAmB5K,KAAK8C,EAAEgH,YAAYzE,GAAGxE,KAAKb,GAAGiE,GAAG,OAAOpD,KAAKwF,EAAErG,EAAEiE,EAAEnB,EAAE,EAAC,IAAKjC,KAAK6K,kBAAkB7K,KAAKiL,KAAKjL,KAAKgM,OAAO,CAAC,CAAAxG,CAAErG,EAAEiE,EAAEnB,GAAGjC,KAAKmL,KAAKzG,IAAIvF,IAAIa,KAAKmL,KAAKjI,IAAI/D,EAAEiE,IAAG,IAAKnB,EAAE+G,SAAShJ,KAAK+K,OAAO5L,IAAIa,KAAKiM,OAAO,IAAI3J,KAAKyB,IAAI5E,EAAE,CAAC,UAAM6M,GAAOhM,KAAK6K,iBAAgB,EAAG,UAAU7K,KAAKiL,IAAI,CAAC,MAAM9L,GAAG0E,QAAQqI,OAAO/M,EAAE,CAAC,MAAMA,EAAEa,KAAKmM,iBAAiB,OAAO,MAAMhN,SAASA,GAAGa,KAAK6K,eAAe,CAAC,cAAAsB,GAAiB,OAAOnM,KAAKoM,eAAe,CAAC,aAAAA,GAAgB,IAAIpM,KAAK6K,gBAAgB,OAAO,IAAI7K,KAAK8K,WAAW,CAAC,GAAG9K,KAAKuL,aAAavL,KAAK0L,mBAAmB1L,KAAK4K,KAAK,CAAC,IAAI,MAAMzL,EAAEiE,KAAKpD,KAAK4K,KAAK5K,KAAKb,GAAGiE,EAAEpD,KAAK4K,UAAK,CAAM,CAAC,MAAMzL,EAAEa,KAAKgE,YAAY2F,kBAAkB,GAAGxK,EAAEmF,KAAK,EAAE,IAAI,MAAMlB,EAAEnB,KAAK9C,GAAE,IAAK8C,EAAEoK,SAASrM,KAAKmL,KAAKzG,IAAItB,SAAI,IAASpD,KAAKoD,IAAIpD,KAAKwF,EAAEpC,EAAEpD,KAAKoD,GAAGnB,EAAE,CAAC,IAAI9C,GAAE,EAAG,MAAMiE,EAAEpD,KAAKmL,KAAK,IAAIhM,EAAEa,KAAKsM,aAAalJ,GAAGjE,GAAGa,KAAKuM,WAAWnJ,GAAGpD,KAAKsL,MAAMrG,SAAS9F,GAAGA,EAAEqN,iBAAiBxM,KAAKyM,OAAOrJ,IAAIpD,KAAK0M,MAAM,CAAC,MAAMtJ,GAAG,MAAMjE,GAAE,EAAGa,KAAK0M,OAAOtJ,CAAC,CAACjE,GAAGa,KAAK2M,KAAKvJ,EAAE,CAAC,UAAAmJ,CAAWpN,GAAI,CAAA,IAAAwN,CAAKxN,GAAGa,KAAKsL,MAAMrG,SAAS9F,GAAGA,EAAEyN,kBAAkB5M,KAAK8K,aAAa9K,KAAK8K,YAAW,EAAG9K,KAAK6M,aAAa1N,IAAIa,KAAK8M,QAAQ3N,EAAE,CAAC,IAAAuN,GAAO1M,KAAKmL,KAAK,IAAIpJ,IAAI/B,KAAK6K,iBAAgB,CAAE,CAAC,kBAAIkC,GAAiB,OAAO/M,KAAKgN,mBAAmB,CAAC,iBAAAA,GAAoB,OAAOhN,KAAKiL,IAAI,CAAC,YAAAqB,CAAanN,GAAG,OAAM,CAAE,CAAC,MAAAsN,CAAOtN,GAAGa,KAAKiM,OAAOjM,KAAKiM,KAAKhH,SAAS9F,GAAGa,KAAK+L,KAAK5M,EAAEa,KAAKb,MAAMa,KAAK0M,MAAM,CAAC,OAAAI,CAAQ3N,GAAE,CAAE,YAAA0N,CAAa1N,GAAE,EAAGd,EAAE+L,cAAc,GAAG/L,EAAEuN,kBAAkB,CAACqB,KAAK,QAAQ5O,EAAE+B,EAAE,sBAAsB,IAAI2B,IAAI1D,EAAE+B,EAAE,cAAc,IAAI2B,IAAIhC,IAAI,CAACmN,gBAAgB7O,KAAKY,EAAEkO,0BAA0B,IAAIjO,KAAK;;;;;;ACA56K,MAACC,EAAEM,WAAWwC,EAAE9C,EAAE+I,aAAa9E,EAAEnB,EAAEA,EAAEmL,aAAa,WAAW,CAACC,WAAWlO,GAAGA,SAAI,EAAOkB,EAAE,QAAQjC,EAAE,OAAOyB,KAAKyN,SAASC,QAAQ,GAAGC,MAAM,MAAMxL,EAAE,IAAI5D,EAAEgB,EAAE,IAAI4C,KAAK/B,EAAEiE,SAASxF,EAAE,IAAIuB,EAAEwN,cAAc,IAAInP,EAAEa,GAAG,OAAOA,GAAG,iBAAiBA,GAAG,mBAAmBA,EAAEF,EAAED,MAAMuL,QAA2DnK,EAAE,cAAcoE,EAAE,sDAAsDkJ,EAAE,OAAOC,EAAE,KAAK5O,EAAE6O,OAAO,KAAKxN,sBAAsBA,MAAMA,uCAAuC,KAAKL,EAAE,KAAK0C,EAAE,KAAKoL,EAAE,qCAAwFhN,EAAjD1B,IAAG,CAAC8C,KAAKmB,KAAC,CAAK0K,WAAW3O,EAAE4O,QAAQ9L,EAAE+L,OAAO5K,IAAMnC,CAAE,GAAiBmF,EAAEzH,OAAOsP,IAAI,gBAAgBtM,EAAEhD,OAAOsP,IAAI,eAAe9M,EAAE,IAAIO,QAAQF,EAAEvB,EAAEiO,iBAAiBjO,EAAE,KAAK,SAASuF,EAAErG,EAAE8C,GAAG,IAAIhD,EAAEE,KAAKA,EAAE6K,eAAe,OAAO,MAAMlK,MAAM,kCAAkC,YAAO,IAASsD,EAAEA,EAAEiK,WAAWpL,GAAGA,CAAC,CAAC,MAAMsE,EAAE,CAACpH,EAAE8C,KAAK,MAAMmB,EAAEjE,EAAEZ,OAAO,EAAEyD,EAAE,GAAG,IAAI/B,EAAEvB,EAAE,IAAIuD,EAAE,QAAQ,IAAIA,EAAE,SAAS,GAAG3D,EAAEkG,EAAE,IAAI,IAAIvC,EAAE,EAAEA,EAAEmB,EAAEnB,IAAI,CAAC,MAAMmB,EAAEjE,EAAE8C,GAAG,IAAIhD,EAAEwB,EAAEL,GAAG,EAAEa,EAAE,EAAE,KAAKA,EAAEmC,EAAE7E,SAASD,EAAE6P,UAAUlN,EAAER,EAAEnC,EAAE8P,KAAKhL,GAAG,OAAO3C,IAAIQ,EAAE3C,EAAE6P,UAAU7P,IAAIkG,EAAE,QAAQ/D,EAAE,GAAGnC,EAAEoP,OAAE,IAASjN,EAAE,GAAGnC,EAAEqP,OAAE,IAASlN,EAAE,IAAIoN,EAAEQ,KAAK5N,EAAE,MAAMR,EAAE2N,OAAO,KAAKnN,EAAE,GAAG,MAAMnC,EAAES,QAAG,IAAS0B,EAAE,KAAKnC,EAAES,GAAGT,IAAIS,EAAE,MAAM0B,EAAE,IAAInC,EAAE2B,GAAGuE,EAAEpE,GAAG,QAAG,IAASK,EAAE,GAAGL,GAAG,GAAGA,EAAE9B,EAAE6P,UAAU1N,EAAE,GAAGlC,OAAOU,EAAEwB,EAAE,GAAGnC,OAAE,IAASmC,EAAE,GAAG1B,EAAE,MAAM0B,EAAE,GAAGgC,EAAE1C,GAAGzB,IAAImE,GAAGnE,IAAIyB,EAAEzB,EAAES,EAAET,IAAIoP,GAAGpP,IAAIqP,EAAErP,EAAEkG,GAAGlG,EAAES,EAAEkB,OAAE,GAAQ,MAAMY,EAAEvC,IAAIS,GAAGI,EAAE8C,EAAE,GAAGqM,WAAW,MAAM,IAAI,GAAG5P,GAAGJ,IAAIkG,EAAEpB,EAAEhE,EAAEgB,GAAG,GAAG4B,EAAE9C,KAAKD,GAAGmE,EAAEoK,MAAM,EAAEpN,GAAGC,EAAE+C,EAAEoK,MAAMpN,GAAGhC,EAAEyC,GAAGuC,EAAEhF,IAAI,IAAIgC,EAAE6B,EAAEpB,EAAE,CAAC,MAAM,CAAC2E,EAAErG,EAAET,GAAGS,EAAEiE,IAAI,QAAQ,IAAInB,EAAE,SAAS,IAAIA,EAAE,UAAU,KAAKD,EAAC,EAAG,MAAMoD,EAAE,WAAApB,EAAa+J,QAAQ5O,EAAE2O,WAAW1K,GAAGhE,GAAG,IAAIa,EAAED,KAAKuO,MAAM,GAAG,IAAIjQ,EAAE,EAAEW,EAAE,EAAE,MAAMwB,EAAEtB,EAAEZ,OAAO,EAAE6B,EAAEJ,KAAKuO,OAAO/J,EAAEkJ,GAAGnH,EAAEpH,EAAEiE,GAAG,GAAGpD,KAAKwO,GAAGpJ,EAAErE,cAAcyD,EAAEpF,GAAGoC,EAAEiN,YAAYzO,KAAKwO,GAAGE,QAAQ,IAAItL,GAAG,IAAIA,EAAE,CAAC,MAAMjE,EAAEa,KAAKwO,GAAGE,QAAQC,WAAWxP,EAAEyP,eAAezP,EAAE0P,WAAW,CAAC,KAAK,QAAQ5O,EAAEuB,EAAEsN,aAAa1O,EAAE7B,OAAOkC,GAAG,CAAC,GAAG,IAAIR,EAAE8O,SAAS,CAAC,GAAG9O,EAAE+O,gBAAgB,IAAI,MAAM7P,KAAKc,EAAEgP,oBAAoB,GAAG9P,EAAE+P,SAAS7O,GAAG,CAAC,MAAM4B,EAAEyL,EAAEzO,KAAKmE,EAAEnD,EAAE2E,aAAazF,GAAGgQ,MAAM/Q,GAAGiC,EAAE,eAAe+N,KAAKnM,GAAG7B,EAAElB,KAAK,CAAC2J,KAAK,EAAEuG,MAAM9Q,EAAE+Q,KAAKhP,EAAE,GAAG0N,QAAQ3K,EAAEkM,KAAK,MAAMjP,EAAE,GAAGmC,GAAE,MAAMnC,EAAE,GAAG8C,GAAE,MAAM9C,EAAE,GAAGW,GAAEyD,KAAIxE,EAAE4E,gBAAgB1F,EAAE,MAAMA,EAAEmP,WAAWlQ,KAAKgC,EAAElB,KAAK,CAAC2J,KAAK,EAAEuG,MAAM9Q,IAAI2B,EAAE4E,gBAAgB1F,IAAI,GAAG0O,EAAEQ,KAAKpO,EAAEsP,SAAS,CAAC,MAAMpQ,EAAEc,EAAE2H,YAAYuH,MAAM/Q,GAAGgF,EAAEjE,EAAEZ,OAAO,EAAE,GAAG6E,EAAE,EAAE,CAACnD,EAAE2H,YAAY3F,EAAEA,EAAEkG,YAAY,GAAG,IAAI,IAAIlG,EAAE,EAAEA,EAAEmB,EAAEnB,IAAIhC,EAAEuP,OAAOrQ,EAAE8C,GAAGvD,KAAK8C,EAAEsN,WAAW1O,EAAElB,KAAK,CAAC2J,KAAK,EAAEuG,QAAQ9Q,IAAI2B,EAAEuP,OAAOrQ,EAAEiE,GAAG1E,IAAI,CAAC,CAAC,MAAM,GAAG,IAAIuB,EAAE8O,SAAS,GAAG9O,EAAEwP,OAAOzN,EAAE5B,EAAElB,KAAK,CAAC2J,KAAK,EAAEuG,MAAM9Q,QAAQ,CAAC,IAAIa,GAAG,EAAE,MAAM,KAAKA,EAAEc,EAAEwP,KAAKC,QAAQtR,EAAEe,EAAE,KAAKiB,EAAElB,KAAK,CAAC2J,KAAK,EAAEuG,MAAM9Q,IAAIa,GAAGf,EAAEG,OAAO,CAAC,CAACD,GAAG,CAAC,CAAC,oBAAOyC,CAAc5B,EAAE8C,GAAG,MAAMmB,EAAEnD,EAAEc,cAAc,YAAY,OAAOqC,EAAEuM,UAAUxQ,EAAEiE,CAAC,EAAE,SAAS+C,EAAEhH,EAAE8C,EAAEmB,EAAEjE,EAAEkB,GAAG,GAAG4B,IAAImE,EAAE,OAAOnE,EAAE,IAAI7D,OAAE,IAASiC,EAAE+C,EAAEwM,OAAOvP,GAAG+C,EAAEyM,KAAK,MAAM7N,EAAE1D,EAAE2D,QAAG,EAAOA,EAAE6N,gBAAgB,OAAO1R,GAAG4F,cAAchC,IAAI5D,GAAG2R,QAAO,QAAI,IAAS/N,EAAE5D,OAAE,GAAQA,EAAE,IAAI4D,EAAE7C,GAAGf,EAAE4R,KAAK7Q,EAAEiE,EAAE/C,SAAI,IAASA,GAAG+C,EAAEwM,OAAO,IAAIvP,GAAGjC,EAAEgF,EAAEyM,KAAKzR,QAAG,IAASA,IAAI6D,EAAEkE,EAAEhH,EAAEf,EAAE6R,KAAK9Q,EAAE8C,EAAE+L,QAAQ5P,EAAEiC,IAAI4B,CAAC,CAAC,MAAM8C,EAAE,WAAAf,CAAY7E,EAAE8C,GAAGjC,KAAKkQ,KAAK,GAAGlQ,KAAKmQ,UAAK,EAAOnQ,KAAKoQ,KAAKjR,EAAEa,KAAKqQ,KAAKpO,CAAC,CAAC,cAAIqO,GAAa,OAAOtQ,KAAKqQ,KAAKC,UAAU,CAAC,QAAIC,GAAO,OAAOvQ,KAAKqQ,KAAKE,IAAI,CAAC,CAAA9P,CAAEtB,GAAG,MAAMqP,IAAIE,QAAQzM,GAAGsM,MAAMnL,GAAGpD,KAAKoQ,KAAK/P,GAAGlB,GAAGqR,eAAevQ,GAAGwQ,WAAWxO,GAAE,GAAIT,EAAEiN,YAAYpO,EAAE,IAAIjC,EAAEoD,EAAEsN,WAAW9M,EAAE,EAAE5C,EAAE,EAAEV,EAAE0E,EAAE,GAAG,UAAK,IAAS1E,GAAG,CAAC,GAAGsD,IAAItD,EAAE0Q,MAAM,CAAC,IAAInN,EAAE,IAAIvD,EAAEmK,KAAK5G,EAAE,IAAI8D,GAAE3H,EAAEA,EAAEsS,YAAY1Q,KAAKb,GAAG,IAAIT,EAAEmK,KAAK5G,EAAE,IAAIvD,EAAE4Q,KAAKlR,EAAEM,EAAE2Q,KAAK3Q,EAAEqP,QAAQ/N,KAAKb,GAAG,IAAIT,EAAEmK,OAAO5G,EAAE,IAAI0C,GAAEvG,EAAE4B,KAAKb,IAAIa,KAAKkQ,KAAKhR,KAAK+C,GAAGvD,EAAE0E,IAAIhE,EAAE,CAAC4C,IAAItD,GAAG0Q,QAAQhR,EAAEoD,EAAEsN,WAAW9M,IAAI,CAAC,OAAOR,EAAEiN,YAAYxO,EAAEI,CAAC,CAAC,CAAAN,CAAEZ,GAAG,IAAI8C,EAAE,EAAE,IAAI,MAAMmB,KAAKpD,KAAKkQ,UAAK,IAAS9M,SAAI,IAASA,EAAE2K,SAAS3K,EAAEuN,KAAKxR,EAAEiE,EAAEnB,GAAGA,GAAGmB,EAAE2K,QAAQxP,OAAO,GAAG6E,EAAEuN,KAAKxR,EAAE8C,KAAKA,GAAG,EAAE,MAAM8D,GAAE,QAAIwK,GAAO,OAAOvQ,KAAKqQ,MAAME,MAAMvQ,KAAK4Q,IAAI,CAAC,WAAA5M,CAAY7E,EAAE8C,EAAEmB,EAAE/C,GAAGL,KAAK6I,KAAK,EAAE7I,KAAK6Q,KAAKlP,EAAE3B,KAAKmQ,UAAK,EAAOnQ,KAAK8Q,KAAK3R,EAAEa,KAAK+Q,KAAK9O,EAAEjC,KAAKqQ,KAAKjN,EAAEpD,KAAKgR,QAAQ3Q,EAAEL,KAAK4Q,KAAKvQ,GAAG8E,cAAa,CAAE,CAAC,cAAImL,GAAa,IAAInR,EAAEa,KAAK8Q,KAAKR,WAAW,MAAMrO,EAAEjC,KAAKqQ,KAAK,YAAO,IAASpO,GAAG,KAAK9C,GAAG4P,WAAW5P,EAAE8C,EAAEqO,YAAYnR,CAAC,CAAC,aAAI8R,GAAY,OAAOjR,KAAK8Q,IAAI,CAAC,WAAII,GAAU,OAAOlR,KAAK+Q,IAAI,CAAC,IAAAJ,CAAKxR,EAAE8C,EAAEjC,MAAMb,EAAEgH,EAAEnG,KAAKb,EAAE8C,GAAG3D,EAAEa,GAAGA,IAAIwC,GAAG,MAAMxC,GAAG,KAAKA,GAAGa,KAAK6Q,OAAOlP,GAAG3B,KAAKmR,OAAOnR,KAAK6Q,KAAKlP,GAAGxC,IAAIa,KAAK6Q,MAAM1R,IAAIiH,GAAGpG,KAAK2N,EAAExO,QAAG,IAASA,EAAE2O,WAAW9N,KAAK6N,EAAE1O,QAAG,IAASA,EAAE4P,SAAS/O,KAAKoG,EAAEjH,GAA1zHA,IAAGF,EAAEE,IAAI,mBAAmBA,IAAIR,OAAOC,UAAsxH6B,CAAEtB,GAAGa,KAAKyE,EAAEtF,GAAGa,KAAK2N,EAAExO,EAAE,CAAC,CAAAoG,CAAEpG,GAAG,OAAOa,KAAK8Q,KAAKR,WAAWc,aAAajS,EAAEa,KAAK+Q,KAAK,CAAC,CAAA3K,CAAEjH,GAAGa,KAAK6Q,OAAO1R,IAAIa,KAAKmR,OAAOnR,KAAK6Q,KAAK7Q,KAAKuF,EAAEpG,GAAG,CAAC,CAAAwO,CAAExO,GAAGa,KAAK6Q,OAAOlP,GAAGrD,EAAE0B,KAAK6Q,MAAM7Q,KAAK8Q,KAAKJ,YAAYjB,KAAKtQ,EAAEa,KAAKoG,EAAEnG,EAAEoR,eAAelS,IAAIa,KAAK6Q,KAAK1R,CAAC,CAAC,CAAA0O,CAAE1O,GAAG,MAAM6O,OAAO/L,EAAE6L,WAAW1K,GAAGjE,EAAEkB,EAAE,iBAAiB+C,EAAEpD,KAAKsR,KAAKnS,SAAI,IAASiE,EAAEoL,KAAKpL,EAAEoL,GAAGpJ,EAAErE,cAAcyE,EAAEpC,EAAEhF,EAAEgF,EAAEhF,EAAE,IAAI4B,KAAKgR,UAAU5N,GAAG,GAAGpD,KAAK6Q,MAAMT,OAAO/P,EAAEL,KAAK6Q,KAAK9Q,EAAEkC,OAAO,CAAC,MAAM9C,EAAE,IAAI4F,EAAE1E,EAAEL,MAAMoD,EAAEjE,EAAEsB,EAAET,KAAKgR,SAAS7R,EAAEY,EAAEkC,GAAGjC,KAAKoG,EAAEhD,GAAGpD,KAAK6Q,KAAK1R,CAAC,CAAC,CAAC,IAAAmS,CAAKnS,GAAG,IAAI8C,EAAEd,EAAEI,IAAIpC,EAAE4O,SAAS,YAAO,IAAS9L,GAAGd,EAAE+B,IAAI/D,EAAE4O,QAAQ9L,EAAE,IAAImD,EAAEjG,IAAI8C,CAAC,CAAC,CAAAwC,CAAEtF,GAAGF,EAAEe,KAAK6Q,QAAQ7Q,KAAK6Q,KAAK,GAAG7Q,KAAKmR,QAAQ,MAAMlP,EAAEjC,KAAK6Q,KAAK,IAAIzN,EAAE/C,EAAE,EAAE,IAAI,MAAMjC,KAAKe,EAAEkB,IAAI4B,EAAE1D,OAAO0D,EAAE/C,KAAKkE,EAAE,IAAI2C,GAAE/F,KAAKuF,EAAE7G,KAAKsB,KAAKuF,EAAE7G,KAAKsB,KAAKA,KAAKgR,UAAU5N,EAAEnB,EAAE5B,GAAG+C,EAAEuN,KAAKvS,GAAGiC,IAAIA,EAAE4B,EAAE1D,SAASyB,KAAKmR,KAAK/N,GAAGA,EAAE2N,KAAKL,YAAYrQ,GAAG4B,EAAE1D,OAAO8B,EAAE,CAAC,IAAA8Q,CAAKhS,EAAEa,KAAK8Q,KAAKJ,YAAYzO,GAAG,IAAIjC,KAAKuR,QAAO,GAAG,EAAGtP,GAAG9C,GAAGA,IAAIa,KAAK+Q,MAAM,CAAC,MAAM9O,EAAE9C,EAAEuR,YAAYvR,EAAEqS,SAASrS,EAAE8C,CAAC,CAAC,CAAC,YAAAwP,CAAatS,QAAG,IAASa,KAAKqQ,OAAOrQ,KAAK4Q,KAAKzR,EAAEa,KAAKuR,OAAOpS,GAAG,EAAE,MAAMsF,GAAE,WAAI8K,GAAU,OAAOvP,KAAK0R,QAAQnC,OAAO,CAAC,QAAIgB,GAAO,OAAOvQ,KAAKqQ,KAAKE,IAAI,CAAC,WAAAvM,CAAY7E,EAAE8C,EAAEmB,EAAE/C,EAAEjC,GAAG4B,KAAK6I,KAAK,EAAE7I,KAAK6Q,KAAKlP,EAAE3B,KAAKmQ,UAAK,EAAOnQ,KAAK0R,QAAQvS,EAAEa,KAAKqP,KAAKpN,EAAEjC,KAAKqQ,KAAKhQ,EAAEL,KAAKgR,QAAQ5S,EAAEgF,EAAE7E,OAAO,GAAG,KAAK6E,EAAE,IAAI,KAAKA,EAAE,IAAIpD,KAAK6Q,KAAK7R,MAAMoE,EAAE7E,OAAO,GAAGoT,KAAK,IAAI7I,QAAQ9I,KAAK+N,QAAQ3K,GAAGpD,KAAK6Q,KAAKlP,CAAC,CAAC,IAAAgP,CAAKxR,EAAE8C,EAAEjC,KAAKoD,EAAE/C,GAAG,MAAMjC,EAAE4B,KAAK+N,QAAQ,IAAI/L,GAAE,EAAG,QAAG,IAAS5D,EAAEe,EAAEgH,EAAEnG,KAAKb,EAAE8C,EAAE,GAAGD,GAAG1D,EAAEa,IAAIA,IAAIa,KAAK6Q,MAAM1R,IAAIiH,EAAEpE,IAAIhC,KAAK6Q,KAAK1R,OAAO,CAAC,MAAMkB,EAAElB,EAAE,IAAIC,EAAEa,EAAE,IAAId,EAAEf,EAAE,GAAGgB,EAAE,EAAEA,EAAEhB,EAAEG,OAAO,EAAEa,IAAIa,EAAEkG,EAAEnG,KAAKK,EAAE+C,EAAEhE,GAAG6C,EAAE7C,GAAGa,IAAImG,IAAInG,EAAED,KAAK6Q,KAAKzR,IAAI4C,KAAK1D,EAAE2B,IAAIA,IAAID,KAAK6Q,KAAKzR,GAAGa,IAAI0B,EAAExC,EAAEwC,EAAExC,IAAIwC,IAAIxC,IAAIc,GAAG,IAAI7B,EAAEgB,EAAE,IAAIY,KAAK6Q,KAAKzR,GAAGa,CAAC,CAAC+B,IAAI3B,GAAGL,KAAKmC,EAAEhD,EAAE,CAAC,CAAAgD,CAAEhD,GAAGA,IAAIwC,EAAE3B,KAAK0R,QAAQ7M,gBAAgB7E,KAAKqP,MAAMrP,KAAK0R,QAAQnN,aAAavE,KAAKqP,KAAKlQ,GAAG,GAAG,EAAE,MAAMqD,WAAUiC,GAAE,WAAAT,GAAc2G,SAASjH,WAAW1D,KAAK6I,KAAK,CAAC,CAAC,CAAA1G,CAAEhD,GAAGa,KAAK0R,QAAQ1R,KAAKqP,MAAMlQ,IAAIwC,OAAE,EAAOxC,CAAC,EAAE,MAAMgE,WAAUsB,GAAE,WAAAT,GAAc2G,SAASjH,WAAW1D,KAAK6I,KAAK,CAAC,CAAC,CAAA1G,CAAEhD,GAAGa,KAAK0R,QAAQ5M,gBAAgB9E,KAAKqP,OAAOlQ,GAAGA,IAAIwC,EAAE,EAAE,MAAMX,WAAUyD,GAAE,WAAAT,CAAY7E,EAAE8C,EAAEmB,EAAE/C,EAAEjC,GAAGuM,MAAMxL,EAAE8C,EAAEmB,EAAE/C,EAAEjC,GAAG4B,KAAK6I,KAAK,CAAC,CAAC,IAAA8H,CAAKxR,EAAE8C,EAAEjC,MAAM,IAAIb,EAAEgH,EAAEnG,KAAKb,EAAE8C,EAAE,IAAIN,KAAKyE,EAAE,OAAO,MAAMhD,EAAEpD,KAAK6Q,KAAKxQ,EAAElB,IAAIwC,GAAGyB,IAAIzB,GAAGxC,EAAEyS,UAAUxO,EAAEwO,SAASzS,EAAE0S,OAAOzO,EAAEyO,MAAM1S,EAAE2S,UAAU1O,EAAE0O,QAAQ1T,EAAEe,IAAIwC,IAAIyB,IAAIzB,GAAGtB,GAAGA,GAAGL,KAAK0R,QAAQK,oBAAoB/R,KAAKqP,KAAKrP,KAAKoD,GAAGhF,GAAG4B,KAAK0R,QAAQM,iBAAiBhS,KAAKqP,KAAKrP,KAAKb,GAAGa,KAAK6Q,KAAK1R,CAAC,CAAC,WAAA8S,CAAY9S,GAAG,mBAAmBa,KAAK6Q,KAAK7Q,KAAK6Q,KAAKhS,KAAKmB,KAAKgR,SAASkB,MAAMlS,KAAK0R,QAAQvS,GAAGa,KAAK6Q,KAAKoB,YAAY9S,EAAE,EAAE,MAAMwF,GAAE,WAAAX,CAAY7E,EAAE8C,EAAEmB,GAAGpD,KAAK0R,QAAQvS,EAAEa,KAAK6I,KAAK,EAAE7I,KAAKmQ,UAAK,EAAOnQ,KAAKqQ,KAAKpO,EAAEjC,KAAKgR,QAAQ5N,CAAC,CAAC,QAAImN,GAAO,OAAOvQ,KAAKqQ,KAAKE,IAAI,CAAC,IAAAI,CAAKxR,GAAGgH,EAAEnG,KAAKb,EAAE,EAAO,MAA6DgD,GAAEhD,EAAEgT,uBAAuBhQ,KAAIiD,EAAEW,KAAI5G,EAAEiT,kBAAkB,IAAIlT,KAAK;;;;;;ACAvuN,MAAMe,WAAUd,EAAE,WAAA6E,GAAc2G,SAASjH,WAAW1D,KAAKqS,cAAc,CAACH,KAAKlS,MAAMA,KAAKsS,UAAK,CAAM,CAAC,gBAAA5G,GAAmB,MAAMvM,EAAEwL,MAAMe,mBAAmB,OAAO1L,KAAKqS,cAAcE,eAAepT,EAAEwP,WAAWxP,CAAC,CAAC,MAAAsN,CAAOtN,GAAG,MAAMiE,EAAEpD,KAAKwS,SAASxS,KAAK8K,aAAa9K,KAAKqS,cAAclN,YAAYnF,KAAKmF,aAAawF,MAAM8B,OAAOtN,GAAGa,KAAKsS,KDAg7M,EAACnT,EAAE8C,EAAEmB,KAAK,MAAM/C,EAAE+C,GAAGmP,cAActQ,EAAE,IAAI7D,EAAEiC,EAAEoS,WAAW,QAAG,IAASrU,EAAE,CAAC,MAAMe,EAAEiE,GAAGmP,cAAc,KAAKlS,EAAEoS,WAAWrU,EAAE,IAAI2H,GAAE9D,EAAEmP,aAAa1S,IAAIS,GAAGA,OAAE,EAAOiE,GAAG,CAAA,EAAG,CAAC,OAAOhF,EAAEuS,KAAKxR,GAAGf,GCA5lNiC,CAAE+C,EAAEpD,KAAKuL,WAAWvL,KAAKqS,cAAc,CAAC,iBAAA3P,GAAoBiI,MAAMjI,oBAAoB1C,KAAKsS,MAAMb,cAAa,EAAG,CAAC,oBAAA9O,GAAuBgI,MAAMhI,uBAAuB3C,KAAKsS,MAAMb,cAAa,EAAG,CAAC,MAAAe,GAAS,OAAOpP,CAAC,EAAEnD,GAAEyS,eAAc,EAAGzS,GAAa,WAAE,EAAGR,WAAWkT,2BAA2B,CAACC,WAAW3S,KAAI,MAAMgC,GAAExC,WAAWoT,0BAA0B5Q,KAAI,CAAC2Q,WAAW3S,MAA0DR,WAAWqT,qBAAqB,IAAI5T,KAAK,SCLhyB,MAAM6T,GAAqB,IAAIrR,QCW/B,MAAMsR,GAAU,QAEVC,GAAWvT,OAA+B,yBAAMA,OAA+B,uBAAI,IACpFuT,GAASC,SAASF,KACrBC,GAAS/T,KAAK8T,IAIhB,MAAMG,KAA2BrS,WAAWvB,UAAUwB,cAuLzCqS,IDlLeC,GCEcC,GAExC,cAAiCA,EAM/B,yBAAWC,GACT,MAAO,CAAE,CACf,CAEI,gCAAWC,GACT,OAAOR,EACb,CAOI,4BAAWpH,GACT,OAAO5L,KAAKyT,mBAClB,CAOI,4BAAW7H,CAAkBnN,GAC3BuB,KAAKyT,oBAAsBhV,CACjC,CAOI,wBAAW2L,GACT,OAAOpK,KAAK0T,eAClB,CAEI,wBAAWtJ,CAAcE,GACvBtK,KAAK0T,gBAAkBpJ,CAC7B,CAII,WAAAtG,IAAe2P,GACbhJ,QAEA3K,KAAKqS,cAAgBrS,KAAKqS,oBAAiBuB,CACjD,CAOI,YAAIC,GAEF,OAAO7T,KAAKgE,YAAY8P,UAC9B,CAOI,YAAID,CAASA,GAEX7T,KAAKgE,YAAY8P,WAAaD,CACpC,CAEI,gBAAAnI,GACE,MAAM6H,eAAEA,EAAc3H,kBAAEA,EAAiBxB,cAAEA,GACCpK,KAAgB,YAa5D,IAVGA,KAAK6T,UAEL7T,KAAK6T,WAAa7T,KAAKgE,YAAY8P,aACjCzU,OAAOE,UAAUyK,eAAenL,KAAKmB,KAAKgE,YAAa,cAOlC,CACxBhE,KAAK6T,SAAWV,GAAyB,IAAIrR,sBAA0BV,eACvE,IAAK,MAAOmO,EAASwE,KAAU1U,OAAO2U,QAAQT,GAC5CvT,KAAKiU,oBAAoB1E,EAASwE,EAE5C,CAGM,MAAM/C,EAAU,CACd/D,KAAM,UACHrB,EACHxK,eAAgBpB,KAAK6T,SACrBA,SAAU7T,KAAK6T,UAGXK,EAAclU,KAAKsF,aAAa0L,GAUtC,OATImC,KACFnT,KAAKqS,cAAc7B,cAAgB0D,GAGjCA,aAAuBpT,aACzBqT,EAAYD,EAAa9J,GACzBpK,KAAKqS,cAAcE,aAAevS,KAAKqS,cAAcE,cAAgB2B,EAAYvF,YAG5EuF,CACb,CAEI,mBAAAE,CAAoB7E,GAGlB,OAFa4D,GAAyBnT,KAAK2L,WAAazH,UAE5CnD,cAAcwO,EAChC,CAQI,mBAAA0E,CAAoB1E,EAASwE,GAC3B,MAAMM,EAAkBrU,KAAK6T,SAAStS,IAAIgO,GAc1C,OAbI8E,IAA8C,IAA3BlB,IAAoCkB,IAAoBN,GAE7EO,QAAQC,MACN,CACE,sCAAsChF,oEACtC,sDACA,yFACA,oIACA,kKACA,wFACAiF,KAAK,OAGNH,EAGErU,KAAK6T,SAAStS,IAAIgO,GAFhBvP,KAAK6T,SAASxS,OAAOkO,EAASwE,EAG7C,CASI,gBAAAU,CAAiBlF,GAEf,OAAOvP,KAAKgE,YAAYyQ,iBAAiBlF,EAC/C,CASI,uBAAOkF,CAAiBlF,GAEtB,OAAOvP,KAAK8T,WAAWvS,IAAIgO,GAAWA,OAAUqE,CACtD,GD9KSc,IACL,GAlBJ,SAAmCrB,EAAOqB,GACxC,IAAIX,EAAQW,EACZ,KAAOX,GAAO,CACZ,GAAIhB,GAAmBxR,IAAIwS,KAAWV,EACpC,OAAO,EAETU,EAAQ1U,OAAO2F,eAAe+O,EAClC,CACE,OAAO,CACT,CASQY,CAA0BtB,GAAOqB,GACnC,OAAOA,EAET,MAAME,EAAavB,GAAMqB,GAEzB,OADA3B,GAAmB7P,IAAI0R,EAAYvB,IAC5BuB,CAAU,GAPd,IAAqBvB,GExB5B,MAAMwB,GAAWC,GAAsB,iBAARA,EACzBC,GAAQ,KACZ,IAAIC,EACAC,EACJ,MAAMnR,EAAU,IAAID,SAAQ,CAACN,EAAS2I,KACpC8I,EAAMzR,EACN0R,EAAM/I,CAAM,IAId,OAFApI,EAAQP,QAAUyR,EAClBlR,EAAQoI,OAAS+I,EACVnR,CAAO,EAEVoR,GAAaC,GACH,MAAVA,EAAuB,GACpB,GAAKA,EAORC,GAA4B,OAC5BC,GAAWC,GAAOA,GAAOA,EAAI5F,QAAQ,QAAU,EAAI4F,EAAIC,QAAQH,GAA2B,KAAOE,EACjGE,GAAuBL,IAAWA,GAAUN,GAASM,GACrDM,GAAgB,CAACN,EAAQO,EAAMC,KACnC,MAAMC,EAASf,GAASa,GAAeA,EAAKvG,MAAM,KAAlBuG,EAChC,IAAIG,EAAa,EACjB,KAAOA,EAAaD,EAAMrX,OAAS,GAAG,CACpC,GAAIiX,GAAqBL,GAAS,MAAO,CAAE,EAC3C,MAAMG,EAAMD,GAASO,EAAMC,KACtBV,EAAOG,IAAQK,IAAOR,EAAOG,GAAO,IAAIK,GAE3CR,EADE9V,OAAOE,UAAUyK,eAAenL,KAAKsW,EAAQG,GACtCH,EAAOG,GAEP,CAAE,IAEXO,CACN,CACE,OAAIL,GAAqBL,GAAgB,CAAE,EACpC,CACLL,IAAKK,EACL1Q,EAAG4Q,GAASO,EAAMC,IACnB,EAEGC,GAAU,CAACX,EAAQO,EAAMK,KAC7B,MAAMjB,IACJA,EAAGrQ,EACHA,GACEgR,GAAcN,EAAQO,EAAMrW,QAChC,QAAYuU,IAARkB,GAAqC,IAAhBY,EAAKnX,OAE5B,YADAuW,EAAIrQ,GAAKsR,GAGX,IAAI1V,EAAIqV,EAAKA,EAAKnX,OAAS,GACvBwB,EAAI2V,EAAKlI,MAAM,EAAGkI,EAAKnX,OAAS,GAChCyX,EAAOP,GAAcN,EAAQpV,EAAGV,QACpC,UAAoBuU,IAAboC,EAAKlB,KAAqB/U,EAAExB,QACjC8B,EAAI,GAAGN,EAAEA,EAAExB,OAAS,MAAM8B,IAC1BN,EAAIA,EAAEyN,MAAM,EAAGzN,EAAExB,OAAS,GAC1ByX,EAAOP,GAAcN,EAAQpV,EAAGV,QAC5B2W,GAAQA,EAAKlB,UAA6C,IAA/BkB,EAAKlB,IAAI,GAAGkB,EAAKvR,KAAKpE,OACnD2V,EAAKlB,SAAMlB,GAGfoC,EAAKlB,IAAI,GAAGkB,EAAKvR,KAAKpE,KAAO0V,CAAQ,EAUjCE,GAAU,CAACd,EAAQO,KACvB,MAAMZ,IACJA,EAAGrQ,EACHA,GACEgR,GAAcN,EAAQO,GAC1B,GAAKZ,EACL,OAAOA,EAAIrQ,EAAE,EASTyR,GAAa,CAACC,EAAQC,EAAQC,KAClC,IAAK,MAAMC,KAAQF,EACJ,cAATE,GAAiC,gBAATA,IACtBA,KAAQH,EACNtB,GAASsB,EAAOG,KAAUH,EAAOG,aAAiBxN,QAAU+L,GAASuB,EAAOE,KAAUF,EAAOE,aAAiBxN,OAC5GuN,IAAWF,EAAOG,GAAQF,EAAOE,IAErCJ,GAAWC,EAAOG,GAAOF,EAAOE,GAAOD,GAGzCF,EAAOG,GAAQF,EAAOE,IAI5B,OAAOH,CAAM,EAETI,GAAcC,GAAOA,EAAIjB,QAAQ,sCAAuC,QAC9E,IAAIkB,GAAa,CACf,IAAK,QACL,IAAK,OACL,IAAK,OACL,IAAK,SACL,IAAK,QACL,IAAK,UAEP,MAAMC,GAASjH,GACToF,GAASpF,GACJA,EAAK8F,QAAQ,cAAcnS,GAAKqT,GAAWrT,KAE7CqM,EAsBT,MAAMkH,GAAQ,CAAC,IAAK,IAAK,IAAK,IAAK,KAC7BC,GAAiC,IArBvC,MACE,WAAA5S,CAAY6S,GACV7W,KAAK6W,SAAWA,EAChB7W,KAAK8W,UAAY,IAAI/U,IACrB/B,KAAK+W,YAAc,EACvB,CACE,SAAAC,CAAUC,GACR,MAAMC,EAAkBlX,KAAK8W,UAAUvV,IAAI0V,GAC3C,QAAwBrD,IAApBsD,EACF,OAAOA,EAET,MAAMC,EAAY,IAAIvJ,OAAOqJ,GAM7B,OALIjX,KAAK+W,YAAYxY,SAAWyB,KAAK6W,UACnC7W,KAAK8W,UAAUzT,OAAOrD,KAAK+W,YAAYK,SAEzCpX,KAAK8W,UAAU5T,IAAI+T,EAASE,GAC5BnX,KAAK+W,YAAY7X,KAAK+X,GACfE,CACX,GAGuD,IAgBjDE,GAAW,SAAUvC,EAAKY,GAC9B,IAAI4B,EAAe5T,UAAUnF,OAAS,QAAsBqV,IAAjBlQ,UAAU,GAAmBA,UAAU,GAAK,IACvF,IAAKoR,EAAK,OACV,GAAIA,EAAIY,GAAO,OAAOZ,EAAIY,GAC1B,MAAM6B,EAAS7B,EAAKvG,MAAMmI,GAC1B,IAAIE,EAAU1C,EACd,IAAK,IAAI7S,EAAI,EAAGA,EAAIsV,EAAOhZ,QAAS,CAClC,IAAKiZ,GAA8B,iBAAZA,EACrB,OAEF,IAAI1Y,EACA2Y,EAAW,GACf,IAAK,IAAItV,EAAIF,EAAGE,EAAIoV,EAAOhZ,SAAU4D,EAMnC,GALIA,IAAMF,IACRwV,GAAYH,GAEdG,GAAYF,EAAOpV,GACnBrD,EAAO0Y,EAAQC,QACF7D,IAAT9U,EAAoB,CACtB,GAAI,CAAC,SAAU,SAAU,WAAW4Q,eAAe5Q,IAAS,GAAKqD,EAAIoV,EAAOhZ,OAAS,EACnF,SAEF0D,GAAKE,EAAIF,EAAI,EACb,KACR,CAEIuV,EAAU1Y,CACd,CACE,OAAO0Y,CACT,EACME,GAAiBC,GAAQA,GAAQA,EAAKpC,QAAQ,IAAK,KAEnDqC,GAAgB,CACpB/O,KAAM,SACN,GAAAgP,CAAIC,GACF9X,KAAK+X,OAAO,MAAOD,EACpB,EACD,IAAAE,CAAKF,GACH9X,KAAK+X,OAAO,OAAQD,EACrB,EACD,KAAAvD,CAAMuD,GACJ9X,KAAK+X,OAAO,QAASD,EACtB,EACD,MAAAC,CAAOlP,EAAMiP,GACPxD,SAAWA,QAAQzL,IAAOyL,QAAQzL,GAAMrI,MAAM8T,QAASwD,EAC/D,GAyDA,IAAIG,GAAa,IAvDjB,MAAMC,EACJ,WAAAlU,CAAYmU,GACV,IAAInH,EAAUtN,UAAUnF,OAAS,QAAsBqV,IAAjBlQ,UAAU,GAAmBA,UAAU,GAAK,CAAE,EACpF1D,KAAKoY,KAAKD,EAAgBnH,EAC9B,CACE,IAAAoH,CAAKD,GACH,IAAInH,EAAUtN,UAAUnF,OAAS,QAAsBqV,IAAjBlQ,UAAU,GAAmBA,UAAU,GAAK,CAAE,EACpF1D,KAAKqY,OAASrH,EAAQqH,QAAU,WAChCrY,KAAKsY,OAASH,GAAkBP,GAChC5X,KAAKgR,QAAUA,EACfhR,KAAKuY,MAAQvH,EAAQuH,KACzB,CACE,GAAAV,GACE,IAAK,IAAIW,EAAO9U,UAAUnF,OAAQuZ,EAAO,IAAI9Y,MAAMwZ,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC/EX,EAAKW,GAAQ/U,UAAU+U,GAEzB,OAAOzY,KAAK0Y,QAAQZ,EAAM,MAAO,IAAI,EACzC,CACE,IAAAE,GACE,IAAK,IAAIW,EAAQjV,UAAUnF,OAAQuZ,EAAO,IAAI9Y,MAAM2Z,GAAQC,EAAQ,EAAGA,EAAQD,EAAOC,IACpFd,EAAKc,GAASlV,UAAUkV,GAE1B,OAAO5Y,KAAK0Y,QAAQZ,EAAM,OAAQ,IAAI,EAC1C,CACE,KAAAvD,GACE,IAAK,IAAIsE,EAAQnV,UAAUnF,OAAQuZ,EAAO,IAAI9Y,MAAM6Z,GAAQC,EAAQ,EAAGA,EAAQD,EAAOC,IACpFhB,EAAKgB,GAASpV,UAAUoV,GAE1B,OAAO9Y,KAAK0Y,QAAQZ,EAAM,QAAS,GACvC,CACE,SAAAiB,GACE,IAAK,IAAIC,EAAQtV,UAAUnF,OAAQuZ,EAAO,IAAI9Y,MAAMga,GAAQC,EAAQ,EAAGA,EAAQD,EAAOC,IACpFnB,EAAKmB,GAASvV,UAAUuV,GAE1B,OAAOjZ,KAAK0Y,QAAQZ,EAAM,OAAQ,wBAAwB,EAC9D,CACE,OAAAY,CAAQZ,EAAMoB,EAAKb,EAAQc,GACzB,OAAIA,IAAcnZ,KAAKuY,MAAc,MACjC1D,GAASiD,EAAK,MAAKA,EAAK,GAAK,GAAGO,IAASrY,KAAKqY,UAAUP,EAAK,MAC1D9X,KAAKsY,OAAOY,GAAKpB,GAC5B,CACE,MAAAxY,CAAO8Z,GACL,OAAO,IAAIlB,EAAOlY,KAAKsY,OAAQ,CAE3BD,OAAQ,GAAGrY,KAAKqY,UAAUe,QAEzBpZ,KAAKgR,SAEd,CACE,KAAAqI,CAAMrI,GAGJ,OAFAA,EAAUA,GAAWhR,KAAKgR,SAClBqH,OAASrH,EAAQqH,QAAUrY,KAAKqY,OACjC,IAAIH,EAAOlY,KAAKsY,OAAQtH,EACnC,GAIA,MAAMsI,GACJ,WAAAtV,GACEhE,KAAKuZ,UAAY,CAAE,CACvB,CACE,EAAAC,CAAGC,EAAQC,GAMT,OALAD,EAAOtK,MAAM,KAAKlK,SAAQ0U,IACnB3Z,KAAKuZ,UAAUI,KAAQ3Z,KAAKuZ,UAAUI,GAAS,IAAI5X,KACxD,MAAM6X,EAAe5Z,KAAKuZ,UAAUI,GAAOpY,IAAImY,IAAa,EAC5D1Z,KAAKuZ,UAAUI,GAAOzW,IAAIwW,EAAUE,EAAe,EAAE,IAEhD5Z,IACX,CACE,GAAA6Z,CAAIF,EAAOD,GACJ1Z,KAAKuZ,UAAUI,KACfD,EAIL1Z,KAAKuZ,UAAUI,GAAOtW,OAAOqW,UAHpB1Z,KAAKuZ,UAAUI,GAI5B,CACE,IAAAG,CAAKH,GACH,IAAK,IAAInB,EAAO9U,UAAUnF,OAAQuZ,EAAO,IAAI9Y,MAAMwZ,EAAO,EAAIA,EAAO,EAAI,GAAIC,EAAO,EAAGA,EAAOD,EAAMC,IAClGX,EAAKW,EAAO,GAAK/U,UAAU+U,GAE7B,GAAIzY,KAAKuZ,UAAUI,GAAQ,CACV3a,MAAM+a,KAAK/Z,KAAKuZ,UAAUI,GAAO3F,WACzC/O,SAAQ+U,IACb,IAAKC,EAAUC,GAAiBF,EAChC,IAAK,IAAI/X,EAAI,EAAGA,EAAIiY,EAAejY,IACjCgY,KAAYnC,EACtB,GAEA,CACI,GAAI9X,KAAKuZ,UAAU,KAAM,CACRva,MAAM+a,KAAK/Z,KAAKuZ,UAAU,KAAKvF,WACvC/O,SAAQkV,IACb,IAAKF,EAAUC,GAAiBC,EAChC,IAAK,IAAIlY,EAAI,EAAGA,EAAIiY,EAAejY,IACjCgY,EAASzZ,MAAMyZ,EAAU,CAACN,KAAU7B,GAC9C,GAEA,CACA,EAGA,MAAMsC,WAAsBd,GAC1B,WAAAtV,CAAYyL,GACV,IAAIuB,EAAUtN,UAAUnF,OAAS,QAAsBqV,IAAjBlQ,UAAU,GAAmBA,UAAU,GAAK,CAChF2W,GAAI,CAAC,eACLC,UAAW,eAEb3P,QACA3K,KAAKyP,KAAOA,GAAQ,CAAE,EACtBzP,KAAKgR,QAAUA,OACmB4C,IAA9B5T,KAAKgR,QAAQsG,eACftX,KAAKgR,QAAQsG,aAAe,UAEW1D,IAArC5T,KAAKgR,QAAQuJ,sBACfva,KAAKgR,QAAQuJ,qBAAsB,EAEzC,CACE,aAAAC,CAAcH,GACRra,KAAKgR,QAAQqJ,GAAG3K,QAAQ2K,GAAM,GAChCra,KAAKgR,QAAQqJ,GAAGnb,KAAKmb,EAE3B,CACE,gBAAAI,CAAiBJ,GACf,MAAMjL,EAAQpP,KAAKgR,QAAQqJ,GAAG3K,QAAQ2K,GAClCjL,GAAS,GACXpP,KAAKgR,QAAQqJ,GAAGK,OAAOtL,EAAO,EAEpC,CACE,WAAAuL,CAAYC,EAAKP,EAAI/E,GACnB,IAAItE,EAAUtN,UAAUnF,OAAS,QAAsBqV,IAAjBlQ,UAAU,GAAmBA,UAAU,GAAK,CAAE,EACpF,MAAM4T,OAAwC1D,IAAzB5C,EAAQsG,aAA6BtG,EAAQsG,aAAetX,KAAKgR,QAAQsG,aACxFiD,OAAsD3G,IAAhC5C,EAAQuJ,oBAAoCvJ,EAAQuJ,oBAAsBva,KAAKgR,QAAQuJ,oBACnH,IAAI7E,EACAkF,EAAIlL,QAAQ,MAAQ,EACtBgG,EAAOkF,EAAIzL,MAAM,MAEjBuG,EAAO,CAACkF,EAAKP,GACT/E,IACEtW,MAAMuL,QAAQ+K,GAChBI,EAAKxW,QAAQoW,GACJT,GAASS,IAAQgC,EAC1B5B,EAAKxW,QAAQoW,EAAInG,MAAMmI,IAEvB5B,EAAKxW,KAAKoW,KAIhB,MAAMuF,EAAS5E,GAAQjW,KAAKyP,KAAMiG,GAMlC,OALKmF,IAAWR,IAAO/E,GAAOsF,EAAIlL,QAAQ,MAAQ,IAChDkL,EAAMlF,EAAK,GACX2E,EAAK3E,EAAK,GACVJ,EAAMI,EAAKlI,MAAM,GAAGgH,KAAK,OAEvBqG,GAAWN,GAAwB1F,GAASS,GACzC+B,GAASrX,KAAKyP,MAAQzP,KAAKyP,KAAKmL,IAAQ5a,KAAKyP,KAAKmL,GAAKP,GAAK/E,EAAKgC,GADXuD,CAEjE,CACE,WAAAC,CAAYF,EAAKP,EAAI/E,EAAK7W,GACxB,IAAIuS,EAAUtN,UAAUnF,OAAS,QAAsBqV,IAAjBlQ,UAAU,GAAmBA,UAAU,GAAK,CAChFqX,QAAQ,GAEV,MAAMzD,OAAwC1D,IAAzB5C,EAAQsG,aAA6BtG,EAAQsG,aAAetX,KAAKgR,QAAQsG,aAC9F,IAAI5B,EAAO,CAACkF,EAAKP,GACb/E,IAAKI,EAAOA,EAAKzP,OAAOqR,EAAehC,EAAInG,MAAMmI,GAAgBhC,IACjEsF,EAAIlL,QAAQ,MAAQ,IACtBgG,EAAOkF,EAAIzL,MAAM,KACjB1Q,EAAQ4b,EACRA,EAAK3E,EAAK,IAEZ1V,KAAKwa,cAAcH,GACnBvE,GAAQ9V,KAAKyP,KAAMiG,EAAMjX,GACpBuS,EAAQ+J,QAAQ/a,KAAK8Z,KAAK,QAASc,EAAKP,EAAI/E,EAAK7W,EAC1D,CACE,YAAAuc,CAAaJ,EAAKP,EAAIY,GACpB,IAAIjK,EAAUtN,UAAUnF,OAAS,QAAsBqV,IAAjBlQ,UAAU,GAAmBA,UAAU,GAAK,CAChFqX,QAAQ,GAEV,IAAK,MAAMhc,KAAKkc,GACVpG,GAASoG,EAAUlc,KAAOC,MAAMuL,QAAQ0Q,EAAUlc,MAAKiB,KAAK8a,YAAYF,EAAKP,EAAItb,EAAGkc,EAAUlc,GAAI,CACpGgc,QAAQ,IAGP/J,EAAQ+J,QAAQ/a,KAAK8Z,KAAK,QAASc,EAAKP,EAAIY,EACrD,CACE,iBAAAC,CAAkBN,EAAKP,EAAIY,EAAWE,EAAM9E,GAC1C,IAAIrF,EAAUtN,UAAUnF,OAAS,QAAsBqV,IAAjBlQ,UAAU,GAAmBA,UAAU,GAAK,CAChFqX,QAAQ,EACRK,UAAU,GAER1F,EAAO,CAACkF,EAAKP,GACbO,EAAIlL,QAAQ,MAAQ,IACtBgG,EAAOkF,EAAIzL,MAAM,KACjBgM,EAAOF,EACPA,EAAYZ,EACZA,EAAK3E,EAAK,IAEZ1V,KAAKwa,cAAcH,GACnB,IAAIgB,EAAOpF,GAAQjW,KAAKyP,KAAMiG,IAAS,CAAE,EACpC1E,EAAQoK,WAAUH,EAAY1S,KAAKI,MAAMJ,KAAKC,UAAUyS,KACzDE,EACFjF,GAAWmF,EAAMJ,EAAW5E,GAE5BgF,EAAO,IACFA,KACAJ,GAGPnF,GAAQ9V,KAAKyP,KAAMiG,EAAM2F,GACpBrK,EAAQ+J,QAAQ/a,KAAK8Z,KAAK,QAASc,EAAKP,EAAIY,EACrD,CACE,oBAAAK,CAAqBV,EAAKP,GACpBra,KAAKub,kBAAkBX,EAAKP,WACvBra,KAAKyP,KAAKmL,GAAKP,GAExBra,KAAKya,iBAAiBJ,GACtBra,KAAK8Z,KAAK,UAAWc,EAAKP,EAC9B,CACE,iBAAAkB,CAAkBX,EAAKP,GACrB,YAAqCzG,IAA9B5T,KAAK2a,YAAYC,EAAKP,EACjC,CACE,iBAAAmB,CAAkBZ,EAAKP,GAErB,OADKA,IAAIA,EAAKra,KAAKgR,QAAQsJ,WACW,OAAlCta,KAAKgR,QAAQyK,iBAAkC,IAE9Czb,KAAK2a,YAAYC,EAAKP,IAEpBra,KAAK2a,YAAYC,EAAKP,EACjC,CACE,iBAAAqB,CAAkBd,GAChB,OAAO5a,KAAKyP,KAAKmL,EACrB,CACE,2BAAAe,CAA4Bf,GAC1B,MAAMnL,EAAOzP,KAAK0b,kBAAkBd,GAEpC,SADUnL,GAAQpQ,OAAOmK,KAAKiG,IAAS,IAC5BjJ,MAAKkH,GAAK+B,EAAK/B,IAAMrO,OAAOmK,KAAKiG,EAAK/B,IAAInP,OAAS,GAClE,CACE,MAAAqd,GACE,OAAO5b,KAAKyP,IAChB,EAGA,IAAIoM,GAAgB,CAClBC,WAAY,CAAE,EACd,gBAAAC,CAAiBC,GACfhc,KAAK8b,WAAWE,EAAO3M,MAAQ2M,CAChC,EACD,MAAAC,CAAOH,EAAYrd,EAAO6W,EAAKtE,EAASkL,GAItC,OAHAJ,EAAW7W,SAAQkX,IACbnc,KAAK8b,WAAWK,KAAY1d,EAAQuB,KAAK8b,WAAWK,GAAWC,QAAQ3d,EAAO6W,EAAKtE,EAASkL,GAAW,IAEtGzd,CACX,GAGA,MAAM4d,GAAmB,CAAE,EAC3B,MAAMC,WAAmBhD,GACvB,WAAAtV,CAAYuY,GACV,IAAIvL,EAAUtN,UAAUnF,OAAS,QAAsBqV,IAAjBlQ,UAAU,GAAmBA,UAAU,GAAK,CAAE,EACpFiH,QA9bS,EAAC1L,EAAGmE,EAAGjE,KAClBF,EAAEgG,SAAQlG,IACJqE,EAAErE,KAAII,EAAEJ,GAAKqE,EAAErE,GAAE,GACrB,EA4bAyd,CAAK,CAAC,gBAAiB,gBAAiB,iBAAkB,eAAgB,mBAAoB,aAAc,SAAUD,EAAUvc,MAChIA,KAAKgR,QAAUA,OACmB4C,IAA9B5T,KAAKgR,QAAQsG,eACftX,KAAKgR,QAAQsG,aAAe,KAE9BtX,KAAKsY,OAASL,GAAW3Y,OAAO,aACpC,CACE,cAAAmd,CAAe7B,GACTA,IAAK5a,KAAK0c,SAAW9B,EAC7B,CACE,MAAA+B,CAAOrH,GACL,IAAItE,EAAUtN,UAAUnF,OAAS,QAAsBqV,IAAjBlQ,UAAU,GAAmBA,UAAU,GAAK,CAChFkZ,cAAe,CAAA,GAEjB,GAAItH,QACF,OAAO,EAET,MAAMuH,EAAW7c,KAAKuD,QAAQ+R,EAAKtE,GACnC,OAAO6L,QAA6BjJ,IAAjBiJ,EAAS7H,GAChC,CACE,cAAA8H,CAAexH,EAAKtE,GAClB,IAAI+L,OAAsCnJ,IAAxB5C,EAAQ+L,YAA4B/L,EAAQ+L,YAAc/c,KAAKgR,QAAQ+L,iBACrEnJ,IAAhBmJ,IAA2BA,EAAc,KAC7C,MAAMzF,OAAwC1D,IAAzB5C,EAAQsG,aAA6BtG,EAAQsG,aAAetX,KAAKgR,QAAQsG,aAC9F,IAAI0F,EAAahM,EAAQqJ,IAAMra,KAAKgR,QAAQsJ,WAAa,GACzD,MAAM2C,EAAuBF,GAAezH,EAAI5F,QAAQqN,IAAgB,EAClEG,IAAwBld,KAAKgR,QAAQmM,yBAA4BnM,EAAQsG,cAAiBtX,KAAKgR,QAAQoM,wBAA2BpM,EAAQ+L,aA3VxH,EAACzH,EAAKyH,EAAazF,KAC7CyF,EAAcA,GAAe,GAC7BzF,EAAeA,GAAgB,GAC/B,MAAM+F,EAAgB1G,GAAM2G,QAAOhf,GAAKye,EAAYrN,QAAQpR,GAAK,GAAKgZ,EAAa5H,QAAQpR,GAAK,IAChG,GAA6B,IAAzB+e,EAAc9e,OAAc,OAAO,EACvC,MAAM0B,EAAI2W,GAA+BI,UAAU,IAAIqG,EAAc3V,KAAIpJ,GAAW,MAANA,EAAY,MAAQA,IAAGkW,KAAK,SAC1G,IAAI+I,GAAWtd,EAAEoO,KAAKiH,GACtB,IAAKiI,EAAS,CACZ,MAAMC,EAAKlI,EAAI5F,QAAQ4H,GACnBkG,EAAK,IAAMvd,EAAEoO,KAAKiH,EAAImI,UAAU,EAAGD,MACrCD,GAAU,EAEhB,CACE,OAAOA,CAAO,EA8UoJG,CAAoBpI,EAAKyH,EAAazF,IACtM,GAAI2F,IAAyBC,EAAsB,CACjD,MAAMne,EAAIuW,EAAIqI,MAAM3d,KAAK4d,aAAaC,eACtC,GAAI9e,GAAKA,EAAER,OAAS,EAClB,MAAO,CACL+W,MACA0H,WAAYnI,GAASmI,GAAc,CAACA,GAAcA,GAGtD,MAAMzO,EAAQ+G,EAAInG,MAAM4N,IACpBA,IAAgBzF,GAAgByF,IAAgBzF,GAAgBtX,KAAKgR,QAAQqJ,GAAG3K,QAAQnB,EAAM,KAAO,KAAGyO,EAAazO,EAAM6I,SAC/H9B,EAAM/G,EAAMiG,KAAK8C,EACvB,CACI,MAAO,CACLhC,MACA0H,WAAYnI,GAASmI,GAAc,CAACA,GAAcA,EAExD,CACE,SAAAc,CAAUtU,EAAMwH,EAAS+M,GAQvB,GAPuB,iBAAZ/M,GAAwBhR,KAAKgR,QAAQgN,mCAC9ChN,EAAUhR,KAAKgR,QAAQgN,iCAAiCta,YAEnC,iBAAZsN,IAAsBA,EAAU,IACtCA,IAEAA,IAASA,EAAU,CAAE,GACtBxH,QAAqC,MAAO,GAC3CxK,MAAMuL,QAAQf,KAAOA,EAAO,CAACV,OAAOU,KACzC,MAAMyU,OAA0CrK,IAA1B5C,EAAQiN,cAA8BjN,EAAQiN,cAAgBje,KAAKgR,QAAQiN,cAC3F3G,OAAwC1D,IAAzB5C,EAAQsG,aAA6BtG,EAAQsG,aAAetX,KAAKgR,QAAQsG,cACxFhC,IACJA,EAAG0H,WACHA,GACEhd,KAAK8c,eAAetT,EAAKA,EAAKjL,OAAS,GAAIyS,GACzCkN,EAAYlB,EAAWA,EAAWze,OAAS,GAC3Cqc,EAAM5J,EAAQ4J,KAAO5a,KAAK0c,SAC1ByB,EAA0BnN,EAAQmN,yBAA2Bne,KAAKgR,QAAQmN,wBAChF,GAAIvD,GAA6B,WAAtBA,EAAI1Y,cAA4B,CACzC,GAAIic,EAAyB,CAC3B,MAAMpB,EAAc/L,EAAQ+L,aAAe/c,KAAKgR,QAAQ+L,YACxD,OAAIkB,EACK,CACLjJ,IAAK,GAAGkJ,IAAYnB,IAAczH,IAClC8I,QAAS9I,EACT+I,aAAc/I,EACdgJ,QAAS1D,EACT2D,OAAQL,EACRM,WAAYxe,KAAKye,qBAAqBzN,IAGnC,GAAGkN,IAAYnB,IAAczH,GAC5C,CACM,OAAI2I,EACK,CACLjJ,IAAKM,EACL8I,QAAS9I,EACT+I,aAAc/I,EACdgJ,QAAS1D,EACT2D,OAAQL,EACRM,WAAYxe,KAAKye,qBAAqBzN,IAGnCsE,CACb,CACI,MAAMuH,EAAW7c,KAAKuD,QAAQiG,EAAMwH,GACpC,IAAIgE,EAAM6H,GAAYA,EAAS7H,IAC/B,MAAM0J,EAAa7B,GAAYA,EAASuB,SAAW9I,EAC7CqJ,EAAkB9B,GAAYA,EAASwB,cAAgB/I,EACvDsJ,EAAUvf,OAAOE,UAAUgI,SAAS/G,MAAMwU,GAE1C6J,OAAoCjL,IAAvB5C,EAAQ6N,WAA2B7N,EAAQ6N,WAAa7e,KAAKgR,QAAQ6N,WAClFC,GAA8B9e,KAAK+e,YAAc/e,KAAK+e,WAAWC,eACjEA,GAAkBnK,GAASG,IAAuB,kBAARA,GAAoC,iBAARA,EAC5E,KAAI8J,GAA8B9J,GAAOgK,GAJxB,CAAC,kBAAmB,oBAAqB,mBAIUtP,QAAQkP,GAAW,IAAO/J,GAASgK,IAAe7f,MAAMuL,QAAQyK,GAmC7H,GAAI8J,GAA8BjK,GAASgK,IAAe7f,MAAMuL,QAAQyK,GAC7EA,EAAMA,EAAIR,KAAKqK,GACX7J,IAAKA,EAAMhV,KAAKif,kBAAkBjK,EAAKxL,EAAMwH,EAAS+M,QACrD,CACL,IAAImB,GAAc,EACdd,GAAU,EACd,MAAMe,OAAwCvL,IAAlB5C,EAAQoO,QAAwBvK,GAAS7D,EAAQoO,OACvEC,EAAkB/C,GAAW+C,gBAAgBrO,GAC7CsO,EAAqBH,EAAsBnf,KAAKuf,eAAeC,UAAU5E,EAAK5J,EAAQoO,MAAOpO,GAAW,GACxGyO,EAAoCzO,EAAQ0O,SAAWP,EAAsBnf,KAAKuf,eAAeC,UAAU5E,EAAK5J,EAAQoO,MAAO,CACnIM,SAAS,IACN,GACCC,EAAwBR,IAAwBnO,EAAQ0O,SAA6B,IAAlB1O,EAAQoO,OAAepf,KAAKuf,eAAeK,mBAC9GC,EAAeF,GAAyB3O,EAAQ,eAAehR,KAAKgR,QAAQ8O,wBAA0B9O,EAAQ,eAAesO,MAAyBtO,EAAQ,eAAeyO,MAAwCzO,EAAQ6O,cAC9N7f,KAAK+f,cAAc/K,IAAQqK,IAC9BH,GAAc,EACdlK,EAAM6K,GAEH7f,KAAK+f,cAAc/K,KACtBoJ,GAAU,EACVpJ,EAAMM,GAER,MACM0K,GADiChP,EAAQiP,gCAAkCjgB,KAAKgR,QAAQiP,iCACtC7B,OAAUxK,EAAYoB,EACxEkL,EAAgBb,GAAmBQ,IAAiB7K,GAAOhV,KAAKgR,QAAQkP,cAC9E,GAAI9B,GAAWc,GAAegB,EAAe,CAE3C,GADAlgB,KAAKsY,OAAOT,IAAIqI,EAAgB,YAAc,aAActF,EAAKsD,EAAW5I,EAAK4K,EAAgBL,EAAe7K,GAC5GsC,EAAc,CAChB,MAAM6I,EAAKngB,KAAKuD,QAAQ+R,EAAK,IACxBtE,EACHsG,cAAc,IAEZ6I,GAAMA,EAAGnL,KAAKhV,KAAKsY,OAAON,KAAK,kLAC7C,CACQ,IAAIoI,EAAO,GACX,MAAMC,EAAergB,KAAKsgB,cAAcC,iBAAiBvgB,KAAKgR,QAAQwP,YAAaxP,EAAQ4J,KAAO5a,KAAK0c,UACvG,GAAmC,aAA/B1c,KAAKgR,QAAQyP,eAAgCJ,GAAgBA,EAAa,GAC5E,IAAK,IAAIpe,EAAI,EAAGA,EAAIoe,EAAa9hB,OAAQ0D,IACvCme,EAAKlhB,KAAKmhB,EAAape,QAEe,QAA/BjC,KAAKgR,QAAQyP,cACtBL,EAAOpgB,KAAKsgB,cAAcI,mBAAmB1P,EAAQ4J,KAAO5a,KAAK0c,UAEjE0D,EAAKlhB,KAAK8R,EAAQ4J,KAAO5a,KAAK0c,UAEhC,MAAMiE,EAAO,CAACjiB,EAAG+F,EAAGmc,KAClB,MAAMC,EAAoBxB,GAAmBuB,IAAyB5L,EAAM4L,EAAuBZ,EAC/FhgB,KAAKgR,QAAQ8P,kBACf9gB,KAAKgR,QAAQ8P,kBAAkBpiB,EAAGwf,EAAWzZ,EAAGoc,EAAmBX,EAAelP,GACzEhR,KAAK+gB,kBAAoB/gB,KAAK+gB,iBAAiBC,aACxDhhB,KAAK+gB,iBAAiBC,YAAYtiB,EAAGwf,EAAWzZ,EAAGoc,EAAmBX,EAAelP,GAEvFhR,KAAK8Z,KAAK,aAAcpb,EAAGwf,EAAWzZ,EAAGuQ,EAAI,EAE3ChV,KAAKgR,QAAQgQ,cACXhhB,KAAKgR,QAAQiQ,oBAAsB9B,EACrCiB,EAAKnb,SAAQyX,IACX,MAAMwE,EAAWlhB,KAAKuf,eAAe4B,YAAYzE,EAAU1L,GACvD2O,GAAyB3O,EAAQ,eAAehR,KAAKgR,QAAQ8O,wBAA0BoB,EAASxR,QAAQ,GAAG1P,KAAKgR,QAAQ8O,uBAAyB,GACnJoB,EAAShiB,KAAK,GAAGc,KAAKgR,QAAQ8O,uBAEhCoB,EAASjc,SAAQmc,IACfT,EAAK,CAACjE,GAAWpH,EAAM8L,EAAQpQ,EAAQ,eAAeoQ,MAAavB,EAAa,GAChF,IAGJc,EAAKP,EAAM9K,EAAKuK,GAG5B,CACM7K,EAAMhV,KAAKif,kBAAkBjK,EAAKxL,EAAMwH,EAAS6L,EAAUkB,GACvDK,GAAWpJ,IAAQM,GAAOtV,KAAKgR,QAAQqQ,8BAA6BrM,EAAM,GAAGkJ,KAAa5I,MACzF8I,GAAWc,IAAgBlf,KAAKgR,QAAQsQ,yBAEzCtM,EADoC,OAAlChV,KAAKgR,QAAQyK,iBACTzb,KAAKgR,QAAQsQ,uBAAuBthB,KAAKgR,QAAQqQ,4BAA8B,GAAGnD,KAAa5I,IAAQA,EAAK4J,EAAclK,OAAMpB,GAEhI5T,KAAKgR,QAAQsQ,uBAAuBtM,GAGpD,KAlH+I,CACzI,IAAKhE,EAAQuQ,gBAAkBvhB,KAAKgR,QAAQuQ,cAAe,CACpDvhB,KAAKgR,QAAQwQ,uBAChBxhB,KAAKsY,OAAON,KAAK,mEAEnB,MAAM/X,EAAID,KAAKgR,QAAQwQ,sBAAwBxhB,KAAKgR,QAAQwQ,sBAAsB9C,EAAY1J,EAAK,IAC9FhE,EACHqJ,GAAI2C,IACD,QAAQ1H,MAAQtV,KAAK0c,mDAC1B,OAAIuB,GACFpB,EAAS7H,IAAM/U,EACf4c,EAAS2B,WAAaxe,KAAKye,qBAAqBzN,GACzC6L,GAEF5c,CACf,CACM,GAAIqX,EAAc,CAChB,MAAMmK,EAAiBziB,MAAMuL,QAAQyK,GAC/BwH,EAAOiF,EAAiB,GAAK,CAAE,EAC/BC,EAAcD,EAAiB9C,EAAkBD,EACvD,IAAK,MAAM3f,KAAKiW,EACd,GAAI3V,OAAOE,UAAUyK,eAAenL,KAAKmW,EAAKjW,GAAI,CAChD,MAAM4iB,EAAU,GAAGD,IAAcpK,IAAevY,IAChDyd,EAAKzd,GAAKiB,KAAK8d,UAAU6D,EAAS,IAC7B3Q,EAED6N,YAAY,EACZxE,GAAI2C,IAGJR,EAAKzd,KAAO4iB,IAASnF,EAAKzd,GAAKiW,EAAIjW,GACnD,CAEQiW,EAAMwH,CACd,CACA,CAgFI,OAAIyB,GACFpB,EAAS7H,IAAMA,EACf6H,EAAS2B,WAAaxe,KAAKye,qBAAqBzN,GACzC6L,GAEF7H,CACX,CACE,iBAAAiK,CAAkBjK,EAAKM,EAAKtE,EAAS6L,EAAUkB,GAC7C,IAAI6D,EAAQ5hB,KACZ,GAAIA,KAAK+e,YAAc/e,KAAK+e,WAAWpW,MACrCqM,EAAMhV,KAAK+e,WAAWpW,MAAMqM,EAAK,IAC5BhV,KAAKgR,QAAQ4L,cAAciF,oBAC3B7Q,GACFA,EAAQ4J,KAAO5a,KAAK0c,UAAYG,EAASyB,QAASzB,EAAS0B,OAAQ1B,EAASuB,QAAS,CACtFvB,kBAEG,IAAK7L,EAAQ8Q,kBAAmB,CACjC9Q,EAAQ4L,eAAe5c,KAAK4d,aAAaxF,KAAK,IAC7CpH,EAED4L,cAAe,IACV5c,KAAKgR,QAAQ4L,iBACb5L,EAAQ4L,iBAIjB,MAAMmF,EAAkBlN,GAASG,KAAShE,GAAWA,EAAQ4L,oBAA2DhJ,IAA1C5C,EAAQ4L,cAAcmF,gBAAgC/Q,EAAQ4L,cAAcmF,gBAAkB/hB,KAAKgR,QAAQ4L,cAAcmF,iBACvM,IAAIC,EACJ,GAAID,EAAiB,CACnB,MAAME,EAAKjN,EAAI2I,MAAM3d,KAAK4d,aAAaC,eACvCmE,EAAUC,GAAMA,EAAG1jB,MAC3B,CACM,IAAIkR,EAAOuB,EAAQuE,UAAYV,GAAS7D,EAAQuE,SAAWvE,EAAQuE,QAAUvE,EAM7E,GALIhR,KAAKgR,QAAQ4L,cAAciF,mBAAkBpS,EAAO,IACnDzP,KAAKgR,QAAQ4L,cAAciF,oBAC3BpS,IAELuF,EAAMhV,KAAK4d,aAAasE,YAAYlN,EAAKvF,EAAMuB,EAAQ4J,KAAO5a,KAAK0c,UAAYG,EAASyB,QAAStN,GAC7F+Q,EAAiB,CACnB,MAAMI,EAAKnN,EAAI2I,MAAM3d,KAAK4d,aAAaC,eAEnCmE,GADYG,GAAMA,EAAG5jB,UACFyS,EAAQoR,MAAO,EAC9C,EACWpR,EAAQ4J,KAAyC,OAAlC5a,KAAKgR,QAAQyK,kBAA6BoB,GAAYA,EAAS7H,MAAKhE,EAAQ4J,IAAM5a,KAAK0c,UAAYG,EAASyB,UAC3G,IAAjBtN,EAAQoR,OAAgBpN,EAAMhV,KAAK4d,aAAawE,KAAKpN,GAAK,WAC5D,IAAK,IAAIwD,EAAO9U,UAAUnF,OAAQuZ,EAAO,IAAI9Y,MAAMwZ,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC/EX,EAAKW,GAAQ/U,UAAU+U,GAEzB,OAAIsF,GAAWA,EAAQ,KAAOjG,EAAK,KAAO9G,EAAQqR,SAChDT,EAAMtJ,OAAON,KAAK,6CAA6CF,EAAK,cAAcxC,EAAI,MAC/E,MAEFsM,EAAM9D,aAAahG,EAAMxC,EACjC,GAAEtE,IACCA,EAAQ4L,eAAe5c,KAAK4d,aAAa0E,OACnD,CACI,MAAMC,EAAcvR,EAAQuR,aAAeviB,KAAKgR,QAAQuR,YAClDC,EAAqB3N,GAAS0N,GAAe,CAACA,GAAeA,EAUnE,OATIvN,SAAqCwN,GAAsBA,EAAmBjkB,SAAyC,IAA/ByS,EAAQyR,qBAClGzN,EAAM6G,GAAcI,OAAOuG,EAAoBxN,EAAKM,EAAKtV,KAAKgR,SAAWhR,KAAKgR,QAAQ0R,wBAA0B,CAC9GC,aAAc,IACT9F,EACH2B,WAAYxe,KAAKye,qBAAqBzN,OAErCA,GACDA,EAAShR,OAERgV,CACX,CACE,OAAAzR,CAAQiG,GACN,IACIoZ,EACAxE,EACAC,EACAC,EACAC,EALAvN,EAAUtN,UAAUnF,OAAS,QAAsBqV,IAAjBlQ,UAAU,GAAmBA,UAAU,GAAK,CAAE,EAqEpF,OA/DImR,GAASrL,KAAOA,EAAO,CAACA,IAC5BA,EAAKvE,SAAQR,IACX,GAAIzE,KAAK+f,cAAc6C,GAAQ,OAC/B,MAAMC,EAAY7iB,KAAK8c,eAAerY,EAAGuM,GACnCsE,EAAMuN,EAAUvN,IACtB8I,EAAU9I,EACV,IAAI0H,EAAa6F,EAAU7F,WACvBhd,KAAKgR,QAAQ8R,aAAY9F,EAAaA,EAAW/W,OAAOjG,KAAKgR,QAAQ8R,aACzE,MAAM3D,OAAwCvL,IAAlB5C,EAAQoO,QAAwBvK,GAAS7D,EAAQoO,OACvEO,EAAwBR,IAAwBnO,EAAQ0O,SAA6B,IAAlB1O,EAAQoO,OAAepf,KAAKuf,eAAeK,mBAC9GmD,OAA2CnP,IAApB5C,EAAQqR,UAA0BxN,GAAS7D,EAAQqR,UAAuC,iBAApBrR,EAAQqR,UAA6C,KAApBrR,EAAQqR,QACtIW,EAAQhS,EAAQoP,KAAOpP,EAAQoP,KAAOpgB,KAAKsgB,cAAcI,mBAAmB1P,EAAQ4J,KAAO5a,KAAK0c,SAAU1L,EAAQwP,aACxHxD,EAAW/X,SAAQoV,IACbra,KAAK+f,cAAc6C,KACvBrE,EAASlE,GACJgC,GAAiB,GAAG2G,EAAM,MAAM3I,MAASra,KAAKijB,OAASjjB,KAAKijB,MAAMC,qBAAuBljB,KAAKijB,MAAMC,mBAAmB3E,KAC1HlC,GAAiB,GAAG2G,EAAM,MAAM3I,MAAQ,EACxCra,KAAKsY,OAAON,KAAK,QAAQoG,qBAA2B4E,EAAMxO,KAAK,2CAA2C+J,wBAA8B,6NAE1IyE,EAAM/d,SAAQ0S,IACZ,GAAI3X,KAAK+f,cAAc6C,GAAQ,OAC/BtE,EAAU3G,EACV,MAAMwL,EAAY,CAAC7N,GACnB,GAAItV,KAAK+e,YAAc/e,KAAK+e,WAAWqE,cACrCpjB,KAAK+e,WAAWqE,cAAcD,EAAW7N,EAAKqC,EAAM0C,EAAIrJ,OACnD,CACL,IAAIqS,EACAlE,IAAqBkE,EAAerjB,KAAKuf,eAAeC,UAAU7H,EAAM3G,EAAQoO,MAAOpO,IAC3F,MAAMsS,EAAa,GAAGtjB,KAAKgR,QAAQ8O,sBAC7ByD,EAAgB,GAAGvjB,KAAKgR,QAAQ8O,yBAAyB9f,KAAKgR,QAAQ8O,kBAU5E,GATIX,IACFgE,EAAUjkB,KAAKoW,EAAM+N,GACjBrS,EAAQ0O,SAAmD,IAAxC2D,EAAa3T,QAAQ6T,IAC1CJ,EAAUjkB,KAAKoW,EAAM+N,EAAa9N,QAAQgO,EAAevjB,KAAKgR,QAAQ8O,kBAEpEH,GACFwD,EAAUjkB,KAAKoW,EAAMgO,IAGrBP,EAAsB,CACxB,MAAMS,EAAa,GAAGlO,IAAMtV,KAAKgR,QAAQyS,mBAAmBzS,EAAQqR,UACpEc,EAAUjkB,KAAKskB,GACXrE,IACFgE,EAAUjkB,KAAKskB,EAAaH,GACxBrS,EAAQ0O,SAAmD,IAAxC2D,EAAa3T,QAAQ6T,IAC1CJ,EAAUjkB,KAAKskB,EAAaH,EAAa9N,QAAQgO,EAAevjB,KAAKgR,QAAQ8O,kBAE3EH,GACFwD,EAAUjkB,KAAKskB,EAAaF,GAG9C,CACA,CACU,IAAII,EACJ,KAAOA,EAAcP,EAAUxf,OACxB3D,KAAK+f,cAAc6C,KACtBvE,EAAeqF,EACfd,EAAQ5iB,KAAK2a,YAAYhD,EAAM0C,EAAIqJ,EAAa1S,GAE9D,IACU,GACF,IAEG,CACLgE,IAAK4N,EACLxE,UACAC,eACAC,UACAC,SAEN,CACE,aAAAwB,CAAc/K,GACZ,aAAepB,IAARoB,IAAwBhV,KAAKgR,QAAQ2S,YAAsB,OAAR3O,IAAoBhV,KAAKgR,QAAQ4S,mBAA6B,KAAR5O,EACpH,CACE,WAAA2F,CAAYhD,EAAM0C,EAAI/E,GACpB,IAAItE,EAAUtN,UAAUnF,OAAS,QAAsBqV,IAAjBlQ,UAAU,GAAmBA,UAAU,GAAK,CAAE,EACpF,OAAI1D,KAAK+e,YAAc/e,KAAK+e,WAAWpE,YAAoB3a,KAAK+e,WAAWpE,YAAYhD,EAAM0C,EAAI/E,EAAKtE,GAC/FhR,KAAK6jB,cAAclJ,YAAYhD,EAAM0C,EAAI/E,EAAKtE,EACzD,CACE,oBAAAyN,GACE,IAAIzN,EAAUtN,UAAUnF,OAAS,QAAsBqV,IAAjBlQ,UAAU,GAAmBA,UAAU,GAAK,CAAE,EACpF,MAAMogB,EAAc,CAAC,eAAgB,UAAW,UAAW,UAAW,MAAO,OAAQ,cAAe,KAAM,eAAgB,cAAe,gBAAiB,gBAAiB,aAAc,cAAe,iBAClMC,EAA2B/S,EAAQuE,UAAYV,GAAS7D,EAAQuE,SACtE,IAAI9F,EAAOsU,EAA2B/S,EAAQuE,QAAUvE,EAUxD,GATI+S,QAAqD,IAAlB/S,EAAQoO,QAC7C3P,EAAK2P,MAAQpO,EAAQoO,OAEnBpf,KAAKgR,QAAQ4L,cAAciF,mBAC7BpS,EAAO,IACFzP,KAAKgR,QAAQ4L,cAAciF,oBAC3BpS,KAGFsU,EAA0B,CAC7BtU,EAAO,IACFA,GAEL,IAAK,MAAM6F,KAAOwO,SACTrU,EAAK6F,EAEpB,CACI,OAAO7F,CACX,CACE,sBAAO4P,CAAgBrO,GACrB,MAAMqH,EAAS,eACf,IAAK,MAAM2L,KAAUhT,EACnB,GAAI3R,OAAOE,UAAUyK,eAAenL,KAAKmS,EAASgT,IAAW3L,IAAW2L,EAAOvG,UAAU,EAAGpF,UAAkBzE,IAAc5C,EAAQgT,GAClI,OAAO,EAGX,OAAO,CACX,EAGA,MAAMC,GAAaC,GAAUA,EAAOC,OAAO,GAAGC,cAAgBF,EAAO1W,MAAM,GAC3E,MAAM6W,GACJ,WAAArgB,CAAYgN,GACVhR,KAAKgR,QAAUA,EACfhR,KAAKskB,cAAgBtkB,KAAKgR,QAAQsT,gBAAiB,EACnDtkB,KAAKsY,OAASL,GAAW3Y,OAAO,gBACpC,CACE,qBAAAilB,CAAsB5M,GAEpB,KADAA,EAAOD,GAAeC,KACTA,EAAKjI,QAAQ,KAAO,EAAG,OAAO,KAC3C,MAAM3P,EAAI4X,EAAKxI,MAAM,KACrB,OAAiB,IAAbpP,EAAExB,OAAqB,MAC3BwB,EAAE4D,MACoC,MAAlC5D,EAAEA,EAAExB,OAAS,GAAG2D,cAA8B,KAC3ClC,KAAKwkB,mBAAmBzkB,EAAEyU,KAAK,MAC1C,CACE,uBAAAiQ,CAAwB9M,GAEtB,KADAA,EAAOD,GAAeC,KACTA,EAAKjI,QAAQ,KAAO,EAAG,OAAOiI,EAC3C,MAAM5X,EAAI4X,EAAKxI,MAAM,KACrB,OAAOnP,KAAKwkB,mBAAmBzkB,EAAE,GACrC,CACE,kBAAAykB,CAAmB7M,GACjB,GAAI9C,GAAS8C,IAASA,EAAKjI,QAAQ,MAAQ,EAAG,CAC5C,GAAoB,oBAATgV,WAA4D,IAA7BA,KAAKC,oBAC7C,IACE,IAAIC,EAAgBF,KAAKC,oBAAoBhN,GAAM,GAInD,GAHIiN,GAAiB5kB,KAAKgR,QAAQ6T,eAChCD,EAAgBA,EAAc1iB,eAE5B0iB,EAAe,OAAOA,CAC3B,CAAC,MAAOvkB,GAAG,CAEd,MAAMykB,EAAe,CAAC,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,QACtE,IAAI/kB,EAAI4X,EAAKxI,MAAM,KAcnB,OAbInP,KAAKgR,QAAQ6T,aACf9kB,EAAIA,EAAE2H,KAAIqd,GAAQA,EAAK7iB,gBACD,IAAbnC,EAAExB,QACXwB,EAAE,GAAKA,EAAE,GAAGmC,cACZnC,EAAE,GAAKA,EAAE,GAAGqkB,cACRU,EAAapV,QAAQ3P,EAAE,GAAGmC,gBAAkB,IAAGnC,EAAE,GAAKkkB,GAAWlkB,EAAE,GAAGmC,iBACpD,IAAbnC,EAAExB,SACXwB,EAAE,GAAKA,EAAE,GAAGmC,cACQ,IAAhBnC,EAAE,GAAGxB,SAAcwB,EAAE,GAAKA,EAAE,GAAGqkB,eACtB,QAATrkB,EAAE,IAAgC,IAAhBA,EAAE,GAAGxB,SAAcwB,EAAE,GAAKA,EAAE,GAAGqkB,eACjDU,EAAapV,QAAQ3P,EAAE,GAAGmC,gBAAkB,IAAGnC,EAAE,GAAKkkB,GAAWlkB,EAAE,GAAGmC,gBACtE4iB,EAAapV,QAAQ3P,EAAE,GAAGmC,gBAAkB,IAAGnC,EAAE,GAAKkkB,GAAWlkB,EAAE,GAAGmC,iBAErEnC,EAAEyU,KAAK,IACpB,CACI,OAAOxU,KAAKgR,QAAQgU,WAAahlB,KAAKgR,QAAQ6T,aAAelN,EAAKzV,cAAgByV,CACtF,CACE,eAAAsN,CAAgBtN,GAId,OAH0B,iBAAtB3X,KAAKgR,QAAQkU,MAA2BllB,KAAKgR,QAAQmU,4BACvDxN,EAAO3X,KAAKykB,wBAAwB9M,KAE9B3X,KAAKskB,gBAAkBtkB,KAAKskB,cAAc/lB,QAAUyB,KAAKskB,cAAc5U,QAAQiI,IAAS,CACpG,CACE,qBAAAyN,CAAsBpC,GACpB,IAAKA,EAAO,OAAO,KACnB,IAAIJ,EAoBJ,OAnBAI,EAAM/d,SAAQ0S,IACZ,GAAIiL,EAAO,OACX,MAAMyC,EAAarlB,KAAKwkB,mBAAmB7M,GACtC3X,KAAKgR,QAAQsT,gBAAiBtkB,KAAKilB,gBAAgBI,KAAazC,EAAQyC,EAAU,KAEpFzC,GAAS5iB,KAAKgR,QAAQsT,eACzBtB,EAAM/d,SAAQ0S,IACZ,GAAIiL,EAAO,OACX,MAAM0C,EAAUtlB,KAAKykB,wBAAwB9M,GAC7C,GAAI3X,KAAKilB,gBAAgBK,GAAU,OAAO1C,EAAQ0C,EAClD1C,EAAQ5iB,KAAKgR,QAAQsT,cAAc9d,MAAK+e,GAClCA,IAAiBD,EAAgBC,EACjCA,EAAa7V,QAAQ,KAAO,GAAK4V,EAAQ5V,QAAQ,KAAO,OAA5D,EACI6V,EAAa7V,QAAQ,KAAO,GAAK4V,EAAQ5V,QAAQ,KAAO,GAAK6V,EAAa9H,UAAU,EAAG8H,EAAa7V,QAAQ,QAAU4V,GACpF,IAAlCC,EAAa7V,QAAQ4V,IAAkBA,EAAQ/mB,OAAS,EAD8EgnB,OAC1I,GACA,IAGD3C,IAAOA,EAAQ5iB,KAAKugB,iBAAiBvgB,KAAKgR,QAAQwP,aAAa,IAC7DoC,CACX,CACE,gBAAArC,CAAiBiF,EAAW7N,GAC1B,IAAK6N,EAAW,MAAO,GAGvB,GAFyB,mBAAdA,IAA0BA,EAAYA,EAAU7N,IACvD9C,GAAS2Q,KAAYA,EAAY,CAACA,IAClCxmB,MAAMuL,QAAQib,GAAY,OAAOA,EACrC,IAAK7N,EAAM,OAAO6N,EAAUC,SAAW,GACvC,IAAI7C,EAAQ4C,EAAU7N,GAKtB,OAJKiL,IAAOA,EAAQ4C,EAAUxlB,KAAKukB,sBAAsB5M,KACpDiL,IAAOA,EAAQ4C,EAAUxlB,KAAKwkB,mBAAmB7M,KACjDiL,IAAOA,EAAQ4C,EAAUxlB,KAAKykB,wBAAwB9M,KACtDiL,IAAOA,EAAQ4C,EAAUC,SACvB7C,GAAS,EACpB,CACE,kBAAAlC,CAAmB/I,EAAM+N,GACvB,MAAMC,EAAgB3lB,KAAKugB,iBAAiBmF,GAAgB1lB,KAAKgR,QAAQwP,aAAe,GAAI7I,GACtFqL,EAAQ,GACR4C,EAAUtnB,IACTA,IACD0B,KAAKilB,gBAAgB3mB,GACvB0kB,EAAM9jB,KAAKZ,GAEX0B,KAAKsY,OAAON,KAAK,uDAAuD1Z,KAChF,EAYI,OAVIuW,GAAS8C,KAAUA,EAAKjI,QAAQ,MAAQ,GAAKiI,EAAKjI,QAAQ,MAAQ,IAC1C,iBAAtB1P,KAAKgR,QAAQkU,MAAyBU,EAAQ5lB,KAAKwkB,mBAAmB7M,IAChD,iBAAtB3X,KAAKgR,QAAQkU,MAAiD,gBAAtBllB,KAAKgR,QAAQkU,MAAwBU,EAAQ5lB,KAAKukB,sBAAsB5M,IAC1F,gBAAtB3X,KAAKgR,QAAQkU,MAAwBU,EAAQ5lB,KAAKykB,wBAAwB9M,KACrE9C,GAAS8C,IAClBiO,EAAQ5lB,KAAKwkB,mBAAmB7M,IAElCgO,EAAc1gB,SAAQ4gB,IAChB7C,EAAMtT,QAAQmW,GAAM,GAAGD,EAAQ5lB,KAAKwkB,mBAAmBqB,GAAI,IAE1D7C,CACX,EAGA,IAAI8C,GAAO,CAAC,CACV1F,KAAM,CAAC,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,MAAO,KAAM,MAAO,KAAM,KAAM,KAAM,KAAM,QAAS,KAAM,KAAM,KAAM,KAAM,KAAM,MACjI2F,GAAI,CAAC,EAAG,GACRF,GAAI,GACH,CACDzF,KAAM,CAAC,KAAM,KAAM,MAAO,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAAO,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAAO,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAAO,KAAM,KAAM,KAAM,MAAO,MAAO,KAAM,KAAM,KAAM,KAAM,KAAM,MAAO,KAAM,MAAO,MAAO,KAAM,QAAS,KAAM,MAAO,KAAM,KAAM,KAAM,MAAO,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MACzY2F,GAAI,CAAC,EAAG,GACRF,GAAI,GACH,CACDzF,KAAM,CAAC,KAAM,KAAM,MAAO,KAAM,KAAM,KAAM,KAAM,MAAO,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAAO,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MACxI2F,GAAI,CAAC,GACLF,GAAI,GACH,CACDzF,KAAM,CAAC,KAAM,KAAM,MAAO,KAAM,KAAM,KAAM,KAAM,MAClD2F,GAAI,CAAC,EAAG,EAAG,GACXF,GAAI,GACH,CACDzF,KAAM,CAAC,MACP2F,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,KACrBF,GAAI,GACH,CACDzF,KAAM,CAAC,KAAM,MACb2F,GAAI,CAAC,EAAG,EAAG,GACXF,GAAI,GACH,CACDzF,KAAM,CAAC,MAAO,MACd2F,GAAI,CAAC,EAAG,EAAG,GACXF,GAAI,GACH,CACDzF,KAAM,CAAC,MACP2F,GAAI,CAAC,EAAG,EAAG,EAAG,GACdF,GAAI,GACH,CACDzF,KAAM,CAAC,MACP2F,GAAI,CAAC,EAAG,GACRF,GAAI,GACH,CACDzF,KAAM,CAAC,MACP2F,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IACjBF,GAAI,IACH,CACDzF,KAAM,CAAC,MACP2F,GAAI,CAAC,EAAG,EAAG,EAAG,IACdF,GAAI,IACH,CACDzF,KAAM,CAAC,MACP2F,GAAI,CAAC,EAAG,GACRF,GAAI,IACH,CACDzF,KAAM,CAAC,MACP2F,GAAI,CAAC,EAAG,GACRF,GAAI,IACH,CACDzF,KAAM,CAAC,MACP2F,GAAI,CAAC,EAAG,EAAG,EAAG,GACdF,GAAI,IACH,CACDzF,KAAM,CAAC,MACP2F,GAAI,CAAC,EAAG,EAAG,IACXF,GAAI,IACH,CACDzF,KAAM,CAAC,MACP2F,GAAI,CAAC,EAAG,EAAG,GACXF,GAAI,IACH,CACDzF,KAAM,CAAC,MACP2F,GAAI,CAAC,EAAG,GACRF,GAAI,IACH,CACDzF,KAAM,CAAC,OACP2F,GAAI,CAAC,EAAG,EAAG,GACXF,GAAI,IACH,CACDzF,KAAM,CAAC,MACP2F,GAAI,CAAC,EAAG,EAAG,GAAI,IACfF,GAAI,IACH,CACDzF,KAAM,CAAC,MACP2F,GAAI,CAAC,EAAG,GACRF,GAAI,GACH,CACDzF,KAAM,CAAC,MACP2F,GAAI,CAAC,EAAG,EAAG,IACXF,GAAI,IACH,CACDzF,KAAM,CAAC,MACP2F,GAAI,CAAC,EAAG,EAAG,EAAG,GACdF,GAAI,IACH,CACDzF,KAAM,CAAC,KAAM,MACb2F,GAAI,CAAC,EAAG,EAAG,GAAI,IACfF,GAAI,KAEFG,GAAqB,CACvB,EAAG5mB,GAAKsJ,OAAOtJ,EAAI,GACnB,EAAGA,GAAKsJ,OAAY,GAALtJ,GACf,EAAGA,GAAK,EACR,EAAGA,GAAKsJ,OAAOtJ,EAAI,IAAM,GAAKA,EAAI,KAAO,GAAK,EAAIA,EAAI,IAAM,GAAKA,EAAI,IAAM,IAAMA,EAAI,IAAM,IAAMA,EAAI,KAAO,IAAM,EAAI,GACtH,EAAGA,GAAKsJ,OAAY,GAALtJ,EAAS,EAAS,GAALA,EAAS,EAAS,GAALA,EAAS,EAAIA,EAAI,KAAO,GAAKA,EAAI,KAAO,GAAK,EAAIA,EAAI,KAAO,GAAK,EAAI,GAC9G,EAAGA,GAAKsJ,OAAY,GAALtJ,EAAS,EAAIA,GAAK,GAAKA,GAAK,EAAI,EAAI,GACnD,EAAGA,GAAKsJ,OAAY,GAALtJ,EAAS,EAAIA,EAAI,IAAM,GAAKA,EAAI,IAAM,IAAMA,EAAI,IAAM,IAAMA,EAAI,KAAO,IAAM,EAAI,GAChG,EAAGA,GAAKsJ,OAAY,GAALtJ,EAAS,EAAS,GAALA,EAAS,EAAS,GAALA,GAAe,IAALA,EAAU,EAAI,GACjE,EAAGA,GAAKsJ,OAAOtJ,GAAK,GACpB,GAAIA,GAAKsJ,OAAY,GAALtJ,EAAS,EAAS,GAALA,EAAS,EAAIA,EAAI,EAAI,EAAIA,EAAI,GAAK,EAAI,GACnE,GAAIA,GAAKsJ,OAAY,GAALtJ,GAAe,IAALA,EAAU,EAAS,GAALA,GAAe,IAALA,EAAU,EAAIA,EAAI,GAAKA,EAAI,GAAK,EAAI,GACtF,GAAIA,GAAKsJ,OAAOtJ,EAAI,IAAM,GAAKA,EAAI,KAAO,IAC1C,GAAIA,GAAKsJ,OAAa,IAANtJ,GAChB,GAAIA,GAAKsJ,OAAY,GAALtJ,EAAS,EAAS,GAALA,EAAS,EAAS,GAALA,EAAS,EAAI,GACvD,GAAIA,GAAKsJ,OAAOtJ,EAAI,IAAM,GAAKA,EAAI,KAAO,GAAK,EAAIA,EAAI,IAAM,IAAMA,EAAI,IAAM,IAAMA,EAAI,KAAO,IAAM,EAAI,GACxG,GAAIA,GAAKsJ,OAAOtJ,EAAI,IAAM,GAAKA,EAAI,KAAO,GAAK,EAAU,IAANA,EAAU,EAAI,GACjE,GAAIA,GAAKsJ,OAAY,GAALtJ,GAAUA,EAAI,IAAM,GAAKA,EAAI,KAAO,GAAK,EAAI,GAC7D,GAAIA,GAAKsJ,OAAY,GAALtJ,EAAS,EAAS,GAALA,EAAS,EAAI,GAC1C,GAAIA,GAAKsJ,OAAY,GAALtJ,EAAS,EAAS,GAALA,GAAUA,EAAI,IAAM,GAAKA,EAAI,IAAM,GAAK,EAAIA,EAAI,IAAM,IAAMA,EAAI,IAAM,GAAK,EAAI,GAC5G,GAAIA,GAAKsJ,OAAY,GAALtJ,EAAS,EAAS,GAALA,GAAUA,EAAI,IAAM,GAAKA,EAAI,IAAM,GAAK,EAAI,GACzE,GAAIA,GAAKsJ,OAAOtJ,EAAI,KAAO,EAAI,EAAIA,EAAI,KAAO,EAAI,EAAIA,EAAI,KAAO,GAAKA,EAAI,KAAO,EAAI,EAAI,GACzF,GAAIA,GAAKsJ,OAAY,GAALtJ,EAAS,EAAS,GAALA,EAAS,GAAKA,EAAI,GAAKA,EAAI,KAAOA,EAAI,IAAM,EAAI,EAAI,IAEnF,MAAM6mB,GAAkB,CAAC,KAAM,KAAM,MAC/BC,GAAe,CAAC,MAChBC,GAAgB,CACpBC,KAAM,EACNC,IAAK,EACLC,IAAK,EACLC,IAAK,EACLC,KAAM,EACNC,MAAO,GAcT,MAAMC,GACJ,WAAA1iB,CAAYsc,GACV,IAAItP,EAAUtN,UAAUnF,OAAS,QAAsBqV,IAAjBlQ,UAAU,GAAmBA,UAAU,GAAK,CAAE,EACpF1D,KAAKsgB,cAAgBA,EACrBtgB,KAAKgR,QAAUA,EACfhR,KAAKsY,OAASL,GAAW3Y,OAAO,kBAC1BU,KAAKgR,QAAQ2V,oBAAqBT,GAAahT,SAASlT,KAAKgR,QAAQ2V,oBAAwC,oBAATjC,MAAyBA,KAAKkC,cACtI5mB,KAAKgR,QAAQ2V,kBAAoB,KACjC3mB,KAAKsY,OAAO/D,MAAM,uJAEpBvU,KAAK6mB,MAtBW,MAClB,MAAMA,EAAQ,CAAE,EAShB,OARAf,GAAK7gB,SAAQ/B,IACXA,EAAIkd,KAAKnb,SAAQvG,IACfmoB,EAAMnoB,GAAK,CACTooB,QAAS5jB,EAAI6iB,GACbgB,QAASf,GAAmB9iB,EAAI2iB,IACjC,GACD,IAEGgB,CAAK,EAYGG,GACbhnB,KAAKinB,iBAAmB,CAAE,CAC9B,CACE,OAAAC,CAAQtM,EAAK9F,GACX9U,KAAK6mB,MAAMjM,GAAO9F,CACtB,CACE,UAAAqS,GACEnnB,KAAKinB,iBAAmB,CAAE,CAC9B,CACE,OAAAG,CAAQzP,GACN,IAAI3G,EAAUtN,UAAUnF,OAAS,QAAsBqV,IAAjBlQ,UAAU,GAAmBA,UAAU,GAAK,CAAE,EACpF,GAAI1D,KAAK4f,mBACP,IACE,MAAMyH,EAAc3P,GAAwB,QAATC,EAAiB,KAAOA,GACrD9O,EAAOmI,EAAQ0O,QAAU,UAAY,WACrC4H,EAAW/e,KAAKC,UAAU,CAC9B6e,cACAxe,SAEF,GAAIye,KAAYtnB,KAAKinB,iBACnB,OAAOjnB,KAAKinB,iBAAiBK,GAE/B,MAAMC,EAAO,IAAI7C,KAAKkC,YAAYS,EAAa,CAC7Cxe,SAGF,OADA7I,KAAKinB,iBAAiBK,GAAYC,EAC3BA,CACR,CAAC,MAAOC,GACP,MACR,CAEI,OAAOxnB,KAAK6mB,MAAMlP,IAAS3X,KAAK6mB,MAAM7mB,KAAKsgB,cAAcmE,wBAAwB9M,GACrF,CACE,WAAA8P,CAAY9P,GACV,IAAI3G,EAAUtN,UAAUnF,OAAS,QAAsBqV,IAAjBlQ,UAAU,GAAmBA,UAAU,GAAK,CAAE,EACpF,MAAM6jB,EAAOvnB,KAAKonB,QAAQzP,EAAM3G,GAChC,OAAIhR,KAAK4f,mBACA2H,GAAQA,EAAKG,kBAAkBC,iBAAiBppB,OAAS,EAE3DgpB,GAAQA,EAAKT,QAAQvoB,OAAS,CACzC,CACE,mBAAAqpB,CAAoBjQ,EAAMrC,GACxB,IAAItE,EAAUtN,UAAUnF,OAAS,QAAsBqV,IAAjBlQ,UAAU,GAAmBA,UAAU,GAAK,CAAE,EACpF,OAAO1D,KAAKmhB,YAAYxJ,EAAM3G,GAAStJ,KAAI0Z,GAAU,GAAG9L,IAAM8L,KAClE,CACE,WAAAD,CAAYxJ,GACV,IAAI3G,EAAUtN,UAAUnF,OAAS,QAAsBqV,IAAjBlQ,UAAU,GAAmBA,UAAU,GAAK,CAAE,EACpF,MAAM6jB,EAAOvnB,KAAKonB,QAAQzP,EAAM3G,GAChC,OAAKuW,EAGDvnB,KAAK4f,mBACA2H,EAAKG,kBAAkBC,iBAAiBE,MAAK,CAACC,EAAiBC,IAAoB5B,GAAc2B,GAAmB3B,GAAc4B,KAAkBrgB,KAAIsgB,GAAkB,GAAGhoB,KAAKgR,QAAQiX,UAAUjX,EAAQ0O,QAAU,UAAU1f,KAAKgR,QAAQiX,UAAY,KAAKD,MAEhQT,EAAKT,QAAQpf,KAAIwgB,GAAUloB,KAAKwf,UAAU7H,EAAMuQ,EAAQlX,KALtD,EAMb,CACE,SAAAwO,CAAU7H,EAAMyH,GACd,IAAIpO,EAAUtN,UAAUnF,OAAS,QAAsBqV,IAAjBlQ,UAAU,GAAmBA,UAAU,GAAK,CAAE,EACpF,MAAM6jB,EAAOvnB,KAAKonB,QAAQzP,EAAM3G,GAChC,OAAIuW,EACEvnB,KAAK4f,mBACA,GAAG5f,KAAKgR,QAAQiX,UAAUjX,EAAQ0O,QAAU,UAAU1f,KAAKgR,QAAQiX,UAAY,KAAKV,EAAKY,OAAO/I,KAElGpf,KAAKooB,yBAAyBb,EAAMnI,IAE7Cpf,KAAKsY,OAAON,KAAK,6BAA6BL,KACvC,GACX,CACE,wBAAAyQ,CAAyBb,EAAMnI,GAC7B,MAAMiJ,EAAMd,EAAKe,MAAQf,EAAKR,QAAQ3H,GAASmI,EAAKR,QAAQlnB,KAAK0oB,IAAInJ,IACrE,IAAIgC,EAASmG,EAAKT,QAAQuB,GACtBroB,KAAKgR,QAAQwX,sBAAgD,IAAxBjB,EAAKT,QAAQvoB,QAAoC,IAApBgpB,EAAKT,QAAQ,KAClE,IAAX1F,EACFA,EAAS,SACW,IAAXA,IACTA,EAAS,KAGb,MAAMqH,EAAe,IAAMzoB,KAAKgR,QAAQiX,SAAW7G,EAAO7Z,WAAavH,KAAKgR,QAAQiX,QAAU7G,EAAO7Z,WAAa6Z,EAAO7Z,WACzH,MAAuC,OAAnCvH,KAAKgR,QAAQ2V,kBACA,IAAXvF,EAAqB,GACH,iBAAXA,EAA4B,WAAWA,EAAO7Z,aAClDkhB,IACqC,OAAnCzoB,KAAKgR,QAAQ2V,mBAEb3mB,KAAKgR,QAAQwX,sBAAgD,IAAxBjB,EAAKT,QAAQvoB,QAAoC,IAApBgpB,EAAKT,QAAQ,GADjF2B,IAIFzoB,KAAKgR,QAAQiX,SAAWI,EAAI9gB,WAAavH,KAAKgR,QAAQiX,QAAUI,EAAI9gB,WAAa8gB,EAAI9gB,UAChG,CACE,gBAAAqY,GACE,OAAQqG,GAAgB/S,SAASlT,KAAKgR,QAAQ2V,kBAClD,EAGA,MAAM+B,GAAuB,SAAUjZ,EAAMkZ,EAAarT,GACxD,IAAIgC,EAAe5T,UAAUnF,OAAS,QAAsBqV,IAAjBlQ,UAAU,GAAmBA,UAAU,GAAK,IACnF6W,IAAsB7W,UAAUnF,OAAS,QAAsBqV,IAAjBlQ,UAAU,KAAmBA,UAAU,GACrFgS,EAhoCsB,EAACjG,EAAMkZ,EAAarT,KAC9C,MAAM7W,EAAQwX,GAAQxG,EAAM6F,GAC5B,YAAc1B,IAAVnV,EACKA,EAEFwX,GAAQ0S,EAAarT,EAAI,EA2nCrBsT,CAAoBnZ,EAAMkZ,EAAarT,GAKlD,OAJKI,GAAQ6E,GAAuB1F,GAASS,KAC3CI,EAAO2B,GAAS5H,EAAM6F,EAAKgC,QACd1D,IAAT8B,IAAoBA,EAAO2B,GAASsR,EAAarT,EAAKgC,KAErD5B,CACT,EACMmT,GAAYC,GAAOA,EAAIvT,QAAQ,MAAO,QAC5C,MAAMwT,GACJ,WAAA/kB,GACE,IAAIgN,EAAUtN,UAAUnF,OAAS,QAAsBqV,IAAjBlQ,UAAU,GAAmBA,UAAU,GAAK,CAAE,EACpF1D,KAAKsY,OAASL,GAAW3Y,OAAO,gBAChCU,KAAKgR,QAAUA,EACfhR,KAAKgpB,OAAShY,EAAQ4L,eAAiB5L,EAAQ4L,cAAcoM,SAAWvqB,GAASA,GACjFuB,KAAKoY,KAAKpH,EACd,CACE,IAAAoH,GACE,IAAIpH,EAAUtN,UAAUnF,OAAS,QAAsBqV,IAAjBlQ,UAAU,GAAmBA,UAAU,GAAK,CAAE,EAC/EsN,EAAQ4L,gBAAe5L,EAAQ4L,cAAgB,CAClDqM,aAAa,IAEf,MACEvS,OAAQwS,EAAQD,YAChBA,EAAWE,oBACXA,EAAmB9Q,OACnBA,EAAM+Q,cACNA,EAAahI,OACbA,EAAMiI,cACNA,EAAaC,gBACbA,EAAeC,eACfA,EAAcC,eACdA,EAAcC,cACdA,EAAaC,qBACbA,EAAoBC,cACpBA,EAAaC,qBACbA,EAAoBC,wBACpBA,EAAuBC,YACvBA,EAAWC,aACXA,GACE/Y,EAAQ4L,cACZ5c,KAAK0W,YAAsB9C,IAAbsV,EAAyBA,EAAWxS,GAClD1W,KAAKipB,iBAA8BrV,IAAhBqV,GAA4BA,EAC/CjpB,KAAKmpB,yBAA8CvV,IAAxBuV,GAAoCA,EAC/DnpB,KAAKqY,OAASA,EAAS9B,GAAY8B,GAAU+Q,GAAiB,KAC9DppB,KAAKohB,OAASA,EAAS7K,GAAY6K,GAAUiI,GAAiB,KAC9DrpB,KAAKspB,gBAAkBA,GAAmB,IAC1CtpB,KAAKwpB,eAAiBD,EAAiB,GAAKC,GAAkB,IAC9DxpB,KAAKupB,eAAiBvpB,KAAKwpB,eAAiB,GAAKD,GAAkB,GACnEvpB,KAAKypB,cAAgBA,EAAgBlT,GAAYkT,GAAiBC,GAAwBnT,GAAY,OACtGvW,KAAK2pB,cAAgBA,EAAgBpT,GAAYoT,GAAiBC,GAAwBrT,GAAY,KACtGvW,KAAK6pB,wBAA0BA,GAA2B,IAC1D7pB,KAAK8pB,YAAcA,GAAe,IAClC9pB,KAAK+pB,kBAAgCnW,IAAjBmW,GAA6BA,EACjD/pB,KAAKgqB,aACT,CACE,KAAA1H,GACMtiB,KAAKgR,SAAShR,KAAKoY,KAAKpY,KAAKgR,QACrC,CACE,WAAAgZ,GACE,MAAMC,EAAmB,CAACC,EAAgBjT,IACpCiT,GAAkBA,EAAe9T,SAAWa,GAC9CiT,EAAe/b,UAAY,EACpB+b,GAEF,IAAItc,OAAOqJ,EAAS,KAE7BjX,KAAKmqB,OAASF,EAAiBjqB,KAAKmqB,OAAQ,GAAGnqB,KAAKqY,cAAcrY,KAAKohB,UACvEphB,KAAKoqB,eAAiBH,EAAiBjqB,KAAKoqB,eAAgB,GAAGpqB,KAAKqY,SAASrY,KAAKwpB,sBAAsBxpB,KAAKupB,iBAAiBvpB,KAAKohB,UACnIphB,KAAK6d,cAAgBoM,EAAiBjqB,KAAK6d,cAAe,GAAG7d,KAAKypB,qBAAqBzpB,KAAK2pB,gBAChG,CACE,WAAAzH,CAAY1L,EAAK/G,EAAMmL,EAAK5J,GAC1B,IAAI2M,EACAlf,EACA4rB,EACJ,MAAM1B,EAAc3oB,KAAKgR,SAAWhR,KAAKgR,QAAQ4L,eAAiB5c,KAAKgR,QAAQ4L,cAAciF,kBAAoB,CAAE,EAC7GyI,EAAehV,IACnB,GAAIA,EAAI5F,QAAQ1P,KAAKspB,iBAAmB,EAAG,CACzC,MAAM5T,EAAOgT,GAAqBjZ,EAAMkZ,EAAarT,EAAKtV,KAAKgR,QAAQsG,aAActX,KAAKgR,QAAQuJ,qBAClG,OAAOva,KAAK+pB,aAAe/pB,KAAKgpB,OAAOtT,OAAM9B,EAAWgH,EAAK,IACxD5J,KACAvB,EACH8a,iBAAkBjV,IACfI,CACb,CACM,MAAM3V,EAAIuV,EAAInG,MAAMnP,KAAKspB,iBACnB7kB,EAAI1E,EAAEqX,QAAQoT,OACdhmB,EAAIzE,EAAEyU,KAAKxU,KAAKspB,iBAAiBkB,OACvC,OAAOxqB,KAAKgpB,OAAON,GAAqBjZ,EAAMkZ,EAAalkB,EAAGzE,KAAKgR,QAAQsG,aAActX,KAAKgR,QAAQuJ,qBAAsB/V,EAAGoW,EAAK,IAC/H5J,KACAvB,EACH8a,iBAAkB9lB,GAClB,EAEJzE,KAAKgqB,cACL,MAAMS,EAA8BzZ,GAAWA,EAAQyZ,6BAA+BzqB,KAAKgR,QAAQyZ,4BAC7F1I,EAAkB/Q,GAAWA,EAAQ4L,oBAA2DhJ,IAA1C5C,EAAQ4L,cAAcmF,gBAAgC/Q,EAAQ4L,cAAcmF,gBAAkB/hB,KAAKgR,QAAQ4L,cAAcmF,gBA2CrL,MA1Cc,CAAC,CACb2I,MAAO1qB,KAAKoqB,eACZO,UAAW7B,GAAOD,GAAUC,IAC3B,CACD4B,MAAO1qB,KAAKmqB,OACZQ,UAAW7B,GAAO9oB,KAAKipB,YAAcJ,GAAU7oB,KAAK0W,OAAOoS,IAAQD,GAAUC,KAEzE7jB,SAAQ2lB,IAEZ,IADAP,EAAW,EACJ1M,EAAQiN,EAAKF,MAAMtc,KAAKoI,IAAM,CACnC,MAAMqU,EAAalN,EAAM,GAAG6M,OAE5B,GADA/rB,EAAQ6rB,EAAaO,QACPjX,IAAVnV,EACF,GAA2C,mBAAhCgsB,EAA4C,CACrD,MAAMK,EAAOL,EAA4BjU,EAAKmH,EAAO3M,GACrDvS,EAAQoW,GAASiW,GAAQA,EAAO,EAC5C,MAAiB,GAAI9Z,GAAW3R,OAAOE,UAAUyK,eAAenL,KAAKmS,EAAS6Z,GAClEpsB,EAAQ,OACH,IAAIsjB,EAAiB,CAC1BtjB,EAAQkf,EAAM,GACd,QACZ,CACY3d,KAAKsY,OAAON,KAAK,8BAA8B6S,uBAAgCrU,KAC/E/X,EAAQ,EACpB,MACoBoW,GAASpW,IAAWuB,KAAKmpB,sBACnC1qB,EAAQyW,GAAWzW,IAErB,MAAMksB,EAAYC,EAAKD,UAAUlsB,GASjC,GARA+X,EAAMA,EAAIjB,QAAQoI,EAAM,GAAIgN,GACxB5I,GACF6I,EAAKF,MAAMvc,WAAa1P,EAAMF,OAC9BqsB,EAAKF,MAAMvc,WAAawP,EAAM,GAAGpf,QAEjCqsB,EAAKF,MAAMvc,UAAY,EAEzBkc,IACIA,GAAYrqB,KAAK8pB,YACnB,KAEV,KAEWtT,CACX,CACE,IAAA4L,CAAK5L,EAAKqP,GACR,IACIlI,EACAlf,EACAssB,EAHA/Z,EAAUtN,UAAUnF,OAAS,QAAsBqV,IAAjBlQ,UAAU,GAAmBA,UAAU,GAAK,CAAE,EAIpF,MAAMsnB,EAAmB,CAAC1V,EAAK2V,KAC7B,MAAMC,EAAMlrB,KAAK6pB,wBACjB,GAAIvU,EAAI5F,QAAQwb,GAAO,EAAG,OAAO5V,EACjC,MAAMhX,EAAIgX,EAAInG,MAAM,IAAIvB,OAAO,GAAGsd,WAClC,IAAIC,EAAgB,IAAI7sB,EAAE,KAC1BgX,EAAMhX,EAAE,GACR6sB,EAAgBnrB,KAAKkiB,YAAYiJ,EAAeJ,GAChD,MAAMK,EAAsBD,EAAcxN,MAAM,MAC1C0N,EAAsBF,EAAcxN,MAAM,OAC5CyN,GAAuBA,EAAoB7sB,OAAS,GAAM,IAAM8sB,GAAuBA,EAAoB9sB,OAAS,GAAM,KAC5H4sB,EAAgBA,EAAc5V,QAAQ,KAAM,MAE9C,IACEwV,EAAgBxiB,KAAKI,MAAMwiB,GACvBF,IAAkBF,EAAgB,IACjCE,KACAF,GAEN,CAAC,MAAO1qB,GAEP,OADAL,KAAKsY,OAAON,KAAK,oDAAoD1C,IAAOjV,GACrE,GAAGiV,IAAM4V,IAAMC,GAC9B,CAEM,OADIJ,EAAclL,cAAgBkL,EAAclL,aAAanQ,QAAQ1P,KAAKqY,SAAW,UAAU0S,EAAclL,aACtGvK,CAAG,EAEZ,KAAOqI,EAAQ3d,KAAK6d,cAAczP,KAAKoI,IAAM,CAC3C,IAAI8U,EAAa,GACjBP,EAAgB,IACX/Z,GAEL+Z,EAAgBA,EAAcxV,UAAYV,GAASkW,EAAcxV,SAAWwV,EAAcxV,QAAUwV,EACpGA,EAActI,oBAAqB,SAC5BsI,EAAclL,aACrB,IAAI0L,GAAW,EACf,IAAgD,IAA5C5N,EAAM,GAAGjO,QAAQ1P,KAAKspB,mBAA4B,OAAOjb,KAAKsP,EAAM,IAAK,CAC3E,MAAM1d,EAAI0d,EAAM,GAAGxO,MAAMnP,KAAKspB,iBAAiB5hB,KAAI8jB,GAAQA,EAAKhB,SAChE7M,EAAM,GAAK1d,EAAEmX,QACbkU,EAAarrB,EACbsrB,GAAW,CACnB,CAEM,GADA9sB,EAAQonB,EAAGmF,EAAiBnsB,KAAKmB,KAAM2d,EAAM,GAAG6M,OAAQO,GAAgBA,GACpEtsB,GAASkf,EAAM,KAAOnH,IAAQ3B,GAASpW,GAAQ,OAAOA,EACrDoW,GAASpW,KAAQA,EAAQyW,GAAWzW,IACpCA,IACHuB,KAAKsY,OAAON,KAAK,qBAAqB2F,EAAM,kBAAkBnH,KAC9D/X,EAAQ,IAEN8sB,IACF9sB,EAAQ6sB,EAAW9jB,QAAO,CAACkG,EAAGlJ,IAAMxE,KAAKgpB,OAAOtb,EAAGlJ,EAAGwM,EAAQ4J,IAAK,IAC9D5J,EACHuZ,iBAAkB5M,EAAM,GAAG6M,UACzB/rB,EAAM+rB,SAEZhU,EAAMA,EAAIjB,QAAQoI,EAAM,GAAIlf,GAC5BuB,KAAKmqB,OAAOhc,UAAY,CAC9B,CACI,OAAOqI,CACX,EAGA,MA+BMiV,GAAwBC,IAC5B,MAAMC,EAAQ,CAAE,EAChB,MAAO,CAAC7C,EAAKlO,EAAK5J,KAChB,IAAI4a,EAAc5a,EACdA,GAAWA,EAAQuZ,kBAAoBvZ,EAAQ6a,cAAgB7a,EAAQ6a,aAAa7a,EAAQuZ,mBAAqBvZ,EAAQA,EAAQuZ,oBACnIqB,EAAc,IACTA,EACH,CAAC5a,EAAQuZ,uBAAmB3W,IAGhC,MAAM0B,EAAMsF,EAAMrS,KAAKC,UAAUojB,GACjC,IAAIE,EAAYH,EAAMrW,GAKtB,OAJKwW,IACHA,EAAYJ,EAAGhU,GAAekD,GAAM5J,GACpC2a,EAAMrW,GAAOwW,GAERA,EAAUhD,EAAI,CACtB,EAEH,MAAMiD,GACJ,WAAA/nB,GACE,IAAIgN,EAAUtN,UAAUnF,OAAS,QAAsBqV,IAAjBlQ,UAAU,GAAmBA,UAAU,GAAK,CAAE,EACpF1D,KAAKsY,OAASL,GAAW3Y,OAAO,aAChCU,KAAKgR,QAAUA,EACfhR,KAAKgsB,QAAU,CACb9D,OAAQuD,IAAsB,CAAC7Q,EAAKqR,KAClC,MAAMH,EAAY,IAAIpH,KAAKwH,aAAatR,EAAK,IACxCqR,IAEL,OAAOnD,GAAOgD,EAAU9C,OAAOF,EAAI,IAErCqD,SAAUV,IAAsB,CAAC7Q,EAAKqR,KACpC,MAAMH,EAAY,IAAIpH,KAAKwH,aAAatR,EAAK,IACxCqR,EACHG,MAAO,aAET,OAAOtD,GAAOgD,EAAU9C,OAAOF,EAAI,IAErCuD,SAAUZ,IAAsB,CAAC7Q,EAAKqR,KACpC,MAAMH,EAAY,IAAIpH,KAAK4H,eAAe1R,EAAK,IAC1CqR,IAEL,OAAOnD,GAAOgD,EAAU9C,OAAOF,EAAI,IAErCyD,aAAcd,IAAsB,CAAC7Q,EAAKqR,KACxC,MAAMH,EAAY,IAAIpH,KAAK8H,mBAAmB5R,EAAK,IAC9CqR,IAEL,OAAOnD,GAAOgD,EAAU9C,OAAOF,EAAKmD,EAAIQ,OAAS,MAAM,IAEzDC,KAAMjB,IAAsB,CAAC7Q,EAAKqR,KAChC,MAAMH,EAAY,IAAIpH,KAAKiI,WAAW/R,EAAK,IACtCqR,IAEL,OAAOnD,GAAOgD,EAAU9C,OAAOF,EAAI,KAGvC9oB,KAAKoY,KAAKpH,EACd,CACE,IAAAoH,CAAKmE,GACH,IAAIvL,EAAUtN,UAAUnF,OAAS,QAAsBqV,IAAjBlQ,UAAU,GAAmBA,UAAU,GAAK,CAChFkZ,cAAe,CAAA,GAEjB5c,KAAKspB,gBAAkBtY,EAAQ4L,cAAc0M,iBAAmB,GACpE,CACE,GAAAvlB,CAAIsL,EAAMwW,GACR7lB,KAAKgsB,QAAQ3c,EAAKnN,cAAcsoB,QAAU3E,CAC9C,CACE,SAAA+G,CAAUvd,EAAMwW,GACd7lB,KAAKgsB,QAAQ3c,EAAKnN,cAAcsoB,QAAUiB,GAAsB5F,EACpE,CACE,MAAAmD,CAAOvqB,EAAOuqB,EAAQpO,GACpB,IAAI5J,EAAUtN,UAAUnF,OAAS,QAAsBqV,IAAjBlQ,UAAU,GAAmBA,UAAU,GAAK,CAAE,EACpF,MAAMsoB,EAAUhD,EAAO7Z,MAAMnP,KAAKspB,iBAClC,GAAI0C,EAAQztB,OAAS,GAAKytB,EAAQ,GAAGtc,QAAQ,KAAO,GAAKsc,EAAQ,GAAGtc,QAAQ,KAAO,GAAKsc,EAAQxlB,MAAKhC,GAAKA,EAAEkL,QAAQ,MAAQ,IAAI,CAC9H,MAAMvB,EAAY6d,EAAQa,WAAUroB,GAAKA,EAAEkL,QAAQ,MAAQ,IAC3Dsc,EAAQ,GAAK,CAACA,EAAQ,MAAOA,EAAQtR,OAAO,EAAGvM,IAAYqG,KAAKxU,KAAKspB,gBAC3E,CACI,MAAMzO,EAASmR,EAAQxkB,QAAO,CAACslB,EAAKtoB,KAClC,MAAMuoB,WACJA,EAAUC,cACVA,GAhHeC,KACrB,IAAIF,EAAaE,EAAU/qB,cAAcsoB,OACzC,MAAMwC,EAAgB,CAAE,EACxB,GAAIC,EAAUvd,QAAQ,MAAQ,EAAG,CAC/B,MAAM3P,EAAIktB,EAAU9d,MAAM,KAC1B4d,EAAahtB,EAAE,GAAGmC,cAAcsoB,OAChC,MAAM0C,EAASntB,EAAE,GAAG0d,UAAU,EAAG1d,EAAE,GAAGxB,OAAS,GAC5B,aAAfwuB,GAA6BG,EAAOxd,QAAQ,KAAO,EAChDsd,EAAcb,WAAUa,EAAcb,SAAWe,EAAO1C,QACrC,iBAAfuC,GAAiCG,EAAOxd,QAAQ,KAAO,EAC3Dsd,EAAcP,QAAOO,EAAcP,MAAQS,EAAO1C,QAE1C0C,EAAO/d,MAAM,KACrBlK,SAAQgnB,IACX,GAAIA,EAAK,CACP,MAAO3W,KAAQ6X,GAAQlB,EAAI9c,MAAM,KAC3B2Z,EAAMqE,EAAK3Y,KAAK,KAAKgW,OAAOjV,QAAQ,WAAY,IAChD6X,EAAa9X,EAAIkV,OAClBwC,EAAcI,KAAaJ,EAAcI,GAActE,GAChD,UAARA,IAAiBkE,EAAcI,IAAc,GACrC,SAARtE,IAAgBkE,EAAcI,IAAc,GAC3CC,MAAMvE,KAAMkE,EAAcI,GAAcE,SAASxE,EAAK,IACrE,IAGA,CACE,MAAO,CACLiE,aACAC,gBACD,EAoFOO,CAAe/oB,GACnB,GAAIxE,KAAKgsB,QAAQe,GAAa,CAC5B,IAAIS,EAAYV,EAChB,IACE,MAAMW,EAAazc,GAAWA,EAAQ6a,cAAgB7a,EAAQ6a,aAAa7a,EAAQuZ,mBAAqB,CAAE,EACpG7rB,EAAI+uB,EAAWC,QAAUD,EAAW7S,KAAO5J,EAAQ0c,QAAU1c,EAAQ4J,KAAOA,EAClF4S,EAAYxtB,KAAKgsB,QAAQe,GAAYD,EAAKpuB,EAAG,IACxCsuB,KACAhc,KACAyc,GAEN,CAAC,MAAOlZ,GACPvU,KAAKsY,OAAON,KAAKzD,EAC3B,CACQ,OAAOiZ,CACf,CAGM,OAFExtB,KAAKsY,OAAON,KAAK,oCAAoC+U,KAEhDD,CAAG,GACTruB,GACH,OAAOoc,CACX,EASA,MAAM8S,WAAkBrU,GACtB,WAAAtV,CAAY4pB,EAASC,EAAOtR,GAC1B,IAAIvL,EAAUtN,UAAUnF,OAAS,QAAsBqV,IAAjBlQ,UAAU,GAAmBA,UAAU,GAAK,CAAE,EACpFiH,QACA3K,KAAK4tB,QAAUA,EACf5tB,KAAK6tB,MAAQA,EACb7tB,KAAKuc,SAAWA,EAChBvc,KAAKsgB,cAAgB/D,EAAS+D,cAC9BtgB,KAAKgR,QAAUA,EACfhR,KAAKsY,OAASL,GAAW3Y,OAAO,oBAChCU,KAAK8tB,aAAe,GACpB9tB,KAAK+tB,iBAAmB/c,EAAQ+c,kBAAoB,GACpD/tB,KAAKguB,aAAe,EACpBhuB,KAAKiuB,WAAajd,EAAQid,YAAc,EAAIjd,EAAQid,WAAa,EACjEjuB,KAAKkuB,aAAeld,EAAQkd,cAAgB,EAAIld,EAAQkd,aAAe,IACvEluB,KAAK0J,MAAQ,CAAE,EACf1J,KAAKmuB,MAAQ,GACTnuB,KAAK4tB,SAAW5tB,KAAK4tB,QAAQxV,MAC/BpY,KAAK4tB,QAAQxV,KAAKmE,EAAUvL,EAAQ4c,QAAS5c,EAEnD,CACE,SAAAod,CAAUC,EAAWrR,EAAYhM,EAASsd,GACxC,MAAMC,EAAS,CAAE,EACXC,EAAU,CAAE,EACZC,EAAkB,CAAE,EACpBC,EAAmB,CAAE,EA4B3B,OA3BAL,EAAUppB,SAAQ2V,IAChB,IAAI+T,GAAmB,EACvB3R,EAAW/X,SAAQoV,IACjB,MAAMhL,EAAO,GAAGuL,KAAOP,KAClBrJ,EAAQ4d,QAAU5uB,KAAK6tB,MAAMtS,kBAAkBX,EAAKP,GACvDra,KAAK0J,MAAM2F,GAAQ,EACVrP,KAAK0J,MAAM2F,GAAQ,IAAmC,IAArBrP,KAAK0J,MAAM2F,QAC/BuE,IAAlB4a,EAAQnf,KAAqBmf,EAAQnf,IAAQ,IAEjDrP,KAAK0J,MAAM2F,GAAQ,EACnBsf,GAAmB,OACG/a,IAAlB4a,EAAQnf,KAAqBmf,EAAQnf,IAAQ,QAC5BuE,IAAjB2a,EAAOlf,KAAqBkf,EAAOlf,IAAQ,QAClBuE,IAAzB8a,EAAiBrU,KAAmBqU,EAAiBrU,IAAM,IACzE,IAEWsU,IAAkBF,EAAgB7T,IAAO,EAAI,KAEhDvb,OAAOmK,KAAK+kB,GAAQhwB,QAAUc,OAAOmK,KAAKglB,GAASjwB,SACrDyB,KAAKmuB,MAAMjvB,KAAK,CACdsvB,UACAK,aAAcxvB,OAAOmK,KAAKglB,GAASjwB,OACnCuwB,OAAQ,CAAE,EACVC,OAAQ,GACRT,aAGG,CACLC,OAAQlvB,OAAOmK,KAAK+kB,GACpBC,QAASnvB,OAAOmK,KAAKglB,GACrBC,gBAAiBpvB,OAAOmK,KAAKilB,GAC7BC,iBAAkBrvB,OAAOmK,KAAKklB,GAEpC,CACE,MAAAI,CAAOzf,EAAMmY,EAAK/X,GAChB,MAAMrM,EAAIiM,EAAKF,MAAM,KACfyL,EAAMxX,EAAE,GACRiX,EAAKjX,EAAE,GACTokB,GAAKxnB,KAAK8Z,KAAK,gBAAiBc,EAAKP,EAAImN,IACxCA,GAAO/X,GACVzP,KAAK6tB,MAAM3S,kBAAkBN,EAAKP,EAAI5K,OAAMmE,OAAWA,EAAW,CAChEwH,UAAU,IAGdpb,KAAK0J,MAAM2F,GAAQmY,GAAO,EAAI,EAC1BA,GAAO/X,IAAMzP,KAAK0J,MAAM2F,GAAQ,GACpC,MAAMyf,EAAS,CAAE,EACjB9uB,KAAKmuB,MAAMlpB,SAAQzF,IArjDN,EAAC2V,EAAQO,EAAMK,KAC9B,MAAMjB,IACJA,EAAGrQ,EACHA,GACEgR,GAAcN,EAAQO,EAAMrW,QAChCyV,EAAIrQ,GAAKqQ,EAAIrQ,IAAM,GACnBqQ,EAAIrQ,GAAGvF,KAAK6W,EAAS,EAgjDjBiZ,CAASxvB,EAAEsvB,OAAQ,CAAClU,GAAMP,GAhFV,EAAC7a,EAAG6P,UACAuE,IAApBpU,EAAEgvB,QAAQnf,YACL7P,EAAEgvB,QAAQnf,GACjB7P,EAAEqvB,eACN,EA6EMI,CAAczvB,EAAG6P,GACbmY,GAAKhoB,EAAEuvB,OAAO7vB,KAAKsoB,GACA,IAAnBhoB,EAAEqvB,cAAuBrvB,EAAEhB,OAC7Ba,OAAOmK,KAAKhK,EAAEsvB,QAAQ7pB,SAAQvG,IACvBowB,EAAOpwB,KAAIowB,EAAOpwB,GAAK,CAAE,GAC9B,MAAMwwB,EAAa1vB,EAAEsvB,OAAOpwB,GACxBwwB,EAAW3wB,QACb2wB,EAAWjqB,SAAQ7F,SACIwU,IAAjBkb,EAAOpwB,GAAGU,KAAkB0vB,EAAOpwB,GAAGU,IAAK,EAAI,GAEjE,IAEQI,EAAEhB,MAAO,EACLgB,EAAEuvB,OAAOxwB,OACXiB,EAAE8uB,SAAS9uB,EAAEuvB,QAEbvvB,EAAE8uB,WAEZ,IAEItuB,KAAK8Z,KAAK,SAAUgV,GACpB9uB,KAAKmuB,MAAQnuB,KAAKmuB,MAAM7Q,QAAO9d,IAAMA,EAAEhB,MAC3C,CACE,IAAA2wB,CAAKvU,EAAKP,EAAI+U,GACZ,IAAIC,EAAQ3rB,UAAUnF,OAAS,QAAsBqV,IAAjBlQ,UAAU,GAAmBA,UAAU,GAAK,EAC5E4rB,EAAO5rB,UAAUnF,OAAS,QAAsBqV,IAAjBlQ,UAAU,GAAmBA,UAAU,GAAK1D,KAAKkuB,aAChFI,EAAW5qB,UAAUnF,OAAS,EAAImF,UAAU,QAAKkQ,EACrD,IAAKgH,EAAIrc,OAAQ,OAAO+vB,EAAS,KAAM,CAAA,GACvC,GAAItuB,KAAKguB,cAAgBhuB,KAAK+tB,iBAS5B,YARA/tB,KAAK8tB,aAAa5uB,KAAK,CACrB0b,MACAP,KACA+U,SACAC,QACAC,OACAhB,aAIJtuB,KAAKguB,eACL,MAAMuB,EAAW,CAAC/H,EAAK/X,KAErB,GADAzP,KAAKguB,eACDhuB,KAAK8tB,aAAavvB,OAAS,EAAG,CAChC,MAAMO,EAAOkB,KAAK8tB,aAAa1W,QAC/BpX,KAAKmvB,KAAKrwB,EAAK8b,IAAK9b,EAAKub,GAAIvb,EAAKswB,OAAQtwB,EAAKuwB,MAAOvwB,EAAKwwB,KAAMxwB,EAAKwvB,SAC9E,CACU9G,GAAO/X,GAAQ4f,EAAQrvB,KAAKiuB,WAC9BuB,YAAW,KACTxvB,KAAKmvB,KAAKtwB,KAAKmB,KAAM4a,EAAKP,EAAI+U,EAAQC,EAAQ,EAAU,EAAPC,EAAUhB,EAAS,GACnEgB,GAGLhB,EAAS9G,EAAK/X,EAAK,EAEfoW,EAAK7lB,KAAK4tB,QAAQwB,GAAQK,KAAKzvB,KAAK4tB,SAC1C,GAAkB,IAAd/H,EAAGtnB,OAaP,OAAOsnB,EAAGjL,EAAKP,EAAIkV,GAZjB,IACE,MAAMtvB,EAAI4lB,EAAGjL,EAAKP,GACdpa,GAAuB,mBAAXA,EAAEyvB,KAChBzvB,EAAEyvB,MAAKjgB,GAAQ8f,EAAS,KAAM9f,KAAOkgB,MAAMJ,GAE3CA,EAAS,KAAMtvB,EAElB,CAAC,MAAOunB,GACP+H,EAAS/H,EACjB,CAIA,CACE,cAAAoI,CAAevB,EAAWrR,GACxB,IAAIhM,EAAUtN,UAAUnF,OAAS,QAAsBqV,IAAjBlQ,UAAU,GAAmBA,UAAU,GAAK,CAAE,EAChF4qB,EAAW5qB,UAAUnF,OAAS,EAAImF,UAAU,QAAKkQ,EACrD,IAAK5T,KAAK4tB,QAER,OADA5tB,KAAKsY,OAAON,KAAK,kEACVsW,GAAYA,IAEjBzZ,GAASwZ,KAAYA,EAAYruB,KAAKsgB,cAAcI,mBAAmB2N,IACvExZ,GAASmI,KAAaA,EAAa,CAACA,IACxC,MAAMuR,EAASvuB,KAAKouB,UAAUC,EAAWrR,EAAYhM,EAASsd,GAC9D,IAAKC,EAAOA,OAAOhwB,OAEjB,OADKgwB,EAAOC,QAAQjwB,QAAQ+vB,IACrB,KAETC,EAAOA,OAAOtpB,SAAQoK,IACpBrP,KAAK6vB,QAAQxgB,EAAK,GAExB,CACE,IAAA6V,CAAKmJ,EAAWrR,EAAYsR,GAC1BtuB,KAAK4vB,eAAevB,EAAWrR,EAAY,CAAA,EAAIsR,EACnD,CACE,MAAAM,CAAOP,EAAWrR,EAAYsR,GAC5BtuB,KAAK4vB,eAAevB,EAAWrR,EAAY,CACzC4R,QAAQ,GACPN,EACP,CACE,OAAAuB,CAAQxgB,GACN,IAAIgJ,EAAS3U,UAAUnF,OAAS,QAAsBqV,IAAjBlQ,UAAU,GAAmBA,UAAU,GAAK,GACjF,MAAMN,EAAIiM,EAAKF,MAAM,KACfyL,EAAMxX,EAAE,GACRiX,EAAKjX,EAAE,GACbpD,KAAKmvB,KAAKvU,EAAKP,EAAI,YAAQzG,OAAWA,GAAW,CAAC4T,EAAK/X,KACjD+X,GAAKxnB,KAAKsY,OAAON,KAAK,GAAGK,sBAA2BgC,kBAAmBO,WAAc4M,IACpFA,GAAO/X,GAAMzP,KAAKsY,OAAOT,IAAI,GAAGQ,qBAA0BgC,kBAAmBO,IAAOnL,GACzFzP,KAAK8uB,OAAOzf,EAAMmY,EAAK/X,EAAK,GAElC,CACE,WAAAuR,CAAYqN,EAAWnQ,EAAW5I,EAAKwa,EAAeC,GACpD,IAAI/e,EAAUtN,UAAUnF,OAAS,QAAsBqV,IAAjBlQ,UAAU,GAAmBA,UAAU,GAAK,CAAE,EAChFssB,EAAMtsB,UAAUnF,OAAS,QAAsBqV,IAAjBlQ,UAAU,GAAmBA,UAAU,GAAK,OAC9E,GAAI1D,KAAKuc,SAAS0G,OAASjjB,KAAKuc,SAAS0G,MAAMC,qBAAuBljB,KAAKuc,SAAS0G,MAAMC,mBAAmBhF,GAC3Gle,KAAKsY,OAAON,KAAK,qBAAqB1C,wBAA0B4I,wBAAiC,iOAGnG,GAAI5I,SAA6C,KAARA,EAAzC,CACA,GAAItV,KAAK4tB,SAAW5tB,KAAK4tB,QAAQtuB,OAAQ,CACvC,MAAM2wB,EAAO,IACRjf,EACH+e,YAEIlK,EAAK7lB,KAAK4tB,QAAQtuB,OAAOmwB,KAAKzvB,KAAK4tB,SACzC,GAAI/H,EAAGtnB,OAAS,EACd,IACE,IAAI0B,EAEFA,EADgB,IAAd4lB,EAAGtnB,OACDsnB,EAAGwI,EAAWnQ,EAAW5I,EAAKwa,EAAeG,GAE7CpK,EAAGwI,EAAWnQ,EAAW5I,EAAKwa,GAEhC7vB,GAAuB,mBAAXA,EAAEyvB,KAChBzvB,EAAEyvB,MAAKjgB,GAAQugB,EAAI,KAAMvgB,KAAOkgB,MAAMK,GAEtCA,EAAI,KAAM/vB,EAEb,CAAC,MAAOunB,GACPwI,EAAIxI,EACd,MAEQ3B,EAAGwI,EAAWnQ,EAAW5I,EAAKwa,EAAeE,EAAKC,EAE1D,CACS5B,GAAcA,EAAU,IAC7BruB,KAAK6tB,MAAM/S,YAAYuT,EAAU,GAAInQ,EAAW5I,EAAKwa,EA5BA,CA6BzD,EAGA,MAAMvuB,GAAM,KAAO,CACjBgX,OAAO,EACP2X,eAAe,EACf7V,GAAI,CAAC,eACLC,UAAW,CAAC,eACZkG,YAAa,CAAC,OACdsC,YAAY,EACZwB,eAAe,EACfa,0BAA0B,EAC1BD,KAAM,MACNiL,SAAS,EACT3H,sBAAsB,EACtBlR,aAAc,IACdyF,YAAa,IACb+C,gBAAiB,IACjB2D,iBAAkB,IAClB2M,yBAAyB,EACzBpP,aAAa,EACbd,eAAe,EACfO,cAAe,WACfQ,oBAAoB,EACpBH,mBAAmB,EACnB2J,6BAA6B,EAC7BlI,aAAa,EACbG,yBAAyB,EACzBiB,YAAY,EACZC,mBAAmB,EACnBrC,eAAe,EACf1C,YAAY,EACZ2C,uBAAuB,EACvBF,wBAAwB,EACxBD,6BAA6B,EAC7BlD,yBAAyB,EACzBH,iCAAkClG,IAChC,IAAIuY,EAAM,CAAE,EAIZ,GAHuB,iBAAZvY,EAAK,KAAiBuY,EAAMvY,EAAK,IACxCjD,GAASiD,EAAK,MAAKuY,EAAIxQ,aAAe/H,EAAK,IAC3CjD,GAASiD,EAAK,MAAKuY,EAAIC,aAAexY,EAAK,IACxB,iBAAZA,EAAK,IAAsC,iBAAZA,EAAK,GAAiB,CAC9D,MAAM9G,EAAU8G,EAAK,IAAMA,EAAK,GAChCzY,OAAOmK,KAAKwH,GAAS/L,SAAQqQ,IAC3B+a,EAAI/a,GAAOtE,EAAQsE,EAAI,GAE/B,CACI,OAAO+a,CAAG,EAEZzT,cAAe,CACbqM,aAAa,EACbD,OAAQvqB,GAASA,EACjB4Z,OAAQ,KACR+I,OAAQ,KACRkI,gBAAiB,IACjBE,eAAgB,IAChBC,cAAe,MACfE,cAAe,IACfE,wBAAyB,IACzBC,YAAa,IACb/H,iBAAiB,KAGfwO,GAAmBvf,IACnB6D,GAAS7D,EAAQqJ,MAAKrJ,EAAQqJ,GAAK,CAACrJ,EAAQqJ,KAC5CxF,GAAS7D,EAAQwP,eAAcxP,EAAQwP,YAAc,CAACxP,EAAQwP,cAC9D3L,GAAS7D,EAAQ8R,cAAa9R,EAAQ8R,WAAa,CAAC9R,EAAQ8R,aAC5D9R,EAAQsT,eAAiBtT,EAAQsT,cAAc5U,QAAQ,UAAY,IACrEsB,EAAQsT,cAAgBtT,EAAQsT,cAAcre,OAAO,CAAC,YAEjD+K,GAGHwf,GAAO,OASb,MAAMC,WAAanX,GACjB,WAAAtV,GACE,IAAIgN,EAAUtN,UAAUnF,OAAS,QAAsBqV,IAAjBlQ,UAAU,GAAmBA,UAAU,GAAK,CAAE,EAChF4qB,EAAW5qB,UAAUnF,OAAS,EAAImF,UAAU,QAAKkQ,EAX7B8c,MAoBxB,GARA/lB,QACA3K,KAAKgR,QAAUuf,GAAiBvf,GAChChR,KAAKuc,SAAW,CAAE,EAClBvc,KAAKsY,OAASL,GACdjY,KAAK2wB,QAAU,CACbC,SAAU,IAjBYF,EAmBJ1wB,KAlBTX,OAAO2I,oBAAoB3I,OAAO2F,eAAe0rB,IACzDzrB,SAAQ6nB,IACc,mBAAd4D,EAAK5D,KACd4D,EAAK5D,GAAO4D,EAAK5D,GAAK2C,KAAKiB,GACjC,IAeQpC,IAAatuB,KAAK6wB,gBAAkB7f,EAAQ8f,QAAS,CACvD,IAAK9wB,KAAKgR,QAAQkf,cAEhB,OADAlwB,KAAKoY,KAAKpH,EAASsd,GACZtuB,KAETwvB,YAAW,KACTxvB,KAAKoY,KAAKpH,EAASsd,EAAS,GAC3B,EACT,CACA,CACE,IAAAlW,GACE,IAAIwJ,EAAQ5hB,KACZ,IAAIgR,EAAUtN,UAAUnF,OAAS,QAAsBqV,IAAjBlQ,UAAU,GAAmBA,UAAU,GAAK,CAAE,EAChF4qB,EAAW5qB,UAAUnF,OAAS,EAAImF,UAAU,QAAKkQ,EACrD5T,KAAK+wB,gBAAiB,EACC,mBAAZ/f,IACTsd,EAAWtd,EACXA,EAAU,CAAE,IAETA,EAAQsJ,YAAmC,IAAtBtJ,EAAQsJ,WAAuBtJ,EAAQqJ,KAC3DxF,GAAS7D,EAAQqJ,IACnBrJ,EAAQsJ,UAAYtJ,EAAQqJ,GACnBrJ,EAAQqJ,GAAG3K,QAAQ,eAAiB,IAC7CsB,EAAQsJ,UAAYtJ,EAAQqJ,GAAG,KAGnC,MAAM2W,EAAUzvB,KAChBvB,KAAKgR,QAAU,IACVggB,KACAhxB,KAAKgR,WACLuf,GAAiBvf,IAEgB,OAAlChR,KAAKgR,QAAQyK,mBACfzb,KAAKgR,QAAQ4L,cAAgB,IACxBoU,EAAQpU,iBACR5c,KAAKgR,QAAQ4L,qBAGShJ,IAAzB5C,EAAQsG,eACVtX,KAAKgR,QAAQmM,wBAA0BnM,EAAQsG,mBAErB1D,IAAxB5C,EAAQ+L,cACV/c,KAAKgR,QAAQoM,uBAAyBpM,EAAQ+L,aAEhD,MAAMkU,EAAsBC,GACrBA,EACwB,mBAAlBA,EAAqC,IAAIA,EAC7CA,EAFoB,KAI7B,IAAKlxB,KAAKgR,QAAQ8f,QAAS,CAMzB,IAAIhF,EALA9rB,KAAK2wB,QAAQrY,OACfL,GAAWG,KAAK6Y,EAAoBjxB,KAAK2wB,QAAQrY,QAAStY,KAAKgR,SAE/DiH,GAAWG,KAAK,KAAMpY,KAAKgR,SAGzBhR,KAAK2wB,QAAQ7E,UACfA,EAAY9rB,KAAK2wB,QAAQ7E,UACA,oBAATpH,OAChBoH,EAAYC,IAEd,MAAMoF,EAAK,IAAI9M,GAAarkB,KAAKgR,SACjChR,KAAK6tB,MAAQ,IAAIzT,GAAcpa,KAAKgR,QAAQiK,UAAWjb,KAAKgR,SAC5D,MAAM5N,EAAIpD,KAAKuc,SACfnZ,EAAEkV,OAASL,GACX7U,EAAEygB,cAAgB7jB,KAAK6tB,MACvBzqB,EAAEkd,cAAgB6Q,EAClB/tB,EAAEmc,eAAiB,IAAImH,GAAeyK,EAAI,CACxClJ,QAASjoB,KAAKgR,QAAQ8O,gBACtB6G,kBAAmB3mB,KAAKgR,QAAQ2V,kBAChC6B,qBAAsBxoB,KAAKgR,QAAQwX,wBAEjCsD,GAAe9rB,KAAKgR,QAAQ4L,cAAcoM,QAAUhpB,KAAKgR,QAAQ4L,cAAcoM,SAAWgI,EAAQpU,cAAcoM,SAClH5lB,EAAE0oB,UAAYmF,EAAoBnF,GAClC1oB,EAAE0oB,UAAU1T,KAAKhV,EAAGpD,KAAKgR,SACzBhR,KAAKgR,QAAQ4L,cAAcoM,OAAS5lB,EAAE0oB,UAAU9C,OAAOyG,KAAKrsB,EAAE0oB,YAEhE1oB,EAAEwa,aAAe,IAAImL,GAAa/oB,KAAKgR,SACvC5N,EAAE6f,MAAQ,CACRC,mBAAoBljB,KAAKkjB,mBAAmBuM,KAAKzvB,OAEnDoD,EAAE2d,iBAAmB,IAAI4M,GAAUsD,EAAoBjxB,KAAK2wB,QAAQ/C,SAAUxqB,EAAEygB,cAAezgB,EAAGpD,KAAKgR,SACvG5N,EAAE2d,iBAAiBvH,GAAG,KAAK,SAAUG,GACnC,IAAK,IAAInB,EAAO9U,UAAUnF,OAAQuZ,EAAO,IAAI9Y,MAAMwZ,EAAO,EAAIA,EAAO,EAAI,GAAIC,EAAO,EAAGA,EAAOD,EAAMC,IAClGX,EAAKW,EAAO,GAAK/U,UAAU+U,GAE7BmJ,EAAM9H,KAAKH,KAAU7B,EAC7B,IACU9X,KAAK2wB,QAAQS,mBACfhuB,EAAEguB,iBAAmBH,EAAoBjxB,KAAK2wB,QAAQS,kBAClDhuB,EAAEguB,iBAAiBhZ,MAAMhV,EAAEguB,iBAAiBhZ,KAAKhV,EAAGpD,KAAKgR,QAAQqgB,UAAWrxB,KAAKgR,UAEnFhR,KAAK2wB,QAAQ5R,aACf3b,EAAE2b,WAAakS,EAAoBjxB,KAAK2wB,QAAQ5R,YAC5C3b,EAAE2b,WAAW3G,MAAMhV,EAAE2b,WAAW3G,KAAKpY,OAE3CA,KAAKkc,WAAa,IAAII,GAAWtc,KAAKuc,SAAUvc,KAAKgR,SACrDhR,KAAKkc,WAAW1C,GAAG,KAAK,SAAUG,GAChC,IAAK,IAAIhB,EAAQjV,UAAUnF,OAAQuZ,EAAO,IAAI9Y,MAAM2Z,EAAQ,EAAIA,EAAQ,EAAI,GAAIC,EAAQ,EAAGA,EAAQD,EAAOC,IACxGd,EAAKc,EAAQ,GAAKlV,UAAUkV,GAE9BgJ,EAAM9H,KAAKH,KAAU7B,EAC7B,IACM9X,KAAK2wB,QAAQC,SAAS3rB,SAAQlG,IACxBA,EAAEqZ,MAAMrZ,EAAEqZ,KAAKpY,KAAK,GAEhC,CAGI,GAFAA,KAAKgpB,OAAShpB,KAAKgR,QAAQ4L,cAAcoM,OACpCsF,IAAUA,EAAWkC,IACtBxwB,KAAKgR,QAAQwP,cAAgBxgB,KAAKuc,SAAS6U,mBAAqBpxB,KAAKgR,QAAQ4J,IAAK,CACpF,MAAMoI,EAAQhjB,KAAKuc,SAAS+D,cAAcC,iBAAiBvgB,KAAKgR,QAAQwP,aACpEwC,EAAMzkB,OAAS,GAAkB,QAAbykB,EAAM,KAAchjB,KAAKgR,QAAQ4J,IAAMoI,EAAM,GAC3E,CACShjB,KAAKuc,SAAS6U,kBAAqBpxB,KAAKgR,QAAQ4J,KACnD5a,KAAKsY,OAAON,KAAK,2DAEF,CAAC,cAAe,oBAAqB,oBAAqB,qBAClE/S,SAAQmqB,IACfpvB,KAAKovB,GAAU,WACb,OAAOxN,EAAMiM,MAAMuB,MAAW1rB,UAC/B,CAAA,IAEqB,CAAC,cAAe,eAAgB,oBAAqB,wBAC7DuB,SAAQmqB,IACtBpvB,KAAKovB,GAAU,WAEb,OADAxN,EAAMiM,MAAMuB,MAAW1rB,WAChBke,CACR,CAAA,IAEH,MAAM0P,EAAWvc,KACXmQ,EAAO,KACX,MAAMqM,EAAS,CAAC/J,EAAKroB,KACnBa,KAAK+wB,gBAAiB,EAClB/wB,KAAK6wB,gBAAkB7wB,KAAKwxB,sBAAsBxxB,KAAKsY,OAAON,KAAK,yEACvEhY,KAAK6wB,eAAgB,EAChB7wB,KAAKgR,QAAQ8f,SAAS9wB,KAAKsY,OAAOT,IAAI,cAAe7X,KAAKgR,SAC/DhR,KAAK8Z,KAAK,cAAe9Z,KAAKgR,SAC9BsgB,EAAS/tB,QAAQpE,GACjBmvB,EAAS9G,EAAKroB,EAAE,EAElB,GAAIa,KAAKquB,WAA+C,OAAlCruB,KAAKgR,QAAQyK,mBAA8Bzb,KAAK6wB,cAAe,OAAOU,EAAO,KAAMvxB,KAAKb,EAAEswB,KAAKzvB,OACrHA,KAAKyc,eAAezc,KAAKgR,QAAQ4J,IAAK2W,EAAO,EAO/C,OALIvxB,KAAKgR,QAAQiK,YAAcjb,KAAKgR,QAAQkf,cAC1ChL,IAEAsK,WAAWtK,EAAM,GAEZoM,CACX,CACE,aAAAG,CAAc/U,GACZ,IACIgV,EADWhuB,UAAUnF,OAAS,QAAsBqV,IAAjBlQ,UAAU,GAAmBA,UAAU,GAAK8sB,GAEnF,MAAMlS,EAAUzJ,GAAS6H,GAAYA,EAAW1c,KAAK0c,SAErD,GADwB,mBAAbA,IAAyBgV,EAAehV,IAC9C1c,KAAKgR,QAAQiK,WAAajb,KAAKgR,QAAQof,wBAAyB,CACnE,GAAI9R,GAAqC,WAA1BA,EAAQpc,iBAAgClC,KAAKgR,QAAQmf,SAA2C,IAAhCnwB,KAAKgR,QAAQmf,QAAQ5xB,QAAe,OAAOmzB,IAC1H,MAAMnD,EAAS,GACT/e,EAASoL,IACb,IAAKA,EAAK,OACV,GAAY,WAARA,EAAkB,OACT5a,KAAKuc,SAAS+D,cAAcI,mBAAmB9F,GACvD3V,SAAQvG,IACD,WAANA,GACA6vB,EAAO7e,QAAQhR,GAAK,GAAG6vB,EAAOrvB,KAAKR,EAAE,GACzC,EAEJ,GAAK4f,EAIH9O,EAAO8O,OAJK,CACMte,KAAKuc,SAAS+D,cAAcC,iBAAiBvgB,KAAKgR,QAAQwP,aAClEvb,SAAQvG,GAAK8Q,EAAO9Q,IACtC,CAGUsB,KAAKgR,QAAQmf,SACfnwB,KAAKgR,QAAQmf,QAAQlrB,SAAQvG,GAAK8Q,EAAO9Q,KAE3CsB,KAAKuc,SAASwE,iBAAiBmE,KAAKqJ,EAAQvuB,KAAKgR,QAAQqJ,IAAIha,IACtDA,GAAML,KAAK2xB,mBAAoB3xB,KAAK0c,UAAU1c,KAAK4xB,oBAAoB5xB,KAAK0c,UACjFgV,EAAarxB,EAAE,GAEvB,MACMqxB,EAAa,KAEnB,CACE,eAAAG,CAAgBzR,EAAM/F,EAAIiU,GACxB,MAAMgD,EAAWvc,KAgBjB,MAfoB,mBAATqL,IACTkO,EAAWlO,EACXA,OAAOxM,GAES,mBAAPyG,IACTiU,EAAWjU,EACXA,OAAKzG,GAEFwM,IAAMA,EAAOpgB,KAAKquB,WAClBhU,IAAIA,EAAKra,KAAKgR,QAAQqJ,IACtBiU,IAAUA,EAAWkC,IAC1BxwB,KAAKuc,SAASwE,iBAAiB6N,OAAOxO,EAAM/F,GAAImN,IAC9C8J,EAAS/tB,UACT+qB,EAAS9G,EAAI,IAER8J,CACX,CACE,GAAAQ,CAAI9V,GACF,IAAKA,EAAQ,MAAM,IAAIlc,MAAM,iGAC7B,IAAKkc,EAAOnT,KAAM,MAAM,IAAI/I,MAAM,4FAsBlC,MArBoB,YAAhBkc,EAAOnT,OACT7I,KAAK2wB,QAAQ/C,QAAU5R,IAEL,WAAhBA,EAAOnT,MAAqBmT,EAAOnE,KAAOmE,EAAOhE,MAAQgE,EAAOzH,SAClEvU,KAAK2wB,QAAQrY,OAAS0D,GAEJ,qBAAhBA,EAAOnT,OACT7I,KAAK2wB,QAAQS,iBAAmBpV,GAEd,eAAhBA,EAAOnT,OACT7I,KAAK2wB,QAAQ5R,WAAa/C,GAER,kBAAhBA,EAAOnT,MACTgT,GAAcE,iBAAiBC,GAEb,cAAhBA,EAAOnT,OACT7I,KAAK2wB,QAAQ7E,UAAY9P,GAEP,aAAhBA,EAAOnT,MACT7I,KAAK2wB,QAAQC,SAAS1xB,KAAK8c,GAEtBhc,IACX,CACE,mBAAA4xB,CAAoBlzB,GAClB,GAAKA,GAAMsB,KAAKquB,aACZ,CAAC,SAAU,OAAO3e,QAAQhR,IAAM,GACpC,IAAK,IAAIqzB,EAAK,EAAGA,EAAK/xB,KAAKquB,UAAU9vB,OAAQwzB,IAAM,CACjD,MAAMC,EAAYhyB,KAAKquB,UAAU0D,GACjC,KAAI,CAAC,SAAU,OAAOriB,QAAQsiB,IAAc,IACxChyB,KAAK6tB,MAAMlS,4BAA4BqW,GAAY,CACrDhyB,KAAK2xB,iBAAmBK,EACxB,KACR,CACA,CACA,CACE,cAAAvV,CAAe7B,EAAK0T,GAClB,IAAI2D,EAASjyB,KACbA,KAAKkyB,qBAAuBtX,EAC5B,MAAM0W,EAAWvc,KACjB/U,KAAK8Z,KAAK,mBAAoBc,GAC9B,MAAMuX,EAAczzB,IAClBsB,KAAK0c,SAAWhe,EAChBsB,KAAKquB,UAAYruB,KAAKuc,SAAS+D,cAAcI,mBAAmBhiB,GAChEsB,KAAK2xB,sBAAmB/d,EACxB5T,KAAK4xB,oBAAoBlzB,EAAE,EAEvBF,EAAO,CAACgpB,EAAK9oB,KACbA,GACFyzB,EAAYzzB,GACZsB,KAAKkc,WAAWO,eAAe/d,GAC/BsB,KAAKkyB,0BAAuBte,EAC5B5T,KAAK8Z,KAAK,kBAAmBpb,GAC7BsB,KAAKsY,OAAOT,IAAI,kBAAmBnZ,IAEnCsB,KAAKkyB,0BAAuBte,EAE9B0d,EAAS/tB,SAAQ,WACf,OAAO0uB,EAAO9yB,KAAKuE,UAC3B,IACU4qB,GAAUA,EAAS9G,GAAK,WAC1B,OAAOyK,EAAO9yB,KAAKuE,UAC3B,GAAQ,EAEE0uB,EAAShS,IACRxF,GAAQwF,IAAQpgB,KAAKuc,SAAS6U,mBAAkBhR,EAAO,IAC5D,MAAM1hB,EAAImW,GAASuL,GAAQA,EAAOpgB,KAAKuc,SAAS+D,cAAc8E,sBAAsBhF,GAChF1hB,IACGsB,KAAK0c,UACRyV,EAAYzzB,GAETsB,KAAKkc,WAAWQ,UAAU1c,KAAKkc,WAAWO,eAAe/d,GAC1DsB,KAAKuc,SAAS6U,kBAAoBpxB,KAAKuc,SAAS6U,iBAAiBiB,mBAAmBryB,KAAKuc,SAAS6U,iBAAiBiB,kBAAkB3zB,IAE3IsB,KAAKyxB,cAAc/yB,GAAG8oB,IACpBhpB,EAAKgpB,EAAK9oB,EAAE,GACZ,EAaJ,OAXKkc,IAAO5a,KAAKuc,SAAS6U,kBAAqBpxB,KAAKuc,SAAS6U,iBAAiBkB,OAElE1X,GAAO5a,KAAKuc,SAAS6U,kBAAoBpxB,KAAKuc,SAAS6U,iBAAiBkB,MAC7B,IAAjDtyB,KAAKuc,SAAS6U,iBAAiBmB,OAAOh0B,OACxCyB,KAAKuc,SAAS6U,iBAAiBmB,SAAS7C,KAAK0C,GAE7CpyB,KAAKuc,SAAS6U,iBAAiBmB,OAAOH,GAGxCA,EAAOxX,GARPwX,EAAOpyB,KAAKuc,SAAS6U,iBAAiBmB,UAUjCjB,CACX,CACE,SAAAkB,CAAU5X,EAAKP,EAAIoY,GACjB,IAAIC,EAAS1yB,KACb,MAAM2yB,EAAS,SAAUrd,EAAK2a,GAC5B,IAAIjf,EACJ,GAAoB,iBAATif,EAAmB,CAC5B,IAAK,IAAIpX,EAAQnV,UAAUnF,OAAQ4uB,EAAO,IAAInuB,MAAM6Z,EAAQ,EAAIA,EAAQ,EAAI,GAAIC,EAAQ,EAAGA,EAAQD,EAAOC,IACxGqU,EAAKrU,EAAQ,GAAKpV,UAAUoV,GAE9B9H,EAAU0hB,EAAO1hB,QAAQgN,iCAAiC,CAAC1I,EAAK2a,GAAMhqB,OAAOknB,GACrF,MACQnc,EAAU,IACLif,GAGPjf,EAAQ4J,IAAM5J,EAAQ4J,KAAO+X,EAAO/X,IACpC5J,EAAQoP,KAAOpP,EAAQoP,MAAQuS,EAAOvS,KACtCpP,EAAQqJ,GAAKrJ,EAAQqJ,IAAMsY,EAAOtY,GACR,KAAtBrJ,EAAQyhB,YAAkBzhB,EAAQyhB,UAAYzhB,EAAQyhB,WAAaA,GAAaE,EAAOF,WAC3F,MAAMnb,EAAeob,EAAO1hB,QAAQsG,cAAgB,IACpD,IAAIsb,EAMJ,OAJEA,EADE5hB,EAAQyhB,WAAazzB,MAAMuL,QAAQ+K,GACzBA,EAAI5N,KAAIjD,GAAK,GAAGuM,EAAQyhB,YAAYnb,IAAe7S,MAEnDuM,EAAQyhB,UAAY,GAAGzhB,EAAQyhB,YAAYnb,IAAehC,IAAQA,EAEzEod,EAAOvzB,EAAEyzB,EAAW5hB,EAC5B,EAQD,OAPI6D,GAAS+F,GACX+X,EAAO/X,IAAMA,EAEb+X,EAAOvS,KAAOxF,EAEhB+X,EAAOtY,GAAKA,EACZsY,EAAOF,UAAYA,EACZE,CACX,CACE,CAAAxzB,GACE,OAAOa,KAAKkc,YAAclc,KAAKkc,WAAW4B,aAAapa,UAC3D,CACE,MAAAiZ,GACE,OAAO3c,KAAKkc,YAAclc,KAAKkc,WAAWS,UAAUjZ,UACxD,CACE,mBAAAmvB,CAAoBxY,GAClBra,KAAKgR,QAAQsJ,UAAYD,CAC7B,CACE,kBAAA6I,CAAmB7I,GACjB,IAAIrJ,EAAUtN,UAAUnF,OAAS,QAAsBqV,IAAjBlQ,UAAU,GAAmBA,UAAU,GAAK,CAAE,EACpF,IAAK1D,KAAK6wB,cAER,OADA7wB,KAAKsY,OAAON,KAAK,kDAAmDhY,KAAKquB,YAClE,EAET,IAAKruB,KAAKquB,YAAcruB,KAAKquB,UAAU9vB,OAErC,OADAyB,KAAKsY,OAAON,KAAK,6DAA8DhY,KAAKquB,YAC7E,EAET,MAAMzT,EAAM5J,EAAQ4J,KAAO5a,KAAK2xB,kBAAoB3xB,KAAKquB,UAAU,GAC7D7N,IAAcxgB,KAAKgR,SAAUhR,KAAKgR,QAAQwP,YAC1CsS,EAAU9yB,KAAKquB,UAAUruB,KAAKquB,UAAU9vB,OAAS,GACvD,GAA0B,WAAtBqc,EAAI1Y,cAA4B,OAAO,EAC3C,MAAM6wB,EAAiB,CAACr0B,EAAGU,KACzB,MAAM4zB,EAAYhzB,KAAKuc,SAASwE,iBAAiBrX,MAAM,GAAGhL,KAAKU,KAC/D,OAAsB,IAAf4zB,GAAkC,IAAdA,GAAiC,IAAdA,CAAe,EAE/D,GAAIhiB,EAAQiiB,SAAU,CACpB,MAAMC,EAAYliB,EAAQiiB,SAASjzB,KAAM+yB,GACzC,QAAkBnf,IAAdsf,EAAyB,OAAOA,CAC1C,CACI,QAAIlzB,KAAKub,kBAAkBX,EAAKP,OAC3Bra,KAAKuc,SAASwE,iBAAiB6M,WAAW5tB,KAAKgR,QAAQiK,WAAcjb,KAAKgR,QAAQof,8BACnF2C,EAAenY,EAAKP,IAASmG,IAAeuS,EAAeD,EAASzY,IAE5E,CACE,cAAA8Y,CAAe9Y,EAAIiU,GACjB,MAAMgD,EAAWvc,KACjB,OAAK/U,KAAKgR,QAAQqJ,IAIdxF,GAASwF,KAAKA,EAAK,CAACA,IACxBA,EAAGpV,SAAQ7F,IACLY,KAAKgR,QAAQqJ,GAAG3K,QAAQtQ,GAAK,GAAGY,KAAKgR,QAAQqJ,GAAGnb,KAAKE,EAAE,IAE7DY,KAAKyxB,eAAcjK,IACjB8J,EAAS/tB,UACL+qB,GAAUA,EAAS9G,EAAI,IAEtB8J,IAXDhD,GAAUA,IACPzqB,QAAQN,UAWrB,CACE,aAAA6vB,CAAchT,EAAMkO,GAClB,MAAMgD,EAAWvc,KACbF,GAASuL,KAAOA,EAAO,CAACA,IAC5B,MAAMiT,EAAYrzB,KAAKgR,QAAQmf,SAAW,GACpCmD,EAAUlT,EAAK9C,QAAO1C,GAAOyY,EAAU3jB,QAAQkL,GAAO,GAAK5a,KAAKuc,SAAS+D,cAAc2E,gBAAgBrK,KAC7G,OAAK0Y,EAAQ/0B,QAIbyB,KAAKgR,QAAQmf,QAAUkD,EAAUptB,OAAOqtB,GACxCtzB,KAAKyxB,eAAcjK,IACjB8J,EAAS/tB,UACL+qB,GAAUA,EAAS9G,EAAI,IAEtB8J,IARDhD,GAAUA,IACPzqB,QAAQN,UAQrB,CACE,GAAAgwB,CAAI3Y,GAEF,GADKA,IAAKA,EAAM5a,KAAK2xB,mBAAqB3xB,KAAKquB,WAAaruB,KAAKquB,UAAU9vB,OAAS,EAAIyB,KAAKquB,UAAU,GAAKruB,KAAK0c,YAC5G9B,EAAK,MAAO,MACjB,MACM0F,EAAgBtgB,KAAKuc,UAAYvc,KAAKuc,SAAS+D,eAAiB,IAAI+D,GAAa9iB,MACvF,MAFgB,CAAC,KAAM,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,KAAM,KAAM,KAAM,MAAO,MAAO,MAAO,MAAO,MAAO,KAAM,KAAM,MAAO,MAAO,MAAO,KAAM,KAAM,MAAO,MAAO,MAAO,KAAM,MAAO,MAAO,MAAO,MAAO,KAAM,MAAO,OAEnamO,QAAQ4Q,EAAcmE,wBAAwB7J,KAAS,GAAKA,EAAI1Y,cAAcwN,QAAQ,SAAW,EAAI,MAAQ,KAChI,CACE,qBAAO8jB,GAGL,OAAO,IAAI/C,GAFG/sB,UAAUnF,OAAS,QAAsBqV,IAAjBlQ,UAAU,GAAmBA,UAAU,GAAK,CAAE,EACrEA,UAAUnF,OAAS,EAAImF,UAAU,QAAKkQ,EAEzD,CACE,aAAA6f,GACE,IAAIziB,EAAUtN,UAAUnF,OAAS,QAAsBqV,IAAjBlQ,UAAU,GAAmBA,UAAU,GAAK,CAAE,EAChF4qB,EAAW5qB,UAAUnF,OAAS,QAAsBqV,IAAjBlQ,UAAU,GAAmBA,UAAU,GAAK8sB,GACnF,MAAMkD,EAAoB1iB,EAAQ0iB,kBAC9BA,UAA0B1iB,EAAQ0iB,kBACtC,MAAMC,EAAgB,IACjB3zB,KAAKgR,WACLA,EAED8f,SAAS,GAGPzX,EAAQ,IAAIoX,GAAKkD,QACD/f,IAAlB5C,EAAQuH,YAA0C3E,IAAnB5C,EAAQqH,SACzCgB,EAAMf,OAASe,EAAMf,OAAOe,MAAMrI,IA4BpC,MA1BsB,CAAC,QAAS,WAAY,YAC9B/L,SAAQlG,IACpBsa,EAAMta,GAAKiB,KAAKjB,EAAE,IAEpBsa,EAAMkD,SAAW,IACZvc,KAAKuc,UAEVlD,EAAMkD,SAAS0G,MAAQ,CACrBC,mBAAoB7J,EAAM6J,mBAAmBuM,KAAKpW,IAEhDqa,IACFra,EAAMwU,MAAQ,IAAIzT,GAAcpa,KAAK6tB,MAAMpe,KAAMkkB,GACjDta,EAAMkD,SAASsH,cAAgBxK,EAAMwU,OAEvCxU,EAAM6C,WAAa,IAAII,GAAWjD,EAAMkD,SAAUoX,GAClDta,EAAM6C,WAAW1C,GAAG,KAAK,SAAUG,GACjC,IAAK,IAAIX,EAAQtV,UAAUnF,OAAQuZ,EAAO,IAAI9Y,MAAMga,EAAQ,EAAIA,EAAQ,EAAI,GAAIC,EAAQ,EAAGA,EAAQD,EAAOC,IACxGnB,EAAKmB,EAAQ,GAAKvV,UAAUuV,GAE9BI,EAAMS,KAAKH,KAAU7B,EAC3B,IACIuB,EAAMjB,KAAKub,EAAerF,GAC1BjV,EAAM6C,WAAWlL,QAAU2iB,EAC3Bta,EAAM6C,WAAW6E,iBAAiBxE,SAAS0G,MAAQ,CACjDC,mBAAoB7J,EAAM6J,mBAAmBuM,KAAKpW,IAE7CA,CACX,CACE,MAAAuC,GACE,MAAO,CACL5K,QAAShR,KAAKgR,QACd6c,MAAO7tB,KAAK6tB,MACZnR,SAAU1c,KAAK0c,SACf2R,UAAWruB,KAAKquB,UAChBsD,iBAAkB3xB,KAAK2xB,iBAE7B,EAEA,MAAMiC,GAAWnD,GAAK+C,iBACtBI,GAASJ,eAAiB/C,GAAK+C,eAERI,GAASJ,eACpBI,GAASL,IACRK,GAASxb,KACAwb,GAASnC,cACPmC,GAAS/B,gBACrB+B,GAAS9B,IACE8B,GAASnX,eACdmX,GAASpB,UACjBoB,GAASz0B,EACJy0B,GAASjX,OACIiX,GAASf,oBACVe,GAAS1Q,mBACb0Q,GAAST,eACVS,GAASR,gRCn0ExB,SAASI,KACZ,OCsFG,SAAwBnF,EAAWzT,EAAKiZ,EAAU3V,QACnCtK,IAAdsK,IACAA,EAAY,eAEhB,IAAI4V,EAtBR,SAA8B5V,GAI1B,MAAO,KAAOA,EAAY,WAC9B,CAiB4B6V,CAAqB7V,GAE7C,IAEIlN,EAAU,CACV4J,IAAKA,EACL4F,YAJc,CAACqT,EAAUjZ,KAAQvb,OAAOmK,KAAK6kB,IAK7C9V,OAAO,EACP8B,GAAI,CAACyZ,EAAmB5V,GACxB5D,UAAW4D,EACX4E,WAAY5E,EACZgS,eAAe,EACfjV,UAAW,CAAE,EAEb0L,kBAAmB,MAGvBtnB,OAAOmK,KAAK6kB,GAAWppB,SAAQ,SAAUqQ,GACrCtE,EAAmB,UAAEsE,GAAO,CAAC4I,CAACA,GAAYmQ,EAAU/Y,GAC5D,IAEI,IAAI0e,EAAOC,GAAQT,iBAInB,OAHAQ,EAAK5b,KAAKpH,GACVsD,QAAQ4f,OAAOF,EAAKnD,eAEbmD,CACX,CDpHWG,CAAgB,CAACC,GAAIA,GAAIC,GAAIA,IAAK,KAAM,KACnD,CEDA,SAASC,GAAWC,EAAWC,KAAY1c,GACvC,IAAKyc,EACD,MAAM,IAAI3zB,UAAUooB,GAAOwL,EAAS1c,GAE5C,CAMA,SAASkR,GAAOwL,EAAS1c,GACrB,IAAI7V,EAAI,EACR,OAAOuyB,EAAQjf,QAAQ,WAAW,IAAMkf,GAAY3c,EAAK7V,OAC7D,CAKA,SAASwyB,GAAY5zB,GACjB,MAAiB,iBAANA,GAAwB,OAANA,EAClBiI,OAAOjI,GAEXxB,OAAOE,UAAUgI,SAAS1I,KAAKgC,EAC1C,CAiDA,MAAM6zB,GAA2B,oBAAXh1B,OAChBA,OACgB,oBAATC,KACHA,KACkB,oBAAXC,OACHA,OACsB,oBAAfH,WACHA,gBACAmU,EAclB,MAAM+gB,GACF,WAAA3wB,CAAY2T,EAAM6c,GACdx0B,KAAK2X,KAAOA,EACZ3X,KAAKw0B,QAAUA,CACvB,CAKI,IAAAxc,IAAQF,GACJ,IAAI8c,EACJ,IAvBJC,UA8BQ,MAAMjf,GAAsC,QAA5Bgf,GAAK,IAAI90B,OAAQ8V,aAA0B,IAAPgf,EAAgBA,EAAK,IAAIrf,QAAQ,kBAAmB,MACxGjB,QAAQ0D,KAAKhY,KAAKw0B,WAAY1c,EAAMlC,EAChD,CACQ,MAAOkf,GAEf,CACA,EAGA,MAAMC,GAAqC,IAAIJ,GAAQ,MAAO,iDACxDK,GAAiC,IAAIL,GAAQ,MAAO,uEACpDM,GAAiC,IAAIN,GAAQ,MAAO,uEACpDO,GAAgC,IAAIP,GAAQ,MAAO,sDACnDQ,GAA4B,IAAIR,GAAQ,MAAO,sEAC/CS,GAA6B,IAAIT,GAAQ,MAAO,4EAChDU,GAAmB,IAAIV,GAAQ,MAAO,4FACtCW,GAAuB,IAAIX,GAAQ,MAAO,6FAShD,MAAMY,GAIF,eAAWC,GACP,OAAOA,EACf,CAII,0BAAWC,GACP,OAAOA,EACf,CAII,oBAAWC,GACP,OAAOA,EACf,CAII,yBAAWC,GACP,OAAOA,EACf,CAOI,WAAA3xB,CAAY6E,EAAM+sB,GACdv2B,OAAO8E,eAAenE,KAAM,YAAa,CACrCvB,OAAO,EACP4F,YAAY,IAEhB,MAAM4rB,EAAO2F,QAAqDA,EAAgB,CAAE,EACpFC,GAAgB3yB,IAAIlD,KAAM,CACtB6I,KAAMC,OAAOD,GACbitB,QAASxtB,QAAQ2nB,EAAK6F,SACtBC,WAAYztB,QAAQ2nB,EAAK8F,YACzBC,SAAU1tB,QAAQ2nB,EAAK+F,UACvB7f,OAAQ,KACR8f,cAAe,KACfC,qBAAqB,EACrBC,8BAA8B,EAC9BC,cAAc,EACdC,uBAAuB,EACvBC,cAAc,EACdC,UAAWC,KAAKC,OAE5B,CAKI,QAAI5tB,GACA,OAAOgF,GAAE7N,MAAM6I,IACvB,CAKI,UAAIsN,GACA,OAAOtI,GAAE7N,MAAMmW,MACvB,CAMI,cAAIugB,GACA,OAAO7oB,GAAE7N,MAAMmW,MACvB,CAKI,iBAAI8f,GACA,OAAOpoB,GAAE7N,MAAMi2B,aACvB,CAMI,YAAAU,GACI,MAAMV,EAAgBpoB,GAAE7N,MAAMi2B,cAC9B,OAAIA,EACO,CAACA,GAEL,EACf,CAII,QAAIT,GACA,OAAOA,EACf,CAII,mBAAIC,GACA,OAAOA,EACf,CAII,aAAIC,GACA,OAAOA,EACf,CAII,kBAAIC,GACA,OAAOA,EACf,CAKI,cAAIiB,GACA,OAAO/oB,GAAE7N,MAAMs2B,aAAe,EAAI,CAC1C,CAMI,eAAAO,GACIhpB,GAAE7N,MAAMk2B,qBAAsB,CACtC,CAMI,gBAAIY,GACA,OAAOjpB,GAAE7N,MAAMk2B,mBACvB,CAMI,gBAAIY,CAAar4B,GACTA,EACAoP,GAAE7N,MAAMk2B,qBAAsB,EAG9BlB,GAA+Bhd,MAE3C,CAKI,wBAAA+e,GACI,MAAMtnB,EAAO5B,GAAE7N,MACfyP,EAAKymB,oBAAsBzmB,EAAK0mB,8BAA+B,CACvE,CAKI,WAAIL,GACA,OAAOjoB,GAAE7N,MAAM81B,OACvB,CAKI,cAAIC,GACA,OAAOloB,GAAE7N,MAAM+1B,UACvB,CAMI,eAAIiB,GACA,OAAQnpB,GAAE7N,MAAMo2B,YACxB,CAMI,eAAIY,CAAYv4B,GACPA,EAIDw2B,GAA+Bjd,OAH/Bif,GAAcppB,GAAE7N,MAK5B,CAKI,cAAAk3B,GACID,GAAcppB,GAAE7N,MACxB,CAKI,oBAAIm3B,GACA,OAAOtpB,GAAE7N,MAAMo2B,YACvB,CAII,YAAIJ,GACA,OAAOnoB,GAAE7N,MAAMg2B,QACvB,CAKI,aAAIoB,GACA,OAAO,CACf,CAII,aAAIb,GACA,OAAO1oB,GAAE7N,MAAMu2B,SACvB,CAII,SAAAc,CAAUxuB,EAAMitB,GAAU,EAAOC,GAAa,GAC1C,MAAMtmB,EAAO5B,GAAE7N,MACXyP,EAAK6mB,aACLvB,GAAmC/c,OAGvC6d,GAAgB3yB,IAAIlD,KAAM,IACnByP,EACH5G,KAAMC,OAAOD,GACbitB,QAASxtB,QAAQwtB,GACjBC,WAAYztB,QAAQytB,GACpB5f,OAAQ,KACR8f,cAAe,KACfC,qBAAqB,EACrBC,8BAA8B,EAC9BC,cAAc,GAE1B,EAKA,MAAMZ,GAAO,EACPC,GAAkB,EAClBC,GAAY,EACZC,GAAiB,EAIjBE,GAAkB,IAAIn0B,QAO5B,SAASmM,GAAE8L,EAAOtK,EAAO,QACrB,MAAMioB,EAAOzB,GAAgBt0B,IAAIoY,GAEjC,OADA2a,GAAmB,MAARgD,EAAc,iFAAkFjoB,EAAMsK,GAC1G2d,CACX,CAKA,SAASL,GAAcxnB,GACfA,EAAK4mB,sBACLlB,GAA0Bnd,OAGzBvI,EAAKsmB,WAIVtmB,EAAK2mB,cAAe,EAHhBlB,GAA8Bld,MAItC,CAEA3Y,OAAO8E,eAAeoxB,GAAO,OAAQ,CAAElxB,YAAY,IACnDhF,OAAO8E,eAAeoxB,GAAO,kBAAmB,CAAElxB,YAAY,IAC9DhF,OAAO8E,eAAeoxB,GAAO,YAAa,CAAElxB,YAAY,IACxDhF,OAAO8E,eAAeoxB,GAAO,iBAAkB,CAAElxB,YAAY,IAC7D,MAAMmF,GAAOnK,OAAO2I,oBAAoButB,GAAMh2B,WAC9C,IAAK,IAAI0C,EAAI,EAAGA,EAAIuH,GAAKjL,SAAU0D,EACf,gBAAZuH,GAAKvH,IAGT5C,OAAO8E,eAAeoxB,GAAMh2B,UAAWiK,GAAKvH,GAAI,CAAEoC,YAAY,IA4ClE,IAAIjC,QAzCkB,IAAXsyB,SAAkD,IAAjBA,GAAOa,OAC/Cl2B,OAAOiB,eAAei1B,GAAMh2B,UAAWm1B,GAAOa,MAAMh2B,WAyCxD,MAAMg4B,GAAe,CACjBC,eAAgB,EAChBC,mBAAoB,EACpBC,sBAAuB,EACvBC,mBAAoB,EACpBC,sBAAuB,EACvBC,oBAAqB,EACrBC,4BAA6B,EAC7BC,cAAe,EACfC,kBAAmB,EACnBC,oBAAqB,GACrBC,kBAAmB,GACnBC,WAAY,GACZC,yBAA0B,GAC1BC,cAAe,GACfC,mBAAoB,GACpBC,eAAgB,GAChBC,kBAAmB,GACnBC,aAAc,GACdC,YAAa,GACbC,UAAW,GACXC,iBAAkB,GAClBC,mBAAoB,GACpBC,YAAa,GACbC,sBAAuB,GACvBC,eAAgB,IAEpB,SAASC,GAA0BnkB,GAC/B,MAAMtL,EAAOnK,OAAOmK,KAAK+tB,IACzB,IAAK,IAAIt1B,EAAI,EAAGA,EAAIuH,EAAKjL,SAAU0D,EAAG,CAClC,MAAMqT,EAAM9L,EAAKvH,GACXxD,EAAQ84B,GAAajiB,GAC3BjW,OAAO8E,eAAe2Q,EAAKQ,EAAK,CAC5B/T,IAAG,IACQ9C,EAEX2F,cAAc,EACdC,YAAY,GAExB,CACA,CAOA,MAAM60B,WAAqB3D,GAKvB,WAAO4D,CAAKxf,GACR,OAAO,IAAKyf,GAAkBzf,GAAvB,CAA+BA,EAC9C,CACI,WAAA3V,CAAY2V,GACRhP,MAAMgP,EAAM9Q,KAAM,CACditB,QAASnc,EAAMmc,QACfC,WAAYpc,EAAMoc,WAClBC,SAAUrc,EAAMqc,WAEhBrc,EAAMmd,cACNnsB,MAAMksB,kBAENld,EAAMwd,kBACNxsB,MAAMusB,iBAEVmC,GAAkBn2B,IAAIlD,KAAM,CAAEs5B,SAAU3f,IAExC,MAAMnQ,EAAOnK,OAAOmK,KAAKmQ,GACzB,IAAK,IAAI1X,EAAI,EAAGA,EAAIuH,EAAKjL,SAAU0D,EAAG,CAClC,MAAMqT,EAAM9L,EAAKvH,GACXqT,KAAOtV,MACTX,OAAO8E,eAAenE,KAAMsV,EAAKikB,GAAyB5f,EAAOrE,GAEjF,CACA,CACI,eAAAuhB,GACIlsB,MAAMksB,kBACN,MAAMyC,SAAEA,GAAaE,GAAIx5B,MACrB,oBAAqBs5B,GACrBA,EAASzC,iBAErB,CACI,gBAAIC,GACA,OAAOnsB,MAAMmsB,YACrB,CACI,gBAAIA,CAAar4B,GACbkM,MAAMmsB,aAAer4B,EACrB,MAAM66B,SAAEA,GAAaE,GAAIx5B,MACrB,iBAAkBs5B,IAClBA,EAASxC,aAAer4B,EAEpC,CACI,wBAAAs4B,GACIpsB,MAAMosB,2BACN,MAAMuC,SAAEA,GAAaE,GAAIx5B,MACrB,6BAA8Bs5B,GAC9BA,EAASvC,0BAErB,CACI,eAAIC,GACA,OAAOrsB,MAAMqsB,WACrB,CACI,eAAIA,CAAYv4B,GACZkM,MAAMqsB,YAAcv4B,EACpB,MAAM66B,SAAEA,GAAaE,GAAIx5B,MACrB,gBAAiBs5B,IACjBA,EAAStC,YAAcv4B,EAEnC,CACI,cAAAy4B,GACIvsB,MAAMusB,iBACN,MAAMoC,SAAEA,GAAaE,GAAIx5B,MACrB,mBAAoBs5B,GACpBA,EAASpC,gBAErB,CACI,aAAIX,GACA,MAAM+C,SAAEA,GAAaE,GAAIx5B,MACzB,MAAI,cAAes5B,EACRA,EAAS/C,UAEb5rB,MAAM4rB,SACrB,EAKA,MAAM8C,GAAoB,IAAI33B,QAM9B,SAAS83B,GAAI7f,GACT,MAAM2d,EAAO+B,GAAkB93B,IAAIoY,GAEnC,OADA2a,GAAmB,MAARgD,EAAc,8CAA+C3d,GACjE2d,CACX,CAMA,MAAMmC,GAAoB,IAAI/3B,QAU9B,SAAS03B,GAAkBM,GACvB,MAAMn6B,EAAYF,OAAO2F,eAAe00B,GACxC,GAAiB,MAAbn6B,EACA,OAAO25B,GAEX,IAAIS,EAAUF,GAAkBl4B,IAAIhC,GAKpC,OAJe,MAAXo6B,IACAA,EAUR,SAAuBC,EAAkBC,GACrC,MAAMC,UAA2BF,GAEjC,MAAMpwB,EAAOnK,OAAOmK,KAAKqwB,GACzB,IAAK,IAAI53B,EAAI,EAAGA,EAAIuH,EAAKjL,SAAU0D,EAC/B5C,OAAO8E,eAAe21B,EAAmBv6B,UAAWiK,EAAKvH,GAAIs3B,GAAyBM,EAAmBrwB,EAAKvH,KAElH,OAAO63B,CACX,CAlBkBC,CAAcX,GAAkB75B,GAAYA,GACtDk6B,GAAkBv2B,IAAI3D,EAAWo6B,IAE9BA,CACX,CAkBA,SAASJ,GAAyBzkB,EAAKQ,GACnC,MAAMlV,EAAIf,OAAOoG,yBAAyBqP,EAAKQ,GAC/C,MAAO,CACH,GAAA/T,GACI,MAAM+3B,EAAWE,GAAIx5B,MAAMs5B,SACrB76B,EAAQ66B,EAAShkB,GACvB,MAAqB,mBAAV7W,EACAA,EAAMgxB,KAAK6J,GAEf76B,CACV,EACD,GAAAyE,CAAIzE,GACiB+6B,GAAIx5B,MAAMs5B,SAClBhkB,GAAO7W,CACnB,EACD2F,aAAchE,EAAEgE,aAChBC,WAAYjE,EAAEiE,WAEtB,CAgCA,SAAS21B,GAAUtgB,GACf,QAA8C,GAAtCA,EAASugB,MACrB,CAKA,SAASC,GAAUxgB,GACf,QAA8C,GAAtCA,EAASugB,MACrB,CAKA,SAASE,GAAOzgB,GACZ,QAA2C,GAAnCA,EAASugB,MACrB,CAKA,SAASG,GAAU1gB,GACf,QAA8C,GAAtCA,EAASugB,MACrB,CAQA,SAASI,IAAe/L,SAAEA,GAAYnY,EAAQwD,GAC1C,IAC4B,mBAAb2U,EACPA,EAASzvB,KAAKsX,EAAQwD,GAEe,mBAAzB2U,EAASrc,aACrBqc,EAASrc,YAAY0H,EAEjC,CACI,MAAO2gB,IA5sBX,SAAqBC,GACjB,IACI,MAAMhmB,EAAQgmB,aAAsBz6B,MAC9By6B,EACA,IAAIz6B,MAAM20B,GAAY8F,IAO5B,GAA6B,mBAAlBC,eACe,mBAAfC,WACPD,cAAc,IAAIC,WAAW,QAAS,CAAElmB,QAAOigB,QAASjgB,EAAMigB,gBAI7D,GAAuB,oBAAZpY,SACY,mBAAjBA,QAAQtC,KAEf,YADAsC,QAAQtC,KAAK,oBAAqBvF,GAItCD,QAAQC,MAAMA,EACtB,CACI,MAAOqgB,GAEX,CACA,CAirBQ8F,CAAYJ,EACpB,CACA,CASA,SAASK,IAAoBC,UAAEA,GAAatM,EAAU1c,GAClD,IAAK,IAAI3P,EAAI,EAAGA,EAAI24B,EAAUr8B,SAAU0D,EACpC,GAAI24B,EAAU34B,GAAGqsB,WAAaA,GAC1B0L,GAAUY,EAAU34B,MAAQ2P,EAC5B,OAAO3P,EAGf,OAAQ,CACZ,CAkCA,SAAS44B,GAAenO,EAAM4B,EAAU1c,GACpC,MAAMxC,EAAQurB,GAAoBjO,EAAM4B,EAAU1c,GAClD,OAAe,IAAXxC,GACO0rB,GAAiBpO,EAAMtd,EAGtC,CAQA,SAAS0rB,GAAiBpO,EAAMtd,EAAO2rB,GAAa,GAChD,MAAMrhB,EAAWgT,EAAKkO,UAAUxrB,GAQhC,OA5HJ,SAAoBsK,GAChBA,EAASugB,OAAS,CACtB,CAoHIe,CAAWthB,GAEPA,EAASuhB,QACTvhB,EAASuhB,OAAOlpB,oBAAoB,QAAS2H,EAASwhB,gBAGtDxO,EAAKyO,MAAQJ,GACbrO,EAAKyO,KAAM,EACXzO,EAAKkO,UAAYlO,EAAKkO,UAAUtd,QAAO,CAAC3P,EAAG1L,IAAMA,IAAMmN,KAChD,IAEXsd,EAAKkO,UAAUlgB,OAAOtL,EAAO,IACtB,EACX,CAnNAqqB,GAAkBv2B,IAAI7D,OAAOE,UAAW25B,SAClB,IAAXxE,SAAkD,IAAjBA,GAAOa,OAC/CkE,GAAkBv2B,IAAIwxB,GAAOa,MAAMh2B,UAAW25B,IA6OlD,MAAMkC,GAIF,WAAAp3B,GACIq3B,GAAkBn4B,IAAIlD,KA3BnBX,OAAOC,OAAO,MA4BzB,CAEI,gBAAA0S,CAAiBspB,EAAOC,EAAWC,GAC/B,MAAMC,EAAcC,GAAI17B,OAClBsuB,SAAEA,EAAQ1c,QAAEA,EAAOC,KAAEA,EAAIC,QAAEA,EAAOmpB,OAAEA,EAAMpyB,KAAEA,GA8F1D,SAA6BA,EAAMylB,EAAUtd,GACzC,IAAI4jB,EAEJ,GADA+G,GAAerN,GACQ,iBAAZtd,GAAoC,OAAZA,EAC/B,MAAO,CACHnI,KAAMC,OAAOD,GACbylB,SAAUA,QAA2CA,OAAW1a,EAChEhC,QAAStJ,QAAQ0I,EAAQY,SACzBE,QAASxJ,QAAQ0I,EAAQc,SACzBD,KAAMvJ,QAAQ0I,EAAQa,MACtBopB,OAAkC,QAAzBrG,EAAK5jB,EAAQiqB,cAA2B,IAAPrG,EAAgBA,OAAKhhB,GAGvE,MAAO,CACH/K,KAAMC,OAAOD,GACbylB,SAAUA,QAA2CA,OAAW1a,EAChEhC,QAAStJ,QAAQ0I,GACjBc,SAAS,EACTD,MAAM,EACNopB,YAAQrnB,EAEhB,CAnHoEgoB,CAAoBN,EAAOC,EAAWC,GAClG,GAAgB,MAAZlN,IAAqB2M,aAAuC,EAASA,EAAOY,SAC5E,OAEJ,MAAMnP,EA5Bd,SAA4B+O,EAAa5yB,GACrC,IAAI+rB,EACJ,OAAqC,QAA5BA,EAAK6G,EAAY5yB,UAA0B,IAAP+rB,EAAgBA,EAAM6G,EAAY5yB,GAAQ,CACnFizB,kBAAcloB,EACdmoB,kBAAcnoB,EACdunB,KAAK,EACLP,UAAW,GAEnB,CAoBqBoB,CAAmBP,EAAa5yB,GAEvC5G,EAAI04B,GAAoBjO,EAAM4B,EAAU1c,IACnC,IAAP3P,EAlGZ,SAAqByqB,EAAM4B,EAAU1c,EAASE,EAASD,EAAMopB,GACzD,IAAIC,EACAD,IACAC,EAAiBL,GAAepL,KAAK,KAAM/C,EAAM4B,EAAU1c,GAC3DqpB,EAAOjpB,iBAAiB,QAASkpB,IAErC,MAAMxhB,EAlGV,SAAwB4U,EAAU1c,EAASE,EAASD,EAAMopB,EAAQC,GAC9D,MAAO,CACH5M,WACA2L,OAAQroB,EAAU,EAAkB,IAC/BE,EAAU,EAAkB,IAC5BD,EAAO,EAAe,GAC3BopB,SACAC,iBAER,CAyFqBe,CAAe3N,EAAU1c,EAASE,EAASD,EAAMopB,EAAQC,GACtExO,EAAKyO,KACLzO,EAAKyO,KAAM,EACXzO,EAAKkO,UAAY,IAAIlO,EAAKkO,UAAWlhB,IAGrCgT,EAAKkO,UAAU17B,KAAKwa,EAG5B,CAwFQwiB,CAAYxP,EAAM4B,EAAU1c,EAASE,EAASD,EAAMopB,GAmJ5D,SAAuBvhB,EAAU5H,EAASD,EAAMopB,GAC5C7F,GAA2Bpd,KAAKgiB,GAAUtgB,GAAY,UAAY,SAAUA,EAAS4U,UACjF4L,GAAUxgB,KAAc5H,GACxBujB,GAAiBrd,KAAK,WAEtBmiB,GAAOzgB,KAAc7H,GACrBwjB,GAAiBrd,KAAK,QAEtB0B,EAASuhB,SAAWA,GACpB5F,GAAiBrd,KAAK,SAE9B,CAlKYmkB,CAAczP,EAAKkO,UAAU34B,GAAI6P,EAASD,EAAMopB,EAK5D,CAEI,mBAAAlpB,CAAoBupB,EAAOC,EAAWC,GAClC,MAAMC,EAAcC,GAAI17B,OAClBsuB,SAAEA,EAAQ1c,QAAEA,EAAO/I,KAAEA,GAuGnC,SAA0BA,EAAMylB,EAAUtd,GAEtC,GADA2qB,GAAerN,GACQ,iBAAZtd,GAAoC,OAAZA,EAC/B,MAAO,CACHnI,KAAMC,OAAOD,GACbylB,SAAUA,QAA2CA,OAAW1a,EAChEhC,QAAStJ,QAAQ0I,EAAQY,UAGjC,MAAO,CACH/I,KAAMC,OAAOD,GACbylB,SAAUA,QAA2CA,OAAW1a,EAChEhC,QAAStJ,QAAQ0I,GAEzB,CArH4CorB,CAAiBd,EAAOC,EAAWC,GACjE9O,EAAO+O,EAAY5yB,GACT,MAAZylB,GAAoB5B,GACpBmO,GAAenO,EAAM4B,EAAU1c,EAE3C,CAEI,aAAA4oB,CAAcn6B,GACV,MAAMqsB,EAAOgP,GAAI17B,MAAM8I,OAAOzI,EAAEwI,OAChC,GAAY,MAAR6jB,EACA,OAAO,EAEX,MAAM/S,EAAQtZ,aAAak1B,GAAQl1B,EAAI64B,GAAaC,KAAK94B,GACnDg8B,EAAYxuB,GAAE8L,EAAO,SAC3B,GAAI0iB,EAAU/F,aACV,MA9cqB9B,EA8cS,sCA7clCE,GAAOtyB,aACA,IAAIsyB,GAAOtyB,aAAaoyB,EAAS,sBAExB,MAAhBpyB,KACAA,GAAe,MAAMA,UAAqBtC,MACtC,WAAAkE,CAAYs4B,GACR3xB,MAAM2xB,GACFx8B,MAAMy8B,mBACNz8B,MAAMy8B,kBAAkBv8B,KAAMoC,EAElD,CAEY,QAAIuV,GACA,OAAO,EACvB,CAEY,QAAItI,GACA,MAAO,mBACvB,GAEQhQ,OAAOiH,iBAAiBlE,GAAa7C,UAAW,CAC5CoY,KAAM,CAAEtT,YAAY,GACpBgL,KAAM,CAAEhL,YAAY,KAExB40B,GAA0B72B,IAC1B62B,GAA0B72B,GAAa7C,YAEpC,IAAI6C,GAAaoyB,IA5B5B,IAAiCA,EAkdzB,GAFA6H,EAAU/F,cAAe,EACzB+F,EAAUlmB,OAASkmB,EAAUpG,cAAgBj2B,MACxCq8B,EAAUnG,oBAAqB,CAChC,MAAMiF,IAAEA,EAAGP,UAAEA,GAAclO,EAE3BA,EAAKyO,KAAM,EAEX,IAAK,IAAIl5B,EAAI,EAAGA,EAAI24B,EAAUr8B,SAAU0D,EAAG,CACvC,MAAMyX,EAAWkhB,EAAU34B,GAE3B,IAAIm4B,GAAU1gB,KAIVygB,GAAOzgB,IAAaohB,GAAiBpO,EAAMzqB,GAAIk5B,KAG/Cl5B,GAAK,GAGTo6B,EAAUhG,sBAAwB6D,GAAUxgB,GAC5C2gB,GAAe3gB,EAAU1Z,KAAM2Z,GAC/B0iB,EAAUhG,uBAAwB,EAE9BgG,EAAUlG,8BACV,KAEpB,CAEiBgF,IACDzO,EAAKyO,KAAM,EAE3B,CAMQ,OALAkB,EAAUlmB,OAAS,KACnBkmB,EAAUpG,cAAgB,KAC1BoG,EAAUlG,8BAA+B,EACzCkG,EAAUnG,qBAAsB,EAChCmG,EAAU/F,cAAe,GACjB+F,EAAUjG,YAC1B,EAKA,MAAMiF,GAAoB,IAAI35B,QAO9B,SAASg6B,GAAIvlB,EAAQ9G,EAAO,QACxB,MAAMioB,EAAO+D,GAAkB95B,IAAI4U,GAEnC,OADAme,GAAmB,MAARgD,EAAc,uFAAwFjoB,EAAM8G,GAChHmhB,CACX,CAkDA,SAASqE,GAAerN,GACpB,GAAwB,mBAAbA,IACc,iBAAbA,GACS,OAAbA,GACgC,mBAAzBA,EAASrc,aAHxB,CAMA,GAAgB,MAAZqc,GAAwC,iBAAbA,EAI/B,MAAM,IAAI1tB,UAAUooB,GAAOsM,GAAqBd,QAAS,CAAClG,KAHtDgH,GAAqBtd,KAAKsW,EAFlC,CAMA,CAqBA,MAAMkO,GAASn9B,OAAO2I,oBAAoBozB,GAAY77B,WACtD,IAAK,IAAI0C,EAAI,EAAGA,EAAIu6B,GAAOj+B,SAAU0D,EACf,gBAAdu6B,GAAOv6B,IAGX5C,OAAO8E,eAAei3B,GAAY77B,UAAWi9B,GAAOv6B,GAAI,CAAEoC,YAAY,SAGpD,IAAXqwB,SACuB,IAAvBA,GAAO0G,aACd/7B,OAAOiB,eAAe86B,GAAY77B,UAAWm1B,GAAO0G,YAAY77B,WCxgC7D,MAAMk9B,WAAwBrB,GASjC,WAAAp3B,CAAY04B,EAASC,EAAOC,EAAUC,EAAmBC,EAAkBC,GACvEpyB,QAEA3K,KAAKg9B,SAAWN,EAChB18B,KAAKi9B,OAASN,EACd38B,KAAKk9B,UAAYN,EACjB58B,KAAKm9B,UAAY,KACjBn9B,KAAKo9B,aAAe,KACpBp9B,KAAKq9B,mBAAqBR,EAC1B78B,KAAKs9B,kBAAoBR,EACzB98B,KAAKu9B,SAAWR,EAChB/8B,KAAKw9B,SAAW,KAGhBx9B,KAAKy9B,aAAe,GAGpBz9B,KAAK09B,eAAiB,GAGtB19B,KAAK29B,OAAQ,EAEb39B,KAAK49B,qBAAuB59B,KAAK49B,qBAAqBnO,KAAKzvB,MAC3DkE,SAAS8N,iBAAiB,mBAAoBhS,KAAK49B,qBAC3D,CAKI,KAAAC,GACI35B,SAAS6N,oBAAoB,mBAAoB/R,KAAK49B,qBAC9D,CAEI,oBAAAA,GACiD,YAA7B15B,SAAS45B,iBACR99B,KAAKm9B,UAAUY,eAC5B/9B,KAAKg+B,sBAEjB,CAEI,UAAAC,GACI,MAAMtkB,EAAQ,IAAIukB,YAAY,UAAW,CACrCC,OAAQn+B,KAAKm9B,UACbrH,SAAS,EACTE,UAAU,IAEdh2B,KAAKw6B,cAAc7gB,EAC3B,CAEI,QAAAykB,CAASL,GAEDA,GAAe/9B,KAAKi+B,YAChC,CAEI,qBAAMI,GACF/pB,QAAQuD,IAAI,qBACZ,IAAIymB,GAAY,EAEhB,IAEIA,QAAkBt+B,KAAKm9B,UAAUoB,aAAa,EACjD,CAAC,MAAOhqB,GAEL,YADAD,QAAQuD,IAAI,8BAA+BtD,EAEvD,CAEQD,QAAQ4f,OAAOoK,EAAW,mCAClC,CAEI,0BAAMN,GACF,IAAIM,EAEAE,EAAcx+B,KAAKy9B,aAAez9B,KAAK09B,eACvC19B,KAAK29B,OACLrpB,QAAQuD,IAAI,4CAA4C2mB,MAE5D,IACIF,QAAkBt+B,KAAKm9B,UAAUoB,YAAYC,EAChD,CAAC,MAAOjqB,GACLD,QAAQuD,IAAI,8BAA+BtD,EACvD,CAEYvU,KAAK29B,OAASW,GAAWhqB,QAAQuD,IAAI,2BACjD,CAEI,oBAAM4mB,GAGoB,OAAlBz+B,KAAKw9B,WACLkB,cAAc1+B,KAAKw9B,UACnBx9B,KAAKw9B,SAAW,MAEpBx9B,KAAKw9B,SAAWmB,YACZ3+B,KAAKg+B,qBAAqBvO,KAAKzvB,MACT,IAAtBA,KAAK09B,gBAGT19B,KAAKi+B,YACb,CAEI,mBAAMW,GACoB,OAAlB5+B,KAAKw9B,WACLkB,cAAc1+B,KAAKw9B,UACnBx9B,KAAKw9B,SAAW,MAGpBx9B,KAAKi+B,YACb,CAEI,WAAMY,GACF,MAAMC,SAAkBC,OAAO,qCAAgBtZ,QAE/CzlB,KAAKm9B,UAAY,IAAI2B,EAAS,CAC1BE,IAAKh/B,KAAKg9B,SACVL,MAAO38B,KAAKi9B,OACZL,SAAU58B,KAAKk9B,YAGnBl9B,KAAKm9B,UAAU8B,eAAiBj/B,KAAKq+B,gBAAgB5O,KAAKzvB,MAC1DA,KAAKm9B,UAAU+B,qBAAuBl/B,KAAKi+B,WAAWxO,KAAKzvB,MAC3DA,KAAKm9B,UAAUgC,mBAAqBn/B,KAAKi+B,WAAWxO,KAAKzvB,MACzDA,KAAKm9B,UAAUiC,aAAep/B,KAAK4+B,cAAcnP,KAAKzvB,MACtDA,KAAKm9B,UAAUkC,cAAgBr/B,KAAKy+B,eAAehP,KAAKzvB,MACxDA,KAAKm9B,UAAUmC,YAAct/B,KAAKi+B,WAAWxO,KAAKzvB,MAClDA,KAAKm9B,UAAUoC,QAAUv/B,KAAKo+B,SAAS3O,KAAKzvB,MAE5C,MAAMgR,EAAU,CACZwuB,YAAa,SACbC,WAAY,QAGZz/B,KAAK29B,QACL3sB,EAAuB,eAAI,GAG/BA,EAA0B,iBAAIhR,KAAKs9B,kBAE/Bt9B,KAAKq9B,oBACLrsB,EAAgB,OAAI,YACpBA,EAAmC,0BAlK7B,SAAU0uB,GACxB,IACI,OAAO,IAAIC,IAAID,GAAWE,IAClC,CAAM,MACE,OAAO,IAAID,IAAID,EAAWhgC,OAAOmgC,SAASD,MAAMA,IACxD,CACA,CA4JmDE,CAAU9/B,KAAKq9B,0BAlL3C,SAAU0C,EAAIj8B,GACjC,IAAIk8B,EAAU,IAAIn8B,SAAQ,CAACN,EAAS2I,KAChC,IAAI+zB,EAAKzQ,YAAW,KAChB0Q,aAAaD,GACb/zB,EAAO,gBAAkB6zB,EAAK,MAAM,GACrCA,EAAG,IAGV,OAAOl8B,QAAQs8B,KAAK,CAACr8B,EAASk8B,GAClC,CA6KkBI,CAAe,IAAMpgC,KAAKm9B,UAAU/kB,KAAKpH,IAAU2e,OAAM,KAC3Drb,QAAQuD,IAAI,mBACZ7X,KAAKi+B,YAAY,WAGfj+B,KAAKm9B,UAAU/kB,KAAKpH,EAEtC,CAEI,iBAAMqvB,GAIF,OAH0B,OAAtBrgC,KAAKo9B,eACLp9B,KAAKo9B,aAAep9B,KAAK6+B,SAEtB7+B,KAAKo9B,YACpB,CAKI,WAAAkD,GACI,MAAMV,EAAOlgC,OAAOmgC,SAASD,KAC7B,OAAOA,EAAKW,OAAO,eAAiB,GAAKX,EAAKW,OAAO,uBAAyB,CACtF,CAQI,WAAMC,CAAMxvB,SACFhR,KAAKqgC,cAGX,MAAM3jB,GADN1L,EAAUA,GAAW,CAAE,GACQ,MAAK,KAC9ByvB,EAAQzvB,EAAe,OAAK,GAE7BhR,KAAKm9B,UAAUY,qBACV/9B,KAAKm9B,UAAUqD,MAAM,CACvBE,SAAUhkB,EACVgR,OAAQhR,EACR+jB,MAAOA,EACP1D,QAAS/8B,KAAKu9B,UAG9B,CAKI,cAAMoD,SACI3gC,KAAKqgC,aACnB,CAMI,iBAAMO,GACF5gC,KAAKm9B,UAAU0D,YACvB,CAKI,YAAMC,SACI9gC,KAAKqgC,cACXrgC,KAAKm9B,UAAU2D,QACvB,EC5PO,MAAMC,GAAc1hC,OAAO2hC,OAAO,CACrCC,QAAS,UACTC,WAAY,aACZC,UAAW,YACXC,YAAa,cACbC,WAAY;;;;;GCHT,MAAMC,WAAoB1uB,GAC7B,WAAA5O,GACI2G,QACA3K,KAAKuhC,KAAO,EACpB,CAEI,qBAAWr3B,GACP,MAAO,CACHq3B,KAAM,CAAC14B,KAAMC,QAEzB,CAEI,iBAAWwB,GAEP,OAAOk3B,CAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;SAgDlB,CAEI,MAAAhvB,GACI,MAAMivB,EACY,KAAdzhC,KAAKuhC,KACCG,CAAI;0CACoB1hC,KAAKuhC;oBAE7BG,CAAI,GAEd,OAAOA,CAAI;;;;;;;;;sBASGD;;;SAItB,EC/EO,SAASE,KAEZ,OAAOH,CAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KAuKd,CC3KwBpuB,GAAoBR,IAgMZQ,GAAoBR,IC5L7C,MAAMsF,GAAS,IAVtB,MACI,SAAIK,GACA,OAAI7Y,OAAOmgC,SAAS+B,KAAK1uB,SAAS,SACvBoB,QAAQiE,MAER,MAEnB,GCJO,MAAMspB,WAA0BjvB,GACnC,WAAA5O,GACI2G,QACA3K,KAAK8hC,WAAY,EACjB9hC,KAAK+hC,gBAAiB,EACtB/hC,KAAKgiC,kBAAmB,EAExBhiC,KAAKiiC,kBAAmB,EAGxBjiC,KAAKkiC,UAAY,GACjBliC,KAAKmiC,YAAc,GAEnBniC,KAAKoiC,cAAgB,GAKrBpiC,KAAKqiC,cAAgB,CAAE,EAGvBriC,KAAKsiC,eAAiB,CAAE,EAExBpqB,GAAOK,MAAM,qBAAuBvY,KAAKuP,QAAU,kBAC3D,CAEI,WAAAgzB,CAAYlzB,GACR,OAAOrP,KAAKqiC,cAAchzB,EAClC,CAEI,0BAAAmzB,CAA2BnzB,GACvB,OAAOrP,KAAKA,KAAKyiC,iBAAiBpzB,GAC1C,CAEI,0BAAAqzB,CAA2BrzB,EAAM5Q,GAC7BuB,KAAKA,KAAKyiC,iBAAiBpzB,IAAS5Q,CAC5C,CAEI,WAAAkkC,CAAYtzB,EAAM5Q,GAEO,iBAAVA,GAAgC,OAAVA,EAE7BuB,KAAK0iC,2BAA2BrzB,EAAM5Q,GAEtCuB,KAAKqC,yBAAyBgN,EAAMrP,KAAKwiC,2BAA2BnzB,GAAO5Q,GAG/EuB,KAAKsiC,eAAejzB,GAAQ5Q,EAC5BuB,KAAKqiC,cAAchzB,GAAQ5Q,CACnC,CAEI,kBAAAmkC,CAAmBvzB,EAAM5Q,GACrB,OAAOuB,KAAKsiC,eAAejzB,KAAU5Q,CAC7C,CAEI,WAAAokC,CAAYxzB,GAER,OAAOhQ,OAAO2K,eAAenL,KAAKmB,KAAKqiC,cAAehzB,EAC9D,CAEI,iBAAA3M,GAGI,GAFAiI,MAAMjI,oBAEF1C,KAAKgiC,iBAAkB,CACThiC,KAAKmiC,YAAYhzB,MAAM,KAC/BlK,SAASyM,GAAY1R,KAAK8iC,uBAAuBpxB,KACvD1R,KAAK+hC,gBAAiB,EACtB/hC,KAAKmiC,YAAc,EAC/B,CAEQ,GAAIniC,KAAK+hC,eAAgB,CACP/hC,KAAKkiC,UAAU/yB,MAAM,KAC7BlK,SAASyM,GAAY1R,KAAK+iC,qBAAqBrxB,KACrD1R,KAAK+hC,gBAAiB,CAClC,CAEQ/hC,KAAK8hC,WAAY,EAEjB,MAAMkB,EAAOhjC,KAEbA,KAAKgS,iBACD,iBACA,SAAU3R,GACN,MAAMgP,EAAOhP,EAAE89B,OAAO9uB,MAClB2zB,EAAKH,YAAYxzB,IAAS2zB,EAAKC,gBAC/B/qB,GAAOK,MACH,6BACIyqB,EAAKzzB,QACL,6CACAF,EACA,YAER2zB,EAAKZ,cAAcljC,KAAK,CACpBmQ,KAAMA,EACNif,SAAUjuB,EAAE89B,OAAO7P,SACnB4U,OAAQ7iC,EAAE89B,OAAO+E,SAGrB7iC,EAAE89B,OAAO7P,SAAS0U,EAAKT,YAAYlzB,IACnChP,EAAEw2B,kBAET,IACD,GAGJ72B,KAAKgS,iBACD,mBACA,SAAU3R,GACN,MAAMgP,EAAOhP,EAAE89B,OAAO9uB,KAChB6zB,EAAS7iC,EAAE89B,OAAO+E,QACpBF,EAAKH,YAAYxzB,IAAS2zB,EAAKC,gBAC/B/qB,GAAOK,MACH,6BACIyqB,EAAKzzB,QACL,+CACAF,EACA,YAER2zB,EAAKZ,cAAcn9B,SAASk+B,IACxB,GAAIA,EAAKD,SAAWA,GAAUC,EAAK9zB,OAASA,EAAM,CAC9C,MAAMD,EAAQ4zB,EAAKZ,cAAc1yB,QAAQyzB,GACzCH,EAAKZ,cAAc1nB,OAAOtL,EAAO,GACjC8I,GAAOK,MACH,6BACIyqB,EAAKzzB,QACL,6BACAF,EACA,aAEpC,KAGoBhP,EAAEw2B,kBAET,IACD,GAIJ72B,KAAKgS,iBACD,oBACA,SAAU3R,GACN,MAAMgP,EAAOhP,EAAE89B,OAAO9uB,KAChB5Q,EAAQ4B,EAAE89B,OAAO1/B,OAEnBukC,EAAKH,YAAYxzB,IAAS2zB,EAAKC,gBAC/B/qB,GAAOK,MACH,6BACIyqB,EAAKzzB,QACL,gDACAF,EACA,YAER2zB,EAAKL,YAAYtzB,EAAM5Q,GAEvBukC,EAAKZ,cAAcn9B,SAASk+B,IACpBA,EAAK9zB,OAASA,GACd8zB,EAAK7U,SAAS7vB,EAC1C,IAGoB4B,EAAEw2B,kBAET,IACD,GAyCJ,GANiB,IAAIuM,kBA5BJ,SAAUC,EAAeppB,GAEtC,IAAK,MAAMqpB,KAAYD,EACnB,GAAsB,eAAlBC,EAASz6B,KAAuB,CAChC,MAAMwG,EAAOi0B,EAASC,cAChB9kC,EAAQukC,EAAKp+B,aAAayK,GAE5B2zB,EAAKJ,mBAAmBvzB,EAAM5Q,KAC9ByZ,GAAOK,MACH,8BACIyqB,EAAKzzB,QACL,yBACAF,EACA,aAER2zB,EAAKL,YAAYtzB,EAAM5Q,GAEvBukC,EAAKZ,cAAcn9B,SAASk+B,IACpBA,EAAK9zB,OAASA,GACd8zB,EAAK7U,SAAS7vB,EAC9C,IAGA,CAES,IAMQ+kC,QAAQxjC,KAlCF,CAACyjC,YAAY,EAAMC,WAAW,EAAOC,SAAS,IAqCzD3jC,KAAKgP,gBAAiB,CACtB,MAAM40B,EAAQ5jC,KAAKyjC,WACnB,IAAK,IAAIxhC,EAAI2hC,EAAMrlC,OAAS,EAAG0D,GAAK,EAAGA,IAC/B,CAAC,KAAM,QAAS,QAAS,iBAAiBiR,SAAS0wB,EAAM3hC,GAAGoN,QAIhErP,KAAK2iC,YAAYiB,EAAM3hC,GAAGoN,KAAMu0B,EAAM3hC,GAAGxD,OACzCyZ,GAAOK,MACH,8BACIyqB,EAAKzzB,QACL,sBACAq0B,EAAM3hC,GAAGoN,KACT,QACAu0B,EAAM3hC,GAAGxD,MACT,KAGxB,CACA,CAEI,oBAAAkE,GACkB3C,KAAKkiC,UAAU/yB,MAAM,KAC7BlK,SAASyM,GAAY1R,KAAK8iC,uBAAuBpxB,KAEvD/G,MAAMhI,sBACd,CAEI,oBAAAogC,CAAqBrxB,GACjBwG,GAAOK,MACH,qBAAuBvY,KAAKuP,QAAU,2BAA6BmC,EAAU,MAEjF,MAAMmyB,EAAOnyB,EAAQ8Y,OAAOrb,MAAM,KAC5B20B,EAAQD,EAAK,GACbjkC,EAASikC,EAAK,IAAMC,EACpBd,EAAOhjC,KACP2Z,EAAQ,IAAIukB,YAAY,gBAAiB,CAC3CpI,SAAS,EACTE,UAAU,EACVmI,OAAQ,CACJ9uB,KAAMzP,EACN0uB,SAAW7vB,SAIOmV,IAAVnV,IAIJyZ,GAAOK,MACH,qBACIyqB,EAAKzzB,QACL,kBACA3P,EACA,OACAkkC,EACA,MACArlC,GAIa,iBAAVA,GAAgC,OAAVA,EAE7BukC,EAAKN,2BAA2BoB,EAAOrlC,IAGvCukC,EAAK3gC,yBACDyhC,EACAd,EAAKR,2BAA2BsB,GAChCrlC,GAI6B,OAA7BukC,EAAKp+B,aAAak/B,KAElBxvB,QAAQ0D,KACJ,uBACI8rB,EACA,kCACAd,EAAKzzB,QACL,6BAIJyzB,EAAKf,kBACLe,EAAKz+B,aAAau/B,EAAOrlC,KAGzD,EAEgBykC,OAAQljC,QAGhBA,KAAKw6B,cAAc7gB,EAC3B,CAEI,sBAAAmpB,CAAuBpxB,GACnBwG,GAAOK,MACH,qBAAuBvY,KAAKuP,QAAU,6BAA+BmC,EAAU,MAEnF,MAAMmyB,EAAOnyB,EAAQ8Y,OAAOrb,MAAM,KAC5BvP,EAASikC,EAAK,IAAMA,EAAK,GACzBlqB,EAAQ,IAAIukB,YAAY,kBAAmB,CAC7CpI,SAAS,EACTE,UAAU,EACVmI,OAAQ,CACJ9uB,KAAMzP,EACNsjC,OAAQljC,QAGhBA,KAAKw6B,cAAc7gB,EAC3B,CAEI,qBAAWzP,GACP,MAAO,IACAS,MAAMT,WACTg4B,UAAW,CAACr5B,KAAMC,QAClBq5B,YAAa,CAACt5B,KAAMC,QACpBm6B,aAAc,CAACp6B,KAAMP,QAASM,UAAW,iBAErD,CAEI,gBAAA65B,CAAiBc,GACb,IAAIQ,EAAaR,EACjB,MAAMr5B,EAAalK,KAAKgE,YAAYkG,WAGpC,IAAK,MAAM85B,KAAgB95B,EAAY,CAGnC,GADkBA,EAAW85B,GAAcp7B,YACzB26B,EAAe,CAC7BQ,EAAaC,EACb,KAChB,CACA,CAEQ,OAAOD,CACf,CAEI,wBAAA1hC,CAAyBgN,EAAM40B,EAAUluB,GACrC,OAAQ1G,GACJ,IAAK,YAWD,GAVA6I,GAAOK,MACH,iDACIlJ,EACA,KACA40B,EACA,KACAluB,EACA,KAGJ/V,KAAKkiC,WAAaliC,KAAKkiC,UAAU3jC,OAAS,EAC1C,GAAIyB,KAAK8hC,UAAW,CACF9hC,KAAKkiC,UAAU/yB,MAAM,KAC7BlK,SAASyM,GAAY1R,KAAK8iC,uBAAuBpxB,IAC/E,MACwB1R,KAAKgiC,iBAAmBhiC,KAAKkiC,UAAU3jC,OAAS,EAChDyB,KAAKmiC,YAAcniC,KAAKkiC,UAIhC,GAAiB,OAAbnsB,EAEA,GADA/V,KAAKkiC,UAAYnsB,EACb/V,KAAK8hC,UAAW,CACF/rB,EAAS5G,MAAM,KACvBlK,SAASyM,GAAY1R,KAAK+iC,qBAAqBrxB,IAC7E,MACwB1R,KAAK+hC,eAAiBhsB,GAAYA,EAASxX,OAAS,EAG5D,MACJ,QAII,GACyB,iBAAb0lC,IAA0BA,IAAaluB,IAC7CA,GAAYkuB,GAAY50B,EAG1B,MAEJ1E,MAAMtI,yBAAyBgN,EAAM40B,EAAUluB,GAM/D,CAUI,oBAAAmuB,CAAqB70B,EAAM5Q,EAAO0lC,GAAa,GAG3C,MAAMxqB,EAAQ,IAAIukB,YAAY,mBAAoB,CAC9CpI,SAAS,EACTE,UAAU,EACVmI,OAAQ,CAAC9uB,KAAMA,EAAM5Q,MAAOA,KAOhC,OAFgBuB,KAAKokC,gBAAkBD,EAAankC,KAAKokC,cAAgBpkC,MAE1Dw6B,cAAc7gB,EACrC;;;;;GChaA,MAAMxa,GAAqB,EAAgG,MAAM8C,GAAE,WAAA+B,CAAY7E,GAAI,CAAA,QAAIoR,GAAO,OAAOvQ,KAAKqQ,KAAKE,IAAI,CAAC,IAAAP,CAAK7Q,EAAEkB,EAAE4B,GAAGjC,KAAKqkC,KAAKllC,EAAEa,KAAKqQ,KAAKhQ,EAAEL,KAAKskC,KAAKriC,CAAC,CAAC,IAAAgO,CAAK9Q,EAAEkB,GAAG,OAAOL,KAAKyM,OAAOtN,EAAEkB,EAAE,CAAC,MAAAoM,CAAOtN,EAAEkB,GAAG,OAAOL,KAAKwS,UAAUnS,EAAE;;;;;GCAvS,MAAMA,WAAUJ,GAAE,WAAA+D,CAAY/B,GAAG,GAAG0I,MAAM1I,GAAGjC,KAAKukC,GAAGplC,EAAE8C,EAAE4G,OAAOzF,GAAQ,MAAMtD,MAAME,KAAKgE,YAAYwgC,cAAc,wCAAwC,CAAC,MAAAhyB,CAAOvS,GAAG,GAAGA,IAAId,GAAG,MAAMc,EAAE,OAAOD,KAAKykC,QAAG,EAAOzkC,KAAKukC,GAAGtkC,EAAE,GAAGA,IAAIgC,EAAE,OAAOhC,EAAE,GAAG,iBAAiBA,EAAE,MAAMH,MAAME,KAAKgE,YAAYwgC,cAAc,qCAAqC,GAAGvkC,IAAID,KAAKukC,GAAG,OAAOvkC,KAAKykC,GAAGzkC,KAAKukC,GAAGtkC,EAAE,MAAMmD,EAAE,CAACnD,GAAG,OAAOmD,EAAEshC,IAAIthC,EAAEpD,KAAKykC,GAAG,CAAC32B,WAAW9N,KAAKgE,YAAY2gC,WAAW52B,QAAQ3K,EAAE4K,OAAO,GAAG,EAAE3N,GAAEmkC,cAAc,aAAankC,GAAEskC,WAAW,EAAE,MAAM3iC,GDA7b7C,IAAG,IAAIkB,KAAC,CAAKyP,gBAAgB3Q,EAAE6O,OAAO3N,ICAyZjB,CAAEiB,ICJlhB,IAAIukC,GAAqBllC,OAAOw+B,YAmBhC,SAAS2G,GAAkB1uB,EAAQwD,GACjC,IAAImrB,EAAQ,KAAOnrB,EAAM9Q,KAAK3G,cAI9B,MAH6B,mBAAlBiU,EAAO2uB,IAChB3uB,EAAO2uB,GAAOnrB,GAETxD,EAAOqkB,cAAc7gB,EAC9B,CAmCA,SAASorB,GAAkBv2B,GACzB,KAAOA,GAAI,CACT,GAAqB,WAAjBA,EAAGw2B,UACL,SAGAx2B,EADEA,EAAG41B,cACA51B,EAAG41B,cACC51B,EAAG8B,WACP9B,EAAG8B,WAAW4B,KAEd,IAEX,CACE,OAAO,IACT,CASA,SAAS+yB,GAASz2B,GAEhB,KAAOA,GAAMA,EAAG7C,YAAc6C,EAAG7C,WAAWu5B,eAC1C12B,EAAKA,EAAG7C,WAAWu5B,cAGjB12B,GAAMA,EAAG22B,MAAQ32B,IAAOtK,SAASkhC,MACnC52B,EAAG22B,MAEP,CAOA,SAASE,GAAWC,EAAUC,GAC5B,IAAK,IAAItjC,EAAI,EAAGA,EAAIqjC,EAAS/mC,SAAU0D,EACrC,GAAIqjC,EAASrjC,KAAOsjC,EAClB,OAAO,EAGX,OAAO,CACT,CAMA,SAASC,GAAmBh3B,GAC1B,SAAKA,IAAOA,EAAGtJ,aAAa,YAGuB,WAA5CsJ,EAAG5J,aAAa,UAAU1C,aACnC,CAMA,SAASujC,GAA2BC,GAGlC,IACIC,EADO,CAAC,SAAU,QAAS,SAAU,SAAU,YAClCj+B,KAAI,SAAS8G,GAC5B,OAAOA,EAAK,kBAChB,IAEEm3B,EAAMzmC,KAAK,iDACX,IAAIiX,EAASuvB,EAAYE,cAAcD,EAAMnxB,KAAK,OAElD,IAAK2B,GAAU,iBAAkB9Q,QAAQ9F,UAKvC,IADA,IAAIsmC,EAAQH,EAAYI,iBAAiB,KAChC7jC,EAAI,EAAGA,EAAI4jC,EAAMtnC,UACpBsnC,EAAM5jC,GAAGsN,SAAWs2B,EAAM5jC,GAAG0J,aAC/BwK,EAASsvB,GAA2BI,EAAM5jC,GAAG0J,cAFf1J,KASpC,OAAOkU,CACT,CAOA,SAAShR,GAAYuM,GACnB,OAAOA,EAAQvM,aAAejB,SAASkhC,KAAKW,SAASr0B,EACvD,CAMA,SAASs0B,GAAkBrsB,GACzB,GAAIA,EAAMssB,UACR,OAAOtsB,EAAMssB,UAGf,IAAIC,EAAOvsB,EAAMxD,OACjB,KAAM+vB,aAAgBr/B,iBACpB,OAAO,KAGT,IAAIo/B,EAAYE,GAAeC,cAC/B,IAAKH,EAAW,CACd,IAAI9vB,EAASwD,EAAMxD,OAEnB8vB,GADY,gBAAiB9vB,GAAUA,EAAOlS,eAAiBC,UAC9CghC,aACrB,CAEE,OAAKe,GAAaA,EAAUC,OAASA,EAG9BD,EAFE,IAGX,CAKA,SAASI,GAAkB1sB,GACzB,IAAIA,EAAMwd,iBAAV,CAGA,IAAI+O,EAAwCvsB,EAAY,OAGpDlb,EAAQ0nC,GAAeG,iBACvBL,EAAYD,GAAkBrsB,GACpB,OAAVlb,GAAkBwnC,IACpBxnC,EAAQwnC,EAAUxnC,OAKpB,IAAI8nC,EAASxB,GAAkBmB,GAC/B,GAAKK,EAMc,YADFN,GAAaA,EAAUrhC,aAAa,eAAiBshC,EAAKthC,aAAa,aAIxF+U,EAAMud,iBAEO,MAATz4B,EAEF8nC,EAAO1I,MAAMp/B,GAEb8nC,EAAO1I,QA5BX,CA8BA,CAMA,SAAS2I,GAAmBD,GAoB1B,GAnBAvmC,KAAKymC,QAAUF,EACfvmC,KAAK0mC,mBAAoB,EACzB1mC,KAAK2mC,cAAe,EAGfJ,EAAOrhC,aAAa,SACvBqhC,EAAOhiC,aAAa,OAAQ,UAG9BgiC,EAAOK,KAAO5mC,KAAK4mC,KAAKnX,KAAKzvB,MAC7BumC,EAAOM,UAAY7mC,KAAK6mC,UAAUpX,KAAKzvB,MACvCumC,EAAO1I,MAAQ79B,KAAK69B,MAAMpO,KAAKzvB,MAE/BumC,EAAOv0B,iBAAiB,SAAUq0B,IAAmB,GAE/C,gBAAiBE,IACrBA,EAAOvP,YAAc,IAGnB,qBAAsBt3B,OAAQ,CACvB,IAAI0jC,iBAAiBpjC,KAAK8mC,eAAerX,KAAKzvB,OACpDwjC,QAAQ+C,EAAQ,CAAC9C,YAAY,EAAMsD,gBAAiB,CAAC,SAC5D,KAAS,CAIL,IAKI/G,EALAgH,GAAU,EACVC,EAAK,WACPD,EAAUhnC,KAAKknC,iBAAmBlnC,KAAK8mC,iBACvCE,GAAU,CAChB,EAAMvX,KAAKzvB,MAEHmnC,EAAa,SAASC,GACxB,GAAIA,EAAGjxB,SAAWowB,EAAlB,CACA,IAAIc,EAAO,iBACXL,GAAYI,EAAGv+B,KAAKy+B,OAAO,EAAGD,MAAiBA,EAC/C3nC,OAAOwgC,aAAaF,GACpBA,EAAUtgC,OAAO8vB,WAAWyX,EAAI,EAJK,CAKtC,EACD,CAAC,kBAAmB,iBAAkB,8BAA8BhiC,SAAQ,SAASoK,GACnFk3B,EAAOv0B,iBAAiB3C,EAAM83B,EACpC,GACA,CAIE9nC,OAAO8E,eAAeoiC,EAAQ,OAAQ,CACpCrjC,IAAKlD,KAAKunC,QAAQ9X,KAAKzvB,MACvBuB,IAAKglC,EAAOrhC,aAAauqB,KAAK8W,EAAQ,UAGxCvmC,KAAKwnC,UAAYtjC,SAASnD,cAAc,OACxCf,KAAKwnC,UAAUC,UAAY,WAC3BznC,KAAKwnC,UAAUx1B,iBAAiB,UAAahS,KAAK0nC,oBAAoBjY,KAAKzvB,OAC3EA,KAAKwnC,UAAUx1B,iBAAiB,YAAahS,KAAK0nC,oBAAoBjY,KAAKzvB,OAC3EA,KAAKwnC,UAAUx1B,iBAAiB,QAAahS,KAAK0nC,oBAAoBjY,KAAKzvB,MAC7E,CA7RK4kC,IAAoD,iBAAvBA,KAChCA,GAAqB,SAAqBjrB,EAAO9Y,GAC/CA,EAAIA,GAAK,CAAE,EACX,IAAIumC,EAAKljC,SAASyjC,YAAY,eAE9B,OADAP,EAAGQ,gBAAgBjuB,IAAS9Y,EAAEi1B,UAAWj1B,EAAEk1B,WAAYl1B,EAAEs9B,QAAU,MAC5DiJ,CACR,EACDxC,GAAmBrlC,UAAYG,OAAO61B,MAAMh2B,WAwR9CinC,GAAmBjnC,UAAwD,CAEzE,UAAIgnC,GACF,OAAOvmC,KAAKymC,OACb,EAODK,eAAgB,WACV9mC,KAAKymC,QAAQvhC,aAAa,SAAWC,GAAYnF,KAAKymC,UAC1DzmC,KAAKknC,gBACN,EAKDA,eAAgB,WACTlnC,KAAK2mC,eACV3mC,KAAK2mC,cAAe,EACpB3mC,KAAKymC,QAAQra,MAAMyb,OAAS,GAKxB7nC,KAAK0mC,oBACP1mC,KAAKymC,QAAQra,MAAM0b,IAAM,GACzB9nC,KAAK0mC,mBAAoB,GAI3B1mC,KAAKwnC,UAAUl3B,YAActQ,KAAKwnC,UAAUl3B,WAAWy3B,YAAY/nC,KAAKwnC,WACxErB,GAAe6B,GAAGC,aAAajoC,MAChC,EAKDunC,QAAS,SAAS9oC,GACZA,EACFuB,KAAKymC,QAAQvhC,aAAa,SAAWlF,KAAKymC,QAAQliC,aAAa,OAAQ,KAEvEvE,KAAKymC,QAAQ5hC,gBAAgB,QAC7B7E,KAAK8mC,iBAER,EAQDY,oBAAqB,SAASrnC,GAC5B,GAAKL,KAAKymC,QAAQvhC,aAAa,YAU7BlF,KAAKymC,QAAQyB,YAV6B,CAI1C,IAAIC,EAAOjkC,SAASnD,cAAc,OAClCf,KAAKymC,QAAQr1B,aAAa+2B,EAAMnoC,KAAKymC,QAAQ93B,YAC7Cw5B,EAAKC,UAAY,EACjBD,EAAKD,QACLloC,KAAKymC,QAAQsB,YAAYI,EAC/B,CAII,IAAIE,EAAkBnkC,SAASyjC,YAAY,eAC3CU,EAAgBC,eAAejoC,EAAEwI,KAAMxI,EAAEy1B,QAASz1B,EAAE01B,WAAYr2B,OAC5DW,EAAE89B,OAAQ99B,EAAEkoC,QAASloC,EAAEmoC,QAASnoC,EAAEooC,QAASpoC,EAAEqoC,QAASroC,EAAEsoC,QACxDtoC,EAAEuoC,OAAQvoC,EAAEwoC,SAAUxoC,EAAEyoC,QAASzoC,EAAE0oC,OAAQ1oC,EAAE2oC,eACjDhpC,KAAKymC,QAAQjM,cAAc6N,GAC3BhoC,EAAEw2B,iBACH,EAMDoS,OAAQ,WAEN,IAAI9yB,EAASnW,KAAKymC,QAAQb,cAAc,gCACnCzvB,GAAUnW,KAAKymC,QAAQ2B,UAAY,IACtCjyB,EAASnW,KAAKymC,SAEXtwB,IACHA,EAASsvB,GAA2BzlC,KAAKymC,UAE3CxB,GAAS/gC,SAASghC,eAClB/uB,GAAUA,EAAO+xB,OAClB,EAQDgB,aAAc,SAASC,EAASC,GAC9B,GAAID,EAAUC,EACZ,MAAM,IAAItpC,MAAM,uCAElBE,KAAKymC,QAAQra,MAAMyb,OAASsB,EAC5BnpC,KAAKwnC,UAAUpb,MAAMyb,OAASuB,CAC/B,EAKDxC,KAAM,WACC5mC,KAAKymC,QAAQ4C,OAChBrpC,KAAKunC,SAAQ,GACbvnC,KAAKipC,SAER,EAKDpC,UAAW,WACT,GAAI7mC,KAAKymC,QAAQvhC,aAAa,QAC5B,MAAM,IAAIpF,MAAM,iHAElB,IAAKqF,GAAYnF,KAAKymC,SACpB,MAAM,IAAI3mC,MAAM,8EAElB,IAAKqmC,GAAe6B,GAAGsB,WAAWtpC,MAChC,MAAM,IAAIF,MAAM,oFAlYtB,SAAgC0O,GAC9B,KAAOA,GAAMA,IAAOtK,SAASkhC,MAAM,CACjC,IAAIhiC,EAAI1D,OAAO6pC,iBAAiB/6B,GAC5Bg7B,EAAU,SAAS/kC,EAAGglC,GACxB,aAAkB71B,IAATxQ,EAAEqB,IAAoBrB,EAAEqB,KAAOglC,EACzC,EAED,GAAIrmC,EAAEsmC,QAAU,GACZF,EAAQ,SAAU,SAClBA,EAAQ,YAAa,SACrBA,EAAQ,eAAgB,WACxBA,EAAQ,SAAU,SAClBA,EAAQ,cAAe,SACJ,YAAnBpmC,EAAa,WACE,UAAfA,EAAEumC,UAC4B,UAA9BvmC,EAAEwmC,wBACJ,OAAO,EAETp7B,EAAKA,EAAG41B,aACZ,CACE,OAAO,CACT,EAgXQyF,CAAuB7pC,KAAKymC,QAAQrC,gBACtC9vB,QAAQ0D,KAAK,+LAKfhY,KAAKunC,SAAQ,GACbvnC,KAAK2mC,cAAe,EAGhBR,GAAe2D,eAAe9pC,KAAKymC,UACrCN,GAAe4D,WAAW/pC,KAAKymC,SAC/BzmC,KAAK0mC,mBAAoB,GAEzB1mC,KAAK0mC,mBAAoB,EAI3B1mC,KAAKymC,QAAQn2B,WAAWc,aAAapR,KAAKwnC,UAAWxnC,KAAKymC,QAAQ/1B,aAGlE1Q,KAAKipC,QACN,EAQDpL,MAAO,SAASmM,GACd,IAAKhqC,KAAKymC,QAAQvhC,aAAa,QAC7B,MAAM,IAAIpF,MAAM,uHAElBE,KAAKunC,SAAQ,QAGW3zB,IAApBo2B,IACFhqC,KAAKymC,QAAQzP,YAAcgT,GAI7B,IAAIC,EAAa,IAAIrF,GAAmB,QAAS,CAC/C9O,SAAS,EACTC,YAAY,IAEd8O,GAAkB7kC,KAAKymC,QAASwD,EACpC,GAIA,IAAI9D,GAAiB,CAErBA,WAA4B,SAASz0B,GACnC,IAAIw4B,EAAYhmC,SAASkhC,KAAK8E,WAAahmC,SAASimC,gBAAgBD,UAChEE,EAAWF,GAAaxqC,OAAO2qC,YAAc34B,EAAQ44B,cAAgB,EACzE54B,EAAQ0a,MAAM0b,IAAMjoC,KAAK0qC,IAAIL,EAAWE,GAAY,IACtD,EAEAjE,gCAAiD,SAASz0B,GACxD,IAAK,IAAIzP,EAAI,EAAGA,EAAIiC,SAASsmC,YAAYjsC,SAAU0D,EAAG,CACpD,IAAIoF,EAAanD,SAASsmC,YAAYvoC,GAClC6F,EAAW,KAEf,IACEA,EAAWT,EAAWS,QACvB,CAAC,MAAOzH,GAAG,CACZ,GAAKyH,EACL,IAAK,IAAI3F,EAAI,EAAGA,EAAI2F,EAASvJ,SAAU4D,EAAG,CACxC,IAAIolB,EAAOzf,EAAS3F,GAChBsoC,EAAgB,KAEpB,IACEA,EAAgBvmC,SAAS4hC,iBAAiBve,EAAKmjB,aAChD,CAAC,MAAMrqC,GAAG,CACX,GAAKoqC,GAAkBpF,GAAWoF,EAAe/4B,GAAjD,CAGA,IAAIi5B,EAASpjB,EAAK6E,MAAMwe,iBAAiB,OACrCC,EAAYtjB,EAAK6E,MAAMwe,iBAAiB,UAC5C,GAAKD,GAAqB,SAAXA,GAAuBE,GAA2B,SAAdA,EACjD,OAAO,CAJf,CAMA,CACA,CACE,OAAO,CACT,EAEA1E,eAAgC,SAASI,GAEvC,MAA+B,aADX7mC,OAAO6pC,iBAAiBhD,GAC1BoD,aAQQ,SAArBpD,EAAOna,MAAM0b,KAAuC,KAArBvB,EAAOna,MAAM0b,KACpB,SAAxBvB,EAAOna,MAAM0e,QAA6C,KAAxBvE,EAAOna,MAAM0e,UAG5C3E,GAAe4E,gCAAgCxE,GACzD,EAKAJ,oBAAqC,SAASz0B,GAK5C,IAJIhS,OAAOsrC,mBAAqBt5B,EAAQm1B,YACtCvyB,QAAQ0D,KAAK,8EACiBtG,GAEN,WAAtBA,EAAQszB,UACV,MAAM,IAAIllC,MAAM,2DAElB,IAAI0mC,GAAsD,EAC5D,EAKAL,eAAgC,SAASz0B,GAClCA,EAAQm1B,WACXV,GAAe8E,oBAAoBv5B,EAEvC,EAKAy0B,cAA+B,WAE7BnmC,KAAKkrC,mBAAqB,GAE1B,IAAIC,EAAWnrC,KAAKorC,UAAU3b,KAAKzvB,MAOnCA,KAAKqrC,QAAUnnC,SAASnD,cAAc,OACtCf,KAAKqrC,QAAQ5D,UAAY,kBACzBznC,KAAKqrC,QAAQr5B,iBAAiB,QAAS,SAAS3R,GAC9CL,KAAKsrC,iBAAc13B,EACnBvT,EAAEw2B,kBACFsU,EAAS,GACb,EAAI1b,KAAKzvB,OAEPA,KAAKurC,WAAavrC,KAAKurC,WAAW9b,KAAKzvB,MACvCA,KAAKwrC,aAAexrC,KAAKwrC,aAAa/b,KAAKzvB,MAE3CA,KAAKyrC,WAAa,IAClBzrC,KAAK0rC,YAAc,OAEnB1rC,KAAKsrC,iBAAc13B,EAEf,qBAAsBlU,SACxBM,KAAK2rC,IAAM,IAAIvI,kBAAiB,SAASwI,GACvC,IAAI5E,EAAU,GACd4E,EAAQ3mC,SAAQ,SAAS4mC,GACvB,IAAK,IAAWvtC,EAAP2D,EAAI,EAAM3D,EAAIutC,EAAIC,aAAa7pC,KAAMA,EACtC3D,aAAa+G,UAEQ,WAAhB/G,EAAE0mC,WACXgC,EAAQ9nC,KAAKZ,GAEf0oC,EAAUA,EAAQ/gC,OAAO3H,EAAEwnC,iBAAiB,WAEtD,IACMkB,EAAQzoC,QAAU4sC,EAASnE,EACjC,IAEA,GAsKA,GAhKAb,GAAe4F,cAAcxsC,UAAUysC,cAAgB,WACrD9nC,SAASimC,gBAAgBn4B,iBAAiB,QAAShS,KAAKwrC,cAAc,GACtEtnC,SAAS8N,iBAAiB,UAAWhS,KAAKurC,YAC1CvrC,KAAK2rC,KAAO3rC,KAAK2rC,IAAInI,QAAQt/B,SAAU,CAACw/B,WAAW,EAAMC,SAAS,GACpE,EAMAwC,GAAe4F,cAAcxsC,UAAU0sC,gBAAkB,WACvD/nC,SAASimC,gBAAgBp4B,oBAAoB,QAAS/R,KAAKwrC,cAAc,GACzEtnC,SAAS6N,oBAAoB,UAAW/R,KAAKurC,YAC7CvrC,KAAK2rC,KAAO3rC,KAAK2rC,IAAIO,YACvB,EAKA/F,GAAe4F,cAAcxsC,UAAU4sC,eAAiB,WAGtD,IAFA,IAEgBC,EAFZvE,EAAS7nC,KAAK0rC,YAETzpC,EAAI,EAAQmqC,EAAMpsC,KAAKkrC,mBAAmBjpC,KAAMA,EACvDmqC,EAAIlD,eAAerB,IAAUA,GACnB,IAAN5lC,IACFjC,KAAKqrC,QAAQjf,MAAMyb,SAAWA,GAKlC,IAAI7xB,EAAOhW,KAAKkrC,mBAAmB,GAC/Bl1B,GACMA,EAAKuwB,OAAOj2B,YAAcpM,SAASkhC,MACzCv9B,YAAY7H,KAAKqrC,SACVrrC,KAAKqrC,QAAQ/6B,YACtBtQ,KAAKqrC,QAAQ/6B,WAAWy3B,YAAY/nC,KAAKqrC,QAE7C,EAMAlF,GAAe4F,cAAcxsC,UAAU8sC,sBAAwB,SAASC,GACtE,KAAOA,EAAYvH,GAAkBuH,IAAY,CAC/C,IAAK,IAAWF,EAAPnqC,EAAI,EAAQmqC,EAAMpsC,KAAKkrC,mBAAmBjpC,KAAMA,EACvD,GAAImqC,EAAI7F,SAAW+F,EACjB,OAAa,IAANrqC,EAGXqqC,EAAYA,EAAUlI,aAC1B,CACE,OAAO,CACT,EAEA+B,GAAe4F,cAAcxsC,UAAUisC,aAAe,SAAS7xB,GAC7D,IAAIxD,EAASwD,EAAMgd,aAAehd,EAAMgd,eAAe,GAAKhd,EAAMxD,OAElE,IAAInW,KAAKqsC,sBAAsBl2B,IAE3BjS,SAASghC,gBAAkBhhC,SAASimC,kBAExCxwB,EAAMud,iBACNvd,EAAMkd,kBACNoO,GAAiC,QAERrxB,IAArB5T,KAAKsrC,aAAT,CAEA,IAAIc,EAAMpsC,KAAKkrC,mBAAmB,GAalC,OAZakB,EAAI7F,OACKgG,wBAAwBp2B,GAC/Bq2B,KAAKC,8BACdzsC,KAAKsrC,YAEPc,EAAInD,SACK9yB,IAAWjS,SAASimC,iBAE7BjmC,SAASimC,gBAAgBjC,UAItB,CAfwC,CAgBjD,EAEA/B,GAAe4F,cAAcxsC,UAAUgsC,WAAa,SAAS5xB,GAE3D,GADA3Z,KAAKsrC,iBAAc13B,EACG,KAAlB+F,EAAM+yB,QAAgB,CACxB/yB,EAAMud,iBACNvd,EAAMkd,kBACN,IAAI8V,EAAc,IAAI/H,GAAmB,SAAU,CACjD9O,SAAS,EACTC,YAAY,IAEVqW,EAAMpsC,KAAKkrC,mBAAmB,GAC9BkB,GAAOvH,GAAkBuH,EAAI7F,OAAQoG,IACvCP,EAAI7F,OAAO1I,OAEjB,MAA+B,IAAlBlkB,EAAM+yB,UACf1sC,KAAKsrC,aAAe3xB,EAAMkvB,SAE9B,EAQA1C,GAAe4F,cAAcxsC,UAAU6rC,UAAY,SAASpE,GAI9ChnC,KAAKkrC,mBAAmB19B,QAC9BvI,SAAQ,SAASmnC,IACgB,IAAjCpF,EAAQt3B,QAAQ08B,EAAI7F,QACtB6F,EAAIlF,iBAEJkF,EAAItF,gBAEV,GACA,EAMAX,GAAe4F,cAAcxsC,UAAU+pC,WAAa,SAAS8C,GAC3D,IAAIQ,GAAW5sC,KAAK0rC,YAAc1rC,KAAKyrC,YAAc,EAAI,EACzD,QAAIzrC,KAAKkrC,mBAAmB3sC,QAAUquC,KAGO,IAAzC5sC,KAAKkrC,mBAAmBxgC,QAAQ0hC,IAClCpsC,KAAKgsC,gBAEPhsC,KAAKmsC,kBACE,EACT,EAKAhG,GAAe4F,cAAcxsC,UAAU0oC,aAAe,SAASmE,GAC7D,IAAIh9B,EAAQpP,KAAKkrC,mBAAmBx7B,QAAQ08B,IAC7B,IAAXh9B,IAEJpP,KAAKkrC,mBAAmBxwB,OAAOtL,EAAO,GACC,IAAnCpP,KAAKkrC,mBAAmB3sC,QAC1ByB,KAAKisC,kBAEPjsC,KAAKmsC,iBACP,EAEAhG,GAAe6B,GAAK,IAAI7B,GAAe4F,cACvC5F,GAAeC,cAAgB,KAC/BD,GAAeG,iBAAmB,UAMD1yB,IAA7BlU,OAAOsrC,kBAAiC,CAM1C,IAAI6B,GAAW3oC,SAASnD,cAAc,QAEtC,GADA8rC,GAAStoC,aAAa,SAAU,UACR,WAApBsoC,GAASC,OAAqB,CAChC,IAAIC,GAAmB1tC,OAAOoG,yBAAyBoB,gBAAgBtH,UAAW,UAClF,GAAIwtC,GAAkB,CAGpB,IAAIC,GAAUD,GAAiBxrC,IAC/BwrC,GAAiBxrC,IAAM,WACrB,OAAIikC,GAAmBxlC,MACd,SAEFgtC,GAAQnuC,KAAKmB,KACrB,EACD,IAAIitC,GAAUF,GAAiB7pC,IAE/B6pC,GAAiB7pC,IAAM,SAASwK,GAC9B,MAAiB,iBAANA,GAAsC,WAApBA,EAAExL,cACtBlC,KAAKuE,aAAa,SAAUmJ,GAE9Bu/B,GAAQpuC,KAAKmB,KAAM0N,EAC3B,EACDrO,OAAO8E,eAAe0C,gBAAgBtH,UAAW,SAAUwtC,GACjE,CACA,CAOE7oC,SAAS8N,iBAAiB,SAAS,SAASo1B,GAG1C,GAFAjB,GAAeC,cAAgB,KAC/BD,GAAeG,iBAAmB,MAC9Bc,EAAGjQ,iBAAP,CAEA,IAAIhhB,EAAiCixB,EAAS,OAC9C,GAAI,iBAAkBA,EAEpBjxB,EADWixB,EAAGzQ,eACAvf,SAAWjB,EAE3B,GAAKA,GAAWqvB,GAAmBrvB,EAAO+vB,MAA1C,CAGA,KAD6B,WAAhB/vB,EAAOtN,MAAqB,CAAC,SAAU,SAAS6G,QAAQyG,EAAO6uB,YAAc,GAC9E,CACV,GAA2B,UAArB7uB,EAAO6uB,WAAyC,UAAhB7uB,EAAOtN,KAAqB,OAElEs9B,GAAeG,iBAAmBc,EAAG8F,QAAU,IAAM9F,EAAG+F,OAC9D,CAEiBpI,GAAkB5uB,KAG/BgwB,GAAeC,cAAgBjwB,EAZ2B,CAPtB,CAqBrC,IAAE,GAMHjS,SAAS8N,iBAAiB,UAAU,SAASo1B,GAC3C,IAAIlB,EAAOkB,EAAGjxB,OAEd,IADa4uB,GAAkBmB,GAC/B,CAIA,IAAID,EAAYD,GAAkBoB,GAEf,YADFnB,GAAaA,EAAUrhC,aAAa,eAAiBshC,EAAKthC,aAAa,YAEtFwiC,EAAGlQ,gBALT,CAOA,IAME,IAAIkW,GAAmBvmC,gBAAgBtH,UAAU8tC,OAQjDxmC,gBAAgBtH,UAAU8tC,OAPE,WAC1B,IAAK7H,GAAmBxlC,MACtB,OAAOotC,GAAiBvuC,KAAKmB,MAE/B,IAAIumC,EAASxB,GAAkB/kC,MAC/BumC,GAAUA,EAAO1I,OAClB,CAEH,CCt0BO,MAAMyP,WAAqBzL,GAC9B,WAAA79B,GACI2G,QACA3K,KAAKutC,YAAa,EAClBvtC,KAAKwtC,MAAQ,GACbxtC,KAAKytC,QAAU,GACfztC,KAAKqP,KAAO,GACZrP,KAAK2gC,UAAW,EAChB3gC,KAAK0tC,cAAgB,GACrB1tC,KAAK2tC,MAAQ,KACb3tC,KAAK4tC,QAAU,GACf5tC,KAAK6tC,gBAAiB,EACtB7tC,KAAK8tC,aAAe/M,GAAYE,QAChCjhC,KAAK+tC,qBAAuBhN,GAAYE,QACxCjhC,KAAKguC,MAAQxa,KACbxzB,KAAKiuC,KAAOjuC,KAAKguC,MAAMtxB,SAGvB1c,KAAKkuC,YAAc,KACnBluC,KAAK28B,MAAQ,KACb38B,KAAK48B,SAAW,KAChB58B,KAAKmuC,0BAA4B,KACjCnuC,KAAKouC,oBAAqB,EAC1BpuC,KAAKygC,MAAQ,KACbzgC,KAAK+8B,QAAU,GAEf/8B,KAAKquC,aAAeruC,KAAKquC,aAAa5e,KAAKzvB,MAGvCN,OAAO4uC,YACPtuC,KAAKuE,aAAa,cAAe,oBAE7C,CAEI,MAAAkI,CAAO8hC,GAEHA,EAAkBtpC,SAAQ,CAACg/B,EAAUuK,KACjC,OAAQA,GACJ,IAAK,OACDxuC,KAAKguC,MAAMvxB,eAAezc,KAAKiuC,MAC/B,MACJ,IAAK,uBAED,OADA35B,QAAQuD,IAAI,iCAAkC7X,KAAK+tC,sBAC3C/tC,KAAK+tC,sBACT,KAAKhN,GAAYI,UACbnhC,KAAKyuC,WAAWjO,MAAM,CAACyN,KAAMjuC,KAAKiuC,KAAMxN,MAAOzgC,KAAKygC,OAAS,KAC7D,MACJ,KAAKM,GAAYM,WAGTrhC,KAAK8tC,eAAiB/M,GAAYI,WAClCnhC,KAAK0uC,gBAAgB3N,GAAYK,aAErCphC,KAAKyuC,WAAW3N,SAGZ9gC,KAAK8tC,eAAiB/M,GAAYK,aAClCphC,KAAK0uC,gBAAgB3N,GAAYI,YAKjE,IAGQx2B,MAAM8B,OAAO8hC,EACrB,CAEI,gBAAMI,CAAWC,GACb,MAAMC,GC3EcnS,ED2EO18B,KAAK0tC,cC3EHoB,ED2EkB,mBAAmBC,mBAAmBH,KC1EpFlS,EAAQxtB,SAAS,OAClBwtB,GAAW,KAER,IAAIiD,IAAImP,EAASv5B,QAAQ,OAAQ,IAAKmnB,GAASkD,MAJ/B,IAAClD,EAASoS,ED6E7B,IAAIE,QAAiBC,MAAMJ,EAAQ,CAC/BK,QAAS,CACLC,cAAe,UAAYnvC,KAAKwtC,SAGxC,IAAKwB,EAASvF,GACV,MAAMuF,EAMV,MAHgB,CACZI,aAFaJ,EAASK,QAEH,OAAK,GAGpC,CAEI,kBAAMhB,CAAa10B,GACf,MAAM21B,EAAK31B,EAAMwkB,OAGjB,GADAn+B,KAAK6tC,eAAiByB,EAAGvR,cACrBuR,EAAGvR,cAAe,CAClB,IAAIwR,EAAevvC,KAAKwtC,QAAU8B,EAAG9B,MACrCxtC,KAAKqP,KAAOigC,EAAGE,cAAcngC,KAC7BrP,KAAKwtC,MAAQ8B,EAAG9B,MAEhBxtC,KAAKytC,QAAU6B,EAAG7B,QAClB,MAAMmB,EAASU,EAAGE,cAAcC,mBAChC,IAAIC,EAAcd,IAAW5uC,KAAK4tC,QAClC,GAAI8B,EAAa,CAEb,IAAIC,EADJ3vC,KAAK4tC,QAAUgB,EAEf,IACIe,QAAa3vC,KAAK2uC,WAAWC,EAChC,CAAC,MAAOr6B,GAILD,QAAQC,MAAMA,GACdo7B,EAAO,CAACP,MAAO,GACnC,CACoBR,IAAW5uC,KAAK4tC,UAChB5tC,KAAK2tC,MAAQgC,EAEjC,CAC+B,OAAf3vC,KAAK2tC,OACL3tC,KAAK0uC,gBAAgB3N,GAAYI,UAAWoO,GAAgBG,EAE5E,MACgB1vC,KAAK8tC,eAAiB/M,GAAYI,WAClCnhC,KAAK0uC,gBAAgB3N,GAAYK,aAErCphC,KAAKqP,KAAO,GACZrP,KAAKwtC,MAAQ,GACbxtC,KAAKytC,QAAU,GACfztC,KAAK4tC,QAAU,GACf5tC,KAAK2tC,MAAQ,KAEb3tC,KAAK0uC,gBAAgB3N,GAAYM,WAE7C,CAEI,qBAAAuO,GACI,MAAMC,EAAO,CACT,eAAgB7vC,KAAK8tC,aACrBL,QAASztC,KAAKytC,QACdD,MAAOxtC,KAAKwtC,MACZ,iBAAkBxtC,KAAKqP,KACvB,UAAWrP,KAAK4tC,QAEhB,YAAa5tC,KAAK4tC,QAClBkC,OAAQ9vC,KAAK2tC,QAKbjuC,OAAOqwC,SAAWrwC,OAAO4uC,cACzB5uC,OAAOswC,QAAUH,EACjBv7B,QAAQuD,IAAI,gCAGhB7X,KAAKuE,aAAa,gBAAiB,QAEnCvE,KAAKkkC,qBAAqB,OAAQ2L,EAC1C,CAEI,eAAAnB,CAAgBuB,EAAQC,IAChBlwC,KAAK8tC,eAAiBmC,GAAWC,KAErClwC,KAAK8tC,aAAemC,EACpBjwC,KAAK4vC,wBACb,CAEI,qBAAW1lC,GACP,MAAO,IACAS,MAAMT,WACT+jC,KAAM,CAACplC,KAAMC,QACbykC,WAAY,CAAC1kC,KAAMP,QAASM,UAAW,eACvC+3B,SAAU,CAAC93B,KAAMP,QAASM,UAAW,aACrC8kC,cAAe,CAAC7kC,KAAMC,OAAQF,UAAW,mBACzCyG,KAAM,CAACxG,KAAMC,OAAQF,WAAW,GAChC4kC,MAAO,CAAC3kC,KAAMC,OAAQF,WAAW,GACjC6kC,QAAS,CAAC5kC,KAAMC,OAAQF,WAAW,GACnCglC,QAAS,CAAC/kC,KAAMC,OAAQF,WAAW,GACnC+kC,MAAO,CAAC9kC,KAAMxJ,OAAQuJ,WAAW,GACjCklC,aAAc,CAACjlC,KAAMC,OAAQF,WAAW,GACxCslC,YAAa,CAACrlC,KAAMC,OAAQF,UAAW,OACvC+zB,MAAO,CAAC9zB,KAAMC,QACd8zB,SAAU,CAAC/zB,KAAMC,OAAQF,UAAW,aACpCulC,0BAA2B,CAACtlC,KAAMC,OAAQF,UAAW,iCACrD63B,MAAO,CAAC53B,KAAMC,QACdi0B,QAAS,CAACl0B,KAAMC,OAAQF,UAAW,YACnCmlC,qBAAsB,CAACllC,KAAMC,OAAQF,UAAW,0BAChDwlC,mBAAoB,CAACvlC,KAAMP,QAASM,UAAW,yBAE3D,CAEI,iBAAAlG,GAGI,GAFAiI,MAAMjI,qBAED1C,KAAKkuC,YAAa,MAAMpuC,MAAM,eACnC,IAAKE,KAAK28B,MAAO,MAAM78B,MAAM,iBAC7B,IAAKE,KAAK48B,SAAU,MAAM98B,MAAM,qBAChCE,KAAKyuC,WAAa,IAAIhS,GAClBz8B,KAAKkuC,YACLluC,KAAK28B,MACL38B,KAAK48B,SACL58B,KAAKmuC,2BACJnuC,KAAKouC,mBACNpuC,KAAK+8B,SAET/8B,KAAKyuC,WAAWz8B,iBAAiB,UAAWhS,KAAKquC,cAE7B/b,WAChB,IACQtyB,KAAKutC,YAAcvtC,KAAKyuC,WAAWnO,eACnCtgC,KAAK0uC,gBAAgB3N,GAAYG,kBAC3BlhC,KAAKyuC,WAAWjO,MAAM,CAACyN,KAAMjuC,KAAKiuC,KAAMxN,MAAOzgC,KAAKygC,OAAS,MAC5DzgC,KAAK2gC,UACZ3gC,KAAK0uC,gBAAgB3N,GAAYG,kBAC3BlhC,KAAKyuC,WAAW9N,WACjB3gC,KAAK6tC,gBACN7tC,KAAK0uC,gBAAgB3N,GAAYM,aAGrCrhC,KAAK0uC,gBAAgB3N,GAAYM,WAExC,CAAC,MAAO9sB,GAQL,MANAvU,KAAK0uC,gBAAgB3N,GAAYM,YE1NjD,SAAcrwB,GACV,MAAM2I,EAAQ,IAAIukB,YAAY,wBAAyB,CACnDpI,SAAS,EACTC,YAAY,EACZoI,OAAQntB,IAGGtR,OAAO86B,cAAc7gB,KAIhCw2B,YACyBv8B,IAApB5C,EAAQo/B,SAA6C,KAApBp/B,EAAQo/B,QACpCp/B,EAAQo/B,QAAU,KAClB,IAAMp/B,EAAQo0B,MAExB9wB,QAAQuD,IAAI,uEAEpB,CFyMgB8I,CAAK,CACDyvB,QAASpwC,KAAKguC,MAAM7uC,EAAE,gBACtB0J,KAAM,SACNm3B,QAAS,IAEPzrB,CACtB,GAGQ87B,EACR,CAEI,oBAAA1tC,GACI3C,KAAKyuC,WAAW5Q,QAChB79B,KAAKyuC,WAAW18B,oBAAoB,UAAW/R,KAAKquC,cAEpD1jC,MAAMhI,sBACd,EGxMO,MAAM2tC,WAAoBl9B,GAAoByuB,KACjD,WAAA79B,GACI2G,QACA3K,KAAKguC,MAAQxa,KACbxzB,KAAKiuC,KAAOjuC,KAAKguC,MAAMtxB,SACvB1c,KAAK6vC,KAAO,CAAE,CACtB,CAEI,yBAAWt8B,GACP,MAAO,CACH,mBAAoB+tB,GAEhC,CAEI,qBAAWp3B,GACP,MAAO,CACH+jC,KAAM,CAACplC,KAAMC,QACb+mC,KAAM,CAAChnC,KAAMxJ,QAEzB,CAEI,iBAAAqD,GACIiI,MAAMjI,mBACd,CAEI,oBAAAC,GACIgI,MAAMhI,sBACd,CAEI,eAAA4tC,CAAgBlwC,GACZL,KAAKkkC,qBAAqB,yBAA0BnD,GAAYI,WAChE9gC,EAAE62B,gBACV,CAEI,gBAAAsZ,CAAiBnwC,GACbL,KAAKkkC,qBAAqB,yBAA0BnD,GAAYM,YAChEhhC,EAAE62B,gBACV,CAEI,MAAAzqB,CAAO8hC,GACHA,EAAkBtpC,SAAQ,CAACg/B,EAAUuK,KAChB,SAAbA,GACAxuC,KAAKguC,MAAMvxB,eAAezc,KAAKiuC,KAC/C,IAGQtjC,MAAM8B,OAAO8hC,EACrB,CAEI,iBAAWjkC,GAEP,MAAO,CACHmmC,KACAjP,CAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;cA8Cf,CAEI,MAAAhvB,GACI,IAAIwhB,EAAOh0B,KAAKguC,MAChB,OAAIhuC,KAAK6vC,KAAK,kBAAoB9O,GAAYG,WAEnCQ,CAAI;;;4EAGqD1N,EAAK70B,EAAE;;;;;;cAOhEa,KAAK6vC,KAAK,kBAAoB9O,GAAYI,UAC1CO,CAAI;sCACe1hC,KAAKwwC;;+DAEoBE,GApK/C;6CAqK6B1c,EAAK70B,EAAE;;;cAKjCuiC,CAAI;sCACe1hC,KAAKuwC;;+DAEoBG,GArJhD;6CAsJ8B1c,EAAK70B,EAAE;;;aAKpD,ECnLO,MAAMwxC,WAAwBv9B,GAAoByuB,KACrD,WAAA79B,GACI2G,QACA3K,KAAK6vC,KAAO,CAAE,EACd7vC,KAAKiuC,KAAO,KACZjuC,KAAKg/B,IAAM,GACXh/B,KAAK28B,MAAQ,GACb38B,KAAK48B,SAAW,GAChB58B,KAAKmuC,0BAA4B,GACjCnuC,KAAK0tC,cAAgB,EAC7B,CAEI,yBAAWn6B,GACP,MAAO,CACL,oBAAqB+5B,GACrB,mBAAoBgD,GAE9B,CAEI,qBAAWpmC,GACP,MAAO,IACAS,MAAMT,WACT2lC,KAAM,CAAEhnC,KAAMxJ,QACd4uC,KAAM,CAAEplC,KAAMC,QACdk2B,IAAK,CAAEn2B,KAAMC,QACb6zB,MAAO,CAAE9zB,KAAMC,QACf8zB,SAAU,CAAE/zB,KAAMC,OAAQF,UAAW,aACrCulC,0BAA2B,CAAEtlC,KAAMC,OAAQF,UAAW,iCACtD8kC,cAAe,CAAE7kC,KAAMC,OAAQF,UAAW,mBAEtD,CAEI,MAAA6D,CAAO8hC,GACHA,EAAkBtpC,SAAQ,CAACg/B,EAAUuK,KACjC,GAAiB,SAAbA,EAAqB,CACrB,MAAM70B,EAAQ,IAAIukB,YAAY,2BAA4B,CAAEC,OAAUn+B,KAAK6vC,KAAM/Z,SAAS,EAAME,UAAU,IAC1Gt2B,OAAO86B,cAAc7gB,EACrC,KAGQhP,MAAM8B,OAAO8hC,EACrB,CAEI,MAAA/7B,GACI,OAAOkvB,CAAI;;uCAEoB1hC,KAAKiuC;kDACMjuC,KAAK0tC;gEACS1tC,KAAKmuC;sCAC/BnuC,KAAKg/B;wCACHh/B,KAAK28B;4CACD38B,KAAK48B;;uDAEM58B,KAAKiuC;SAE5D,ECImC,EAAC5+B,EAAMrL,EAAagN,KAEnD,GAAI5P,eAAeG,IAAI8N,KAAUrL,EAC7B,OAAO,EAGX,KAEQ,iBAAkBqB,QAAQ9F,WAC1B,gBAAiB8F,QAAQ9F,WACzBG,OAAO0B,gBAEb,CAEE,IADA,IAAIwvC,EAAW1sC,SAAS2sC,qBAAqBxhC,GACpCpN,EAAI,EAAGA,EAAI2uC,EAASryC,OAAQ0D,IACjC2uC,EAAS3uC,GAAG0N,UACR,gIAGR,OAAO,CACf,CACIvO,eAAeC,OAAOgO,EAAMrL,EAAagN,EAC9B,EDvBf8/B,CAAgC,oBAAqBH","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,26]}