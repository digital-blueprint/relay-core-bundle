{"version":3,"file":"api-platform-auth.js","sources":["../../auth/node_modules/@webcomponents/scoped-custom-element-registry/scoped-custom-element-registry.min.js","../../auth/node_modules/@lit/reactive-element/css-tag.js","../../auth/node_modules/@lit/reactive-element/reactive-element.js","../../auth/node_modules/lit-html/lit-html.js","../../auth/node_modules/lit-element/lit-element.js","../../auth/node_modules/@dbp-toolkit/common/src/mini-spinner.js","../../auth/node_modules/@open-wc/dedupe-mixin/src/dedupeMixin.js","../../auth/node_modules/@open-wc/scoped-elements/src/ScopedElementsMixin.js","../../auth/node_modules/@dbp-toolkit/common/src/styles.js","../../auth/node_modules/@dbp-toolkit/common/src/button.js","../../auth/node_modules/@dbp-toolkit/common/src/logger.js","../../auth/node_modules/@dbp-toolkit/common/src/adapter-lit-element.js","../../auth/node_modules/@dbp-toolkit/common/src/dbp-lit-element.js","../../auth/node_modules/@dbp-toolkit/common/src/internal.js","../../auth/node_modules/lit-html/directive.js","../../auth/node_modules/lit-html/directives/unsafe-html.js","../../auth/node_modules/i18next/dist/esm/i18next.js","../../auth/node_modules/@dbp-toolkit/common/src/i18next.js","../../auth/node_modules/dialog-polyfill/dist/dialog-polyfill.esm.js","../../auth/node_modules/@dbp-toolkit/common/src/modal.js","../../auth/node_modules/@dbp-toolkit/auth/src/i18n.js","../../auth/node_modules/@dbp-toolkit/auth/src/keycloak.js","../../auth/node_modules/@dbp-toolkit/auth/src/util.js","../../auth/node_modules/@dbp-toolkit/auth/src/auth-keycloak.js","../../auth/node_modules/@dbp-toolkit/common/src/utils.js","../../auth/node_modules/@dbp-toolkit/common/src/notification.js","../../auth/node_modules/@dbp-toolkit/auth/src/login-button.js","../../auth/src/api-platform-auth.js","../../auth/node_modules/@dbp-toolkit/common/src/common-utils.js"],"sourcesContent":["(function(){\n/*\n\n Copyright (c) 2020 The Polymer Project Authors. All rights reserved.\n This code may only be used under the BSD style license found at\n http://polymer.github.io/LICENSE.txt\n The complete set of authors may be found at\n http://polymer.github.io/AUTHORS.txt\n The complete set of contributors may be found at\n http://polymer.github.io/CONTRIBUTORS.txt\n Code distributed by Google as part of the polymer project is also\n subject to an additional IP rights grant found at\n http://polymer.github.io/PATENTS.txt\n*/\n'use strict';function h(b){var c=0;return function(){return c<b.length?{done:!1,value:b[c++]}:{done:!0}}}function l(b){var c=\"undefined\"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];return c?c.call(b):{next:h(b)}}function m(b){if(!(b instanceof Array)){b=l(b);for(var c,a=[];!(c=b.next()).done;)a.push(c.value);b=a}return b}var n=\"function\"==typeof Object.create?Object.create:function(b){function c(){}c.prototype=b;return new c};\nfunction p(b){b=[\"object\"==typeof globalThis&&globalThis,b,\"object\"==typeof window&&window,\"object\"==typeof self&&self,\"object\"==typeof global&&global];for(var c=0;c<b.length;++c){var a=b[c];if(a&&a.Math==Math)return a}throw Error(\"Cannot find global object\");}\nvar q=p(this),r=function(){function b(){function a(){}new a;Reflect.construct(a,[],function(){});return new a instanceof a}if(\"undefined\"!=typeof Reflect&&Reflect.construct){if(b())return Reflect.construct;var c=Reflect.construct;return function(a,d,e){a=c(a,d);e&&Reflect.setPrototypeOf(a,e.prototype);return a}}return function(a,d,e){void 0===e&&(e=a);e=n(e.prototype||Object.prototype);return Function.prototype.apply.call(a,e,d)||e}}(),t;\nif(\"function\"==typeof Object.setPrototypeOf)t=Object.setPrototypeOf;else{var u;a:{var v={a:!0},w={};try{w.__proto__=v;u=w.a;break a}catch(b){}u=!1}t=u?function(b,c){b.__proto__=c;if(b.__proto__!==c)throw new TypeError(b+\" is not extensible\");return b}:null}var x=t;\nif(!ShadowRoot.prototype.createElement){var y=window.HTMLElement,A=window.customElements.define,B=window.customElements.get,C=window.customElements,D=new WeakMap,E=new WeakMap,F=new WeakMap,G=new WeakMap;window.CustomElementRegistry=function(){this.l=new Map;this.o=new Map;this.i=new Map;this.h=new Map};window.CustomElementRegistry.prototype.define=function(b,c){b=b.toLowerCase();if(void 0!==this.j(b))throw new DOMException(\"Failed to execute 'define' on 'CustomElementRegistry': the name \\\"\"+b+'\" has already been used with this registry');\nif(void 0!==this.o.get(c))throw new DOMException(\"Failed to execute 'define' on 'CustomElementRegistry': this constructor has already been used with this registry\");var a=c.prototype.attributeChangedCallback,d=new Set(c.observedAttributes||[]);H(c,d,a);a={g:c,connectedCallback:c.prototype.connectedCallback,disconnectedCallback:c.prototype.disconnectedCallback,adoptedCallback:c.prototype.adoptedCallback,attributeChangedCallback:a,formAssociated:c.formAssociated,formAssociatedCallback:c.prototype.formAssociatedCallback,\nformDisabledCallback:c.prototype.formDisabledCallback,formResetCallback:c.prototype.formResetCallback,formStateRestoreCallback:c.prototype.formStateRestoreCallback,observedAttributes:d};this.l.set(b,a);this.o.set(c,a);d=B.call(C,b);d||(d=I(b),A.call(C,b,d));this===window.customElements&&(F.set(c,a),a.s=d);if(d=this.h.get(b)){this.h.delete(b);d=l(d);for(var e=d.next();!e.done;e=d.next())e=e.value,E.delete(e),J(e,a,!0)}a=this.i.get(b);void 0!==a&&(a.resolve(c),this.i.delete(b));return c};window.CustomElementRegistry.prototype.upgrade=\nfunction(){K.push(this);C.upgrade.apply(C,arguments);K.pop()};window.CustomElementRegistry.prototype.get=function(b){var c;return null==(c=this.l.get(b))?void 0:c.g};window.CustomElementRegistry.prototype.j=function(b){return this.l.get(b)};window.CustomElementRegistry.prototype.whenDefined=function(b){var c=this.j(b);if(void 0!==c)return Promise.resolve(c.g);var a=this.i.get(b);void 0===a&&(a={},a.promise=new Promise(function(d){return a.resolve=d}),this.i.set(b,a));return a.promise};window.CustomElementRegistry.prototype.m=\nfunction(b,c,a){var d=this.h.get(c);d||this.h.set(c,d=new Set);a?d.add(b):d.delete(b)};var L;window.HTMLElement=function(){var b=L;if(b)return L=void 0,b;var c=F.get(this.constructor);if(!c)throw new TypeError(\"Illegal constructor (custom element class must be registered with global customElements registry to be newable)\");b=Reflect.construct(y,[],c.s);Object.setPrototypeOf(b,this.constructor.prototype);D.set(b,c);return b};window.HTMLElement.prototype=y.prototype;var I=function(b){function c(){var a=\nReflect.construct(y,[],this.constructor);Object.setPrototypeOf(a,HTMLElement.prototype);a:{var d=a.getRootNode();if(!(d===document||d instanceof ShadowRoot)){d=K[K.length-1];if(d instanceof CustomElementRegistry){var e=d;break a}d=d.getRootNode();d===document||d instanceof ShadowRoot||(d=(null==(e=G.get(d))?void 0:e.getRootNode())||document)}e=d.customElements}e=e||window.customElements;(d=e.j(b))?J(a,d):E.set(a,e);return a}q.Object.defineProperty(c,\"formAssociated\",{configurable:!0,enumerable:!0,\nget:function(){return!0}});c.prototype.connectedCallback=function(){var a=D.get(this);a?a.connectedCallback&&a.connectedCallback.apply(this,arguments):E.get(this).m(this,b,!0)};c.prototype.disconnectedCallback=function(){var a=D.get(this);a?a.disconnectedCallback&&a.disconnectedCallback.apply(this,arguments):E.get(this).m(this,b,!1)};c.prototype.adoptedCallback=function(){var a,d;null==(a=D.get(this))||null==(d=a.adoptedCallback)||d.apply(this,arguments)};c.prototype.formAssociatedCallback=function(){var a=\nD.get(this);if(a&&a.formAssociated){var d;null==a||null==(d=a.formAssociatedCallback)||d.apply(this,arguments)}};c.prototype.formDisabledCallback=function(){var a=D.get(this);if(null==a?0:a.formAssociated){var d;null==a||null==(d=a.formDisabledCallback)||d.apply(this,arguments)}};c.prototype.formResetCallback=function(){var a=D.get(this);if(null==a?0:a.formAssociated){var d;null==a||null==(d=a.formResetCallback)||d.apply(this,arguments)}};c.prototype.formStateRestoreCallback=function(){var a=D.get(this);\nif(null==a?0:a.formAssociated){var d;null==a||null==(d=a.formStateRestoreCallback)||d.apply(this,arguments)}};return c},H=function(b,c,a){if(0!==c.size&&void 0!==a){var d=b.prototype.setAttribute;d&&(b.prototype.setAttribute=function(f,k){f=f.toLowerCase();if(c.has(f)){var z=this.getAttribute(f);d.call(this,f,k);a.call(this,f,z,k)}else d.call(this,f,k)});var e=b.prototype.removeAttribute;e&&(b.prototype.removeAttribute=function(f){f=f.toLowerCase();if(c.has(f)){var k=this.getAttribute(f);e.call(this,\nf);a.call(this,f,k,null)}else e.call(this,f)});var g=b.prototype.toggleAttribute;g&&(b.prototype.toggleAttribute=function(f,k){f=f.toLowerCase();if(c.has(f)){var z=this.getAttribute(f);g.call(this,f,k);k=this.getAttribute(f);a.call(this,f,z,k)}else g.call(this,f,k)})}},M=function(b){var c=Object.getPrototypeOf(b);if(c!==window.HTMLElement)return c===y?Object.setPrototypeOf(b,window.HTMLElement):M(c)},J=function(b,c,a){a=void 0===a?!1:a;Object.setPrototypeOf(b,c.g.prototype);D.set(b,c);L=b;try{new c.g}catch(d){M(c.g),\nnew c.g}c.attributeChangedCallback&&c.observedAttributes.forEach(function(d){b.hasAttribute(d)&&c.attributeChangedCallback.call(b,d,null,b.getAttribute(d))});a&&c.connectedCallback&&b.isConnected&&c.connectedCallback.call(b)},N=Element.prototype.attachShadow;Element.prototype.attachShadow=function(b){var c=N.apply(this,arguments);b.customElements&&(c.customElements=b.customElements);return c};var K=[document],O=function(b,c,a){var d=(a?Object.getPrototypeOf(a):b.prototype)[c];b.prototype[c]=function(){K.push(this);\nvar e=d.apply(a||this,arguments);void 0!==e&&G.set(e,this);K.pop();return e}};O(ShadowRoot,\"createElement\",document);O(ShadowRoot,\"importNode\",document);O(Element,\"insertAdjacentHTML\");var P=function(b){var c=Object.getOwnPropertyDescriptor(b.prototype,\"innerHTML\");Object.defineProperty(b.prototype,\"innerHTML\",Object.assign({},c,{set:function(a){K.push(this);c.set.call(this,a);K.pop()}}))};P(Element);P(ShadowRoot);Object.defineProperty(window,\"customElements\",{value:new CustomElementRegistry,configurable:!0,\nwritable:!0});if(window.ElementInternals&&window.ElementInternals.prototype.setFormValue){var Q=new WeakMap,R=HTMLElement.prototype.attachInternals,methods=[\"setFormValue\",\"setValidity\",\"checkValidity\",\"reportValidity\"];HTMLElement.prototype.attachInternals=function(b){for(var c=[],a=0;a<arguments.length;++a)c[a]=arguments[a];c=R.call.apply(R,[this].concat(m(c)));Q.set(c,this);return c};methods.forEach(function(b){var c=window.ElementInternals.prototype,a=c[b];c[b]=function(d){for(var e=[],g=0;g<\narguments.length;++g)e[g]=arguments[g];g=Q.get(this);if(!0===D.get(g).formAssociated)return null==a?void 0:a.call.apply(a,[this].concat(m(e)));throw new DOMException(\"Failed to execute \"+a+\" on 'ElementInternals': The target element is not a form-associated custom element.\");}});var RadioNodeList=function(b){var c=r(Array,[].concat(m(b)),this.constructor);c.h=b;return c},S=RadioNodeList,T=Array;S.prototype=n(T.prototype);S.prototype.constructor=S;if(x)x(S,T);else for(var U in T)if(\"prototype\"!=U)if(Object.defineProperties){var V=\nObject.getOwnPropertyDescriptor(T,U);V&&Object.defineProperty(S,U,V)}else S[U]=T[U];S.u=T.prototype;q.Object.defineProperty(RadioNodeList.prototype,\"value\",{configurable:!0,enumerable:!0,get:function(){var b;return(null==(b=this.h.find(function(c){return!0===c.checked}))?void 0:b.value)||\"\"}});var HTMLFormControlsCollection=function(b){var c=this,a=new Map;b.forEach(function(d,e){var g=d.getAttribute(\"name\"),f=a.get(g)||[];c[+e]=d;f.push(d);a.set(g,f)});this.length=b.length;a.forEach(function(d,e){d&&\n(c[e]=1===d.length?d[0]:new RadioNodeList(d))})};HTMLFormControlsCollection.prototype.namedItem=function(b){return this[b]};var W=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,\"elements\");Object.defineProperty(HTMLFormElement.prototype,\"elements\",{get:function(){var b=W.get.call(this,[]),c=[];b=l(b);for(var a=b.next();!a.done;a=b.next()){a=a.value;var d=D.get(a);d&&!0!==d.formAssociated||c.push(a)}return new HTMLFormControlsCollection(c)}})}};\n}).call(typeof globalThis === 'object' ? globalThis : window);\n\n//# sourceMappingURL=scoped-custom-element-registry.min.js.map\n","/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=globalThis,e=t.ShadowRoot&&(void 0===t.ShadyCSS||t.ShadyCSS.nativeShadow)&&\"adoptedStyleSheets\"in Document.prototype&&\"replace\"in CSSStyleSheet.prototype,s=Symbol(),o=new WeakMap;class n{constructor(t,e,o){if(this._$cssResult$=!0,o!==s)throw Error(\"CSSResult is not constructable. Use `unsafeCSS` or `css` instead.\");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const s=this.t;if(e&&void 0===t){const e=void 0!==s&&1===s.length;e&&(t=o.get(s)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),e&&o.set(s,t))}return t}toString(){return this.cssText}}const r=t=>new n(\"string\"==typeof t?t:t+\"\",void 0,s),i=(t,...e)=>{const o=1===t.length?t[0]:e.reduce(((e,s,o)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if(\"number\"==typeof t)return t;throw Error(\"Value passed to 'css' function must be a 'css' function result: \"+t+\". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.\")})(s)+t[o+1]),t[0]);return new n(o,t,s)},S=(s,o)=>{if(e)s.adoptedStyleSheets=o.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet));else for(const e of o){const o=document.createElement(\"style\"),n=t.litNonce;void 0!==n&&o.setAttribute(\"nonce\",n),o.textContent=e.cssText,s.appendChild(o)}},c=e?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e=\"\";for(const s of t.cssRules)e+=s.cssText;return r(e)})(t):t;export{n as CSSResult,S as adoptStyles,i as css,c as getCompatibleStyle,e as supportsAdoptingStyleSheets,r as unsafeCSS};\n//# sourceMappingURL=css-tag.js.map\n","import{getCompatibleStyle as t,adoptStyles as s}from\"./css-tag.js\";export{CSSResult,adoptStyles,css,getCompatibleStyle,supportsAdoptingStyleSheets,unsafeCSS}from\"./css-tag.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const{is:i,defineProperty:e,getOwnPropertyDescriptor:r,getOwnPropertyNames:h,getOwnPropertySymbols:o,getPrototypeOf:n}=Object,a=globalThis,c=a.trustedTypes,l=c?c.emptyScript:\"\",p=a.reactiveElementPolyfillSupport,d=(t,s)=>t,u={toAttribute(t,s){switch(s){case Boolean:t=t?l:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,s){let i=t;switch(s){case Boolean:i=null!==t;break;case Number:i=null===t?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t)}catch(t){i=null}}return i}},f=(t,s)=>!i(t,s),y={attribute:!0,type:String,converter:u,reflect:!1,hasChanged:f};Symbol.metadata??=Symbol(\"metadata\"),a.litPropertyMetadata??=new WeakMap;class b extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,s=y){if(s.state&&(s.attribute=!1),this._$Ei(),this.elementProperties.set(t,s),!s.noAccessor){const i=Symbol(),r=this.getPropertyDescriptor(t,i,s);void 0!==r&&e(this.prototype,t,r)}}static getPropertyDescriptor(t,s,i){const{get:e,set:h}=r(this.prototype,t)??{get(){return this[s]},set(t){this[s]=t}};return{get(){return e?.call(this)},set(s){const r=e?.call(this);h.call(this,s),this.requestUpdate(t,r,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??y}static _$Ei(){if(this.hasOwnProperty(d(\"elementProperties\")))return;const t=n(this);t.finalize(),void 0!==t.l&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(d(\"finalized\")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(d(\"properties\"))){const t=this.properties,s=[...h(t),...o(t)];for(const i of s)this.createProperty(i,t[i])}const t=this[Symbol.metadata];if(null!==t){const s=litPropertyMetadata.get(t);if(void 0!==s)for(const[t,i]of s)this.elementProperties.set(t,i)}this._$Eh=new Map;for(const[t,s]of this.elementProperties){const i=this._$Eu(t,s);void 0!==i&&this._$Eh.set(i,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(s){const i=[];if(Array.isArray(s)){const e=new Set(s.flat(1/0).reverse());for(const s of e)i.unshift(t(s))}else void 0!==s&&i.push(t(s));return i}static _$Eu(t,s){const i=s.attribute;return!1===i?void 0:\"string\"==typeof i?i:\"string\"==typeof t?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((t=>t(this)))}addController(t){(this._$EO??=new Set).add(t),void 0!==this.renderRoot&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,s=this.constructor.elementProperties;for(const i of s.keys())this.hasOwnProperty(i)&&(t.set(i,this[i]),delete this[i]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return s(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((t=>t.hostConnected?.()))}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach((t=>t.hostDisconnected?.()))}attributeChangedCallback(t,s,i){this._$AK(t,i)}_$EC(t,s){const i=this.constructor.elementProperties.get(t),e=this.constructor._$Eu(t,i);if(void 0!==e&&!0===i.reflect){const r=(void 0!==i.converter?.toAttribute?i.converter:u).toAttribute(s,i.type);this._$Em=t,null==r?this.removeAttribute(e):this.setAttribute(e,r),this._$Em=null}}_$AK(t,s){const i=this.constructor,e=i._$Eh.get(t);if(void 0!==e&&this._$Em!==e){const t=i.getPropertyOptions(e),r=\"function\"==typeof t.converter?{fromAttribute:t.converter}:void 0!==t.converter?.fromAttribute?t.converter:u;this._$Em=e,this[e]=r.fromAttribute(s,t.type),this._$Em=null}}requestUpdate(t,s,i){if(void 0!==t){if(i??=this.constructor.getPropertyOptions(t),!(i.hasChanged??f)(this[t],s))return;this.P(t,s,i)}!1===this.isUpdatePending&&(this._$ES=this._$ET())}P(t,s,i){this._$AL.has(t)||this._$AL.set(t,s),!0===i.reflect&&this._$Em!==t&&(this._$Ej??=new Set).add(t)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[t,s]of this._$Ep)this[t]=s;this._$Ep=void 0}const t=this.constructor.elementProperties;if(t.size>0)for(const[s,i]of t)!0!==i.wrapped||this._$AL.has(s)||void 0===this[s]||this.P(s,this[s],i)}let t=!1;const s=this._$AL;try{t=this.shouldUpdate(s),t?(this.willUpdate(s),this._$EO?.forEach((t=>t.hostUpdate?.())),this.update(s)):this._$EU()}catch(s){throw t=!1,this._$EU(),s}t&&this._$AE(s)}willUpdate(t){}_$AE(t){this._$EO?.forEach((t=>t.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Ej&&=this._$Ej.forEach((t=>this._$EC(t,this[t]))),this._$EU()}updated(t){}firstUpdated(t){}}b.elementStyles=[],b.shadowRootOptions={mode:\"open\"},b[d(\"elementProperties\")]=new Map,b[d(\"finalized\")]=new Map,p?.({ReactiveElement:b}),(a.reactiveElementVersions??=[]).push(\"2.0.4\");export{b as ReactiveElement,u as defaultConverter,f as notEqual};\n//# sourceMappingURL=reactive-element.js.map\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=globalThis,i=t.trustedTypes,s=i?i.createPolicy(\"lit-html\",{createHTML:t=>t}):void 0,e=\"$lit$\",h=`lit$${Math.random().toFixed(9).slice(2)}$`,o=\"?\"+h,n=`<${o}>`,r=document,l=()=>r.createComment(\"\"),c=t=>null===t||\"object\"!=typeof t&&\"function\"!=typeof t,a=Array.isArray,u=t=>a(t)||\"function\"==typeof t?.[Symbol.iterator],d=\"[ \\t\\n\\f\\r]\",f=/<(?:(!--|\\/[^a-zA-Z])|(\\/?[a-zA-Z][^>\\s]*)|(\\/?$))/g,v=/-->/g,_=/>/g,m=RegExp(`>|${d}(?:([^\\\\s\"'>=/]+)(${d}*=${d}*(?:[^ \\t\\n\\f\\r\"'\\`<>=]|(\"|')|))|$)`,\"g\"),p=/'/g,g=/\"/g,$=/^(?:script|style|textarea|title)$/i,y=t=>(i,...s)=>({_$litType$:t,strings:i,values:s}),x=y(1),b=y(2),w=y(3),T=Symbol.for(\"lit-noChange\"),E=Symbol.for(\"lit-nothing\"),A=new WeakMap,C=r.createTreeWalker(r,129);function P(t,i){if(!a(t)||!t.hasOwnProperty(\"raw\"))throw Error(\"invalid template strings array\");return void 0!==s?s.createHTML(i):i}const V=(t,i)=>{const s=t.length-1,o=[];let r,l=2===i?\"<svg>\":3===i?\"<math>\":\"\",c=f;for(let i=0;i<s;i++){const s=t[i];let a,u,d=-1,y=0;for(;y<s.length&&(c.lastIndex=y,u=c.exec(s),null!==u);)y=c.lastIndex,c===f?\"!--\"===u[1]?c=v:void 0!==u[1]?c=_:void 0!==u[2]?($.test(u[2])&&(r=RegExp(\"</\"+u[2],\"g\")),c=m):void 0!==u[3]&&(c=m):c===m?\">\"===u[0]?(c=r??f,d=-1):void 0===u[1]?d=-2:(d=c.lastIndex-u[2].length,a=u[1],c=void 0===u[3]?m:'\"'===u[3]?g:p):c===g||c===p?c=m:c===v||c===_?c=f:(c=m,r=void 0);const x=c===m&&t[i+1].startsWith(\"/>\")?\" \":\"\";l+=c===f?s+n:d>=0?(o.push(a),s.slice(0,d)+e+s.slice(d)+h+x):s+h+(-2===d?i:x)}return[P(t,l+(t[s]||\"<?>\")+(2===i?\"</svg>\":3===i?\"</math>\":\"\")),o]};class N{constructor({strings:t,_$litType$:s},n){let r;this.parts=[];let c=0,a=0;const u=t.length-1,d=this.parts,[f,v]=V(t,s);if(this.el=N.createElement(f,n),C.currentNode=this.el.content,2===s||3===s){const t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}for(;null!==(r=C.nextNode())&&d.length<u;){if(1===r.nodeType){if(r.hasAttributes())for(const t of r.getAttributeNames())if(t.endsWith(e)){const i=v[a++],s=r.getAttribute(t).split(h),e=/([.?@])?(.*)/.exec(i);d.push({type:1,index:c,name:e[2],strings:s,ctor:\".\"===e[1]?H:\"?\"===e[1]?I:\"@\"===e[1]?L:k}),r.removeAttribute(t)}else t.startsWith(h)&&(d.push({type:6,index:c}),r.removeAttribute(t));if($.test(r.tagName)){const t=r.textContent.split(h),s=t.length-1;if(s>0){r.textContent=i?i.emptyScript:\"\";for(let i=0;i<s;i++)r.append(t[i],l()),C.nextNode(),d.push({type:2,index:++c});r.append(t[s],l())}}}else if(8===r.nodeType)if(r.data===o)d.push({type:2,index:c});else{let t=-1;for(;-1!==(t=r.data.indexOf(h,t+1));)d.push({type:7,index:c}),t+=h.length-1}c++}}static createElement(t,i){const s=r.createElement(\"template\");return s.innerHTML=t,s}}function S(t,i,s=t,e){if(i===T)return i;let h=void 0!==e?s._$Co?.[e]:s._$Cl;const o=c(i)?void 0:i._$litDirective$;return h?.constructor!==o&&(h?._$AO?.(!1),void 0===o?h=void 0:(h=new o(t),h._$AT(t,s,e)),void 0!==e?(s._$Co??=[])[e]=h:s._$Cl=h),void 0!==h&&(i=S(t,h._$AS(t,i.values),h,e)),i}class M{constructor(t,i){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:i},parts:s}=this._$AD,e=(t?.creationScope??r).importNode(i,!0);C.currentNode=e;let h=C.nextNode(),o=0,n=0,l=s[0];for(;void 0!==l;){if(o===l.index){let i;2===l.type?i=new R(h,h.nextSibling,this,t):1===l.type?i=new l.ctor(h,l.name,l.strings,this,t):6===l.type&&(i=new z(h,this,t)),this._$AV.push(i),l=s[++n]}o!==l?.index&&(h=C.nextNode(),o++)}return C.currentNode=r,e}p(t){let i=0;for(const s of this._$AV)void 0!==s&&(void 0!==s.strings?(s._$AI(t,s,i),i+=s.strings.length-2):s._$AI(t[i])),i++}}class R{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,i,s,e){this.type=2,this._$AH=E,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=s,this.options=e,this._$Cv=e?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const i=this._$AM;return void 0!==i&&11===t?.nodeType&&(t=i.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,i=this){t=S(this,t,i),c(t)?t===E||null==t||\"\"===t?(this._$AH!==E&&this._$AR(),this._$AH=E):t!==this._$AH&&t!==T&&this._(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):u(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==E&&c(this._$AH)?this._$AA.nextSibling.data=t:this.T(r.createTextNode(t)),this._$AH=t}$(t){const{values:i,_$litType$:s}=t,e=\"number\"==typeof s?this._$AC(t):(void 0===s.el&&(s.el=N.createElement(P(s.h,s.h[0]),this.options)),s);if(this._$AH?._$AD===e)this._$AH.p(i);else{const t=new M(e,this),s=t.u(this.options);t.p(i),this.T(s),this._$AH=t}}_$AC(t){let i=A.get(t.strings);return void 0===i&&A.set(t.strings,i=new N(t)),i}k(t){a(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let s,e=0;for(const h of t)e===i.length?i.push(s=new R(this.O(l()),this.O(l()),this,this.options)):s=i[e],s._$AI(h),e++;e<i.length&&(this._$AR(s&&s._$AB.nextSibling,e),i.length=e)}_$AR(t=this._$AA.nextSibling,i){for(this._$AP?.(!1,!0,i);t&&t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){void 0===this._$AM&&(this._$Cv=t,this._$AP?.(t))}}class k{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,i,s,e,h){this.type=1,this._$AH=E,this._$AN=void 0,this.element=t,this.name=i,this._$AM=e,this.options=h,s.length>2||\"\"!==s[0]||\"\"!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=E}_$AI(t,i=this,s,e){const h=this.strings;let o=!1;if(void 0===h)t=S(this,t,i,0),o=!c(t)||t!==this._$AH&&t!==T,o&&(this._$AH=t);else{const e=t;let n,r;for(t=h[0],n=0;n<h.length-1;n++)r=S(this,e[s+n],i,n),r===T&&(r=this._$AH[n]),o||=!c(r)||r!==this._$AH[n],r===E?t=E:t!==E&&(t+=(r??\"\")+h[n+1]),this._$AH[n]=r}o&&!e&&this.j(t)}j(t){t===E?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??\"\")}}class H extends k{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===E?void 0:t}}class I extends k{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==E)}}class L extends k{constructor(t,i,s,e,h){super(t,i,s,e,h),this.type=5}_$AI(t,i=this){if((t=S(this,t,i,0)??E)===T)return;const s=this._$AH,e=t===E&&s!==E||t.capture!==s.capture||t.once!==s.once||t.passive!==s.passive,h=t!==E&&(s===E||e);e&&this.element.removeEventListener(this.name,this,s),h&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){\"function\"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class z{constructor(t,i,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(t){S(this,t)}}const Z={M:e,P:h,A:o,C:1,L:V,R:M,D:u,V:S,I:R,H:k,N:I,U:L,B:H,F:z},j=t.litHtmlPolyfillSupport;j?.(N,R),(t.litHtmlVersions??=[]).push(\"3.2.1\");const B=(t,i,s)=>{const e=s?.renderBefore??i;let h=e._$litPart$;if(void 0===h){const t=s?.renderBefore??null;e._$litPart$=h=new R(i.insertBefore(l(),t),t,void 0,s??{})}return h._$AI(t),h};export{Z as _$LH,x as html,w as mathml,T as noChange,E as nothing,B as render,b as svg};\n//# sourceMappingURL=lit-html.js.map\n","import{ReactiveElement as t}from\"@lit/reactive-element\";export*from\"@lit/reactive-element\";import{render as e,noChange as s}from\"lit-html\";export*from\"lit-html\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */class r extends t{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const s=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=e(s,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return s}}r._$litElement$=!0,r[\"finalized\"]=!0,globalThis.litElementHydrateSupport?.({LitElement:r});const i=globalThis.litElementPolyfillSupport;i?.({LitElement:r});const o={_$AK:(t,e,s)=>{t._$AK(e,s)},_$AL:t=>t._$AL};(globalThis.litElementVersions??=[]).push(\"4.1.1\");export{r as LitElement,o as _$LE};\n//# sourceMappingURL=lit-element.js.map\n","import {html, LitElement, css} from 'lit';\n\nexport class MiniSpinner extends LitElement {\n    constructor() {\n        super();\n        this.text = '';\n    }\n\n    static get properties() {\n        return {\n            text: {type: String},\n        };\n    }\n\n    static get styles() {\n        // language=css\n        return css`\n            .outer {\n                display: inline-block;\n                vertical-align: sub;\n            }\n            .inner {\n                display: flex;\n            }\n            .ring {\n                display: inline-block;\n                position: relative;\n                width: 1em;\n                height: 1em;\n            }\n            .ring div {\n                box-sizing: border-box;\n                display: block;\n                position: absolute;\n                width: 100%;\n                height: 100%;\n                border: 0.2em solid currentColor;\n                border-radius: 50%;\n                animation: ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n                border-color: currentColor transparent transparent transparent;\n            }\n            .ring div:nth-child(1) {\n                animation-delay: -0.45s;\n            }\n            .ring div:nth-child(2) {\n                animation-delay: -0.3s;\n            }\n            .ring div:nth-child(3) {\n                animation-delay: -0.15s;\n            }\n            @keyframes ring {\n                0% {\n                    transform: rotate(0deg);\n                }\n                100% {\n                    transform: rotate(360deg);\n                }\n            }\n            .text {\n                display: inline-block;\n                margin-left: 0.5em;\n                font-size: 0.7em;\n            }\n        `;\n    }\n\n    render() {\n        const textHtml =\n            this.text !== ''\n                ? html`\n                      <div class=\"text\">${this.text}</div>\n                  `\n                : html``;\n\n        return html`\n            <div class=\"outer\">\n                <div class=\"inner\">\n                    <div class=\"ring\">\n                        <div></div>\n                        <div></div>\n                        <div></div>\n                        <div></div>\n                    </div>\n                    ${textHtml}\n                </div>\n            </div>\n        `;\n    }\n}\n","const appliedClassMixins = new WeakMap();\n\n/** Vefify if the Mixin was previously applyed\n * @private\n * @param {function} mixin      Mixin being applyed\n * @param {object} superClass   Class receiving the new mixin\n * @returns {boolean}\n */\nfunction wasMixinPreviouslyApplied(mixin, superClass) {\n  let klass = superClass;\n  while (klass) {\n    if (appliedClassMixins.get(klass) === mixin) {\n      return true;\n    }\n    klass = Object.getPrototypeOf(klass);\n  }\n  return false;\n}\n\n/** Apply each mixin in the chain to make sure they are not applied more than once to the final class.\n * @export\n * @param {function} mixin      Mixin to be applyed\n * @returns {object}            Mixed class with mixin applied\n */\nexport function dedupeMixin(mixin) {\n  return superClass => {\n    if (wasMixinPreviouslyApplied(mixin, superClass)) {\n      return superClass;\n    }\n    const mixedClass = mixin(superClass);\n    appliedClassMixins.set(mixedClass, mixin);\n    return mixedClass;\n  };\n}\n","import { dedupeMixin } from '@open-wc/dedupe-mixin';\nimport { adoptStyles } from '@lit/reactive-element/css-tag.js';\n\n/**\n * @typedef {import('./types').RenderOptions} RenderOptions\n * @typedef {import('./types').ScopedElementsMixin} ScopedElementsMixin\n * @typedef {import('./types').ScopedElementsHost} ScopedElementsHost\n * @typedef {import('./types').ScopedElementsMap} ScopedElementsMap\n * @typedef {import('@lit/reactive-element').CSSResultOrNative} CSSResultOrNative\n */\n\nconst version = '2.2.2';\n// eslint-disable-next-line dot-notation\nconst versions = window['scopedElementsVersions'] || (window['scopedElementsVersions'] = []);\nif (!versions.includes(version)) {\n  versions.push(version);\n}\n\n// @ts-ignore\nconst supportsScopedRegistry = !!ShadowRoot.prototype.createElement;\n\n/**\n * @template {import('./types').Constructor<HTMLElement>} T\n * @param {T} superclass\n * @return {T & import('./types').Constructor<ScopedElementsHost>}\n */\nconst ScopedElementsMixinImplementation = superclass =>\n  /** @type {ScopedElementsHost} */\n  class ScopedElementsHost extends superclass {\n    /**\n     * Obtains the scoped elements definitions map if specified.\n     *\n     * @returns {ScopedElementsMap}\n     */\n    static get scopedElements() {\n      return {};\n    }\n\n    static get scopedElementsVersion() {\n      return version;\n    }\n\n    /**\n     * Obtains the ShadowRoot options.\n     *\n     * @type {ShadowRootInit}\n     */\n    static get shadowRootOptions() {\n      return this.__shadowRootOptions;\n    }\n\n    /**\n     * Set the shadowRoot options.\n     *\n     * @param {ShadowRootInit} value\n     */\n    static set shadowRootOptions(value) {\n      this.__shadowRootOptions = value;\n    }\n\n    /**\n     * Obtains the element styles.\n     *\n     * @returns {CSSResultOrNative[]}\n     */\n    static get elementStyles() {\n      return this.__elementStyles;\n    }\n\n    static set elementStyles(styles) {\n      this.__elementStyles = styles;\n    }\n\n    // either TS or ESLint will complain here\n    // eslint-disable-next-line no-unused-vars\n    constructor(..._args) {\n      super();\n      /** @type {RenderOptions} */\n      this.renderOptions = this.renderOptions || undefined;\n    }\n\n    /**\n     * Obtains the CustomElementRegistry associated to the ShadowRoot.\n     *\n     * @returns {CustomElementRegistry}\n     */\n    get registry() {\n      // @ts-ignore\n      return this.constructor.__registry;\n    }\n\n    /**\n     * Set the CustomElementRegistry associated to the ShadowRoot\n     *\n     * @param {CustomElementRegistry} registry\n     */\n    set registry(registry) {\n      // @ts-ignore\n      this.constructor.__registry = registry;\n    }\n\n    createRenderRoot() {\n      const { scopedElements, shadowRootOptions, elementStyles } =\n        /** @type {typeof ScopedElementsHost} */ (this.constructor);\n\n      const shouldCreateRegistry =\n        !this.registry ||\n        // @ts-ignore\n        (this.registry === this.constructor.__registry &&\n          !Object.prototype.hasOwnProperty.call(this.constructor, '__registry'));\n\n      /**\n       * Create a new registry if:\n       * - the registry is not defined\n       * - this class doesn't have its own registry *AND* has no shared registry\n       */\n      if (shouldCreateRegistry) {\n        this.registry = supportsScopedRegistry ? new CustomElementRegistry() : customElements;\n        for (const [tagName, klass] of Object.entries(scopedElements)) {\n          this.defineScopedElement(tagName, klass);\n        }\n      }\n\n      /** @type {ShadowRootInit} */\n      const options = {\n        mode: 'open',\n        ...shadowRootOptions,\n        customElements: this.registry,\n        registry: this.registry,\n      };\n\n      const createdRoot = this.attachShadow(options);\n      if (supportsScopedRegistry) {\n        this.renderOptions.creationScope = createdRoot;\n      }\n\n      if (createdRoot instanceof ShadowRoot) {\n        adoptStyles(createdRoot, elementStyles);\n        this.renderOptions.renderBefore = this.renderOptions.renderBefore || createdRoot.firstChild;\n      }\n\n      return createdRoot;\n    }\n\n    createScopedElement(tagName) {\n      const root = supportsScopedRegistry ? this.shadowRoot : document;\n      // @ts-ignore polyfill to support createElement on shadowRoot is loaded\n      return root.createElement(tagName);\n    }\n\n    /**\n     * Defines a scoped element.\n     *\n     * @param {string} tagName\n     * @param {typeof HTMLElement} klass\n     */\n    defineScopedElement(tagName, klass) {\n      const registeredClass = this.registry.get(tagName);\n      if (registeredClass && supportsScopedRegistry === false && registeredClass !== klass) {\n        // eslint-disable-next-line no-console\n        console.error(\n          [\n            `You are trying to re-register the \"${tagName}\" custom element with a different class via ScopedElementsMixin.`,\n            'This is only possible with a CustomElementRegistry.',\n            'Your browser does not support this feature so you will need to load a polyfill for it.',\n            'Load \"@webcomponents/scoped-custom-element-registry\" before you register ANY web component to the global customElements registry.',\n            'e.g. add \"<script src=\"/node_modules/@webcomponents/scoped-custom-element-registry/scoped-custom-element-registry.min.js\"></script>\" as your first script tag.',\n            'For more details you can visit https://open-wc.org/docs/development/scoped-elements/',\n          ].join('\\n'),\n        );\n      }\n      if (!registeredClass) {\n        return this.registry.define(tagName, klass);\n      }\n      return this.registry.get(tagName);\n    }\n\n    /**\n     * @deprecated use the native el.tagName instead\n     *\n     * @param {string} tagName\n     * @returns {string} the tag name\n     */\n    // eslint-disable-next-line class-methods-use-this\n    getScopedTagName(tagName) {\n      // @ts-ignore\n      return this.constructor.getScopedTagName(tagName);\n    }\n\n    /**\n     * @deprecated use the native el.tagName instead\n     *\n     * @param {string} tagName\n     * @returns {string} the tag name\n     */\n    // eslint-disable-next-line class-methods-use-this\n    static getScopedTagName(tagName) {\n      // @ts-ignore\n      return this.__registry.get(tagName) ? tagName : undefined;\n    }\n  };\n\nexport const ScopedElementsMixin = dedupeMixin(ScopedElementsMixinImplementation);\n","import {css, unsafeCSS, CSSResult} from 'lit';\nimport {getIconSVGURL} from './icon.js';\n\n/**\n * We want to have \"neutral\" colors here\n *\n * @returns {CSSResult}\n */\nexport function getThemeCSS() {\n    // language=css\n    return css`\n        :host {\n            /* new new variables */\n            --dbp-background:\n                    var(--dbp-override-background, #ffffff\n            );\n            --dbp-content:\n                    var(--dbp-override-content, #222120\n            );\n            --dbp-content-surface:\n                    var(--dbp-override-content-surface,\n                    var(--dbp-content)\n            );\n            --dbp-on-content-surface:\n                    var(--dbp-override-on-content-surface,\n                    var(--dbp-background)\n            );\n            --dbp-border:\n                    var(--dbp-override-border, 1px solid #222120\n            );\n            --dbp-border-radius:\n                    var(--dbp-override-border-radius, 0px\n            );\n            --dbp-primary:\n                    var(--dbp-override-primary,  #3775c1\n            );\n            --dbp-primary-surface:\n                    var(--dbp-override-primary-surface,\n                    var(--dbp-primary)\n            );\n            --dbp-on-primary-surface:\n                    var(--dbp-override-on-primary-surface,\n                    var(--dbp-on-content-surface)\n            );\n            --dbp-primary-surface-border-color:\n                    var(--dbp-override-primary-surface-border-color,\n                    var(--dbp-primary)\n            );\n            --dbp-secondary:\n                    var(--dbp-override-secondary, #222120\n            );\n            --dbp-secondary-surface:\n                    var(--dbp-override-secondary-surface,\n                    var(--dbp-secondary)\n            );\n            --dbp-on-secondary-surface:\n                    var(--dbp-override-on-secondary-surface,\n                    var(--dbp-on-content-surface)\n            );\n            --dbp-secondary-surface-border-color:\n                    var(--dbp-override-secondary-surface-border-color,\n                    var(--dbp-secondary)\n            );\n            --dbp-muted:\n                    var(--dbp-override-muted, #767676\n            );\n            --dbp-muted-surface:\n                    var(--dbp-override-muted-surface,\n                    var(--dbp-muted)\n            );\n            --dbp-on-muted-surface:\n                    var(--dbp-override-on-muted-surface,\n                    var(--dbp-on-content-surface)\n            );\n            --dbp-muted-surface-border-color:\n                    var(--dbp-override-muted-surface-border-color,\n                    var(--dbp-muted)\n            );\n            --dbp-accent:\n                    var(--dbp-override-accent, #9e1e4d\n            );\n            --dbp-accent-surface:\n                    var(--dbp-override-accent-surface,\n                    var(--dbp-accent)\n            );\n            --dbp-on-accent-surface:\n                    var(--dbp-override-on-accent-surface,\n                    var(--dbp-on-content-surface)\n            );\n            --dbp-accent-surface-border-color:\n                    var(--dbp-override-accent-surface-border-color,\n                    var(--dbp-accent)\n            );\n            --dbp-info:\n                    var(--dbp-override-info, #38808a\n            );\n            --dbp-info-surface:\n                    var(--dbp-override-info-surface,\n                    var(--dbp-info)\n            );\n            --dbp-on-info-surface:\n                    var(--dbp-override-on-info-surface,\n                    var(--dbp-on-content-surface)\n            );\n            --dbp-info-surface-border-color:\n                    var(--dbp-override-info-surface-border-color,\n                    var(--dbp-info)\n            );\n            --dbp-success:\n                    var(--dbp-override-success, #338555\n            );\n            --dbp-success-surface:\n                    var(--dbp-override-success-surface,\n                    var(--dbp-success)\n            );\n            --dbp-on-success-surface:\n                    var(--dbp-override-on-success-surface,\n                    var(--dbp-on-content-surface)\n            );\n            --dbp-success-surface-border-color:\n                    var(--dbp-override-success-surface-border-color,\n                    var(--dbp-success)\n            );\n            --dbp-warning:\n                    var(--dbp-override-warning, #bf8808\n            );\n            --dbp-warning-surface:\n                    var(--dbp-override-warning-surface,\n                    var(--dbp-warning)\n            );\n            --dbp-on-warning-surface:\n                    var(--dbp-override-on-warning-surface,\n                    var(--dbp-on-content-surface)\n            );\n            --dbp-warning-surface-border-color:\n                    var(--dbp-override-warning-surface-border-color,\n                    var(--dbp-warning)\n            );\n            --dbp-danger:\n                    var(--dbp-override-danger, #cc3232\n            );\n            --dbp-danger-surface:\n                    var(--dbp-override-danger-surface,\n                    var(--dbp-danger)\n            );\n            --dbp-on-danger-surface:\n                    var(--dbp-override-on-danger-surface,\n                    var(--dbp-on-content-surface)\n            );\n            --dbp-danger-surface-border-color:\n                    var(--dbp-override-danger-surface-border-color,\n                    var(--dbp-danger)\n            );\n            --dbp-hover-background-color:\n                    var(--dbp-override-hover-background-color\n            );\n            --dbp-hover-color:\n                    var(--dbp-override-hover-color\n            );\n        }\n\n        #root {\n            background-color: var(--dbp-background);\n            color: var(--dbp-content);\n        }\n\n        ::-moz-selection {\n            color: var(--dbp-on-primary-surface);\n            background: var(--dbp-primary-surface);\n        }\n\n        ::selection {\n            color: var(--dbp-on-primary-surface);\n            background: var(--dbp-primary-surface);\n        }\n\n    `;\n}\n\nexport function getGeneralCSS(doMarginPaddingReset = true) {\n    // language=css\n    const marginPaddingResetCss = doMarginPaddingReset\n        ? css`\n              blockquote,\n              body,\n              dd,\n              dl,\n              dt,\n              fieldset,\n              figure,\n              h1,\n              h2,\n              h3,\n              h4,\n              h5,\n              h6,\n              hr,\n              html,\n              iframe,\n              legend,\n              li,\n              ol,\n              p,\n              pre,\n              textarea,\n              ul {\n                  margin: 0;\n                  padding: 0;\n              }\n          `\n        : css``;\n\n    // language=css\n    return css`\n\n        h2 {\n            font-weight: 300;\n        }\n\n        h3 {\n            font-weight: 300;\n            margin-top: 0px;\n            margin-bottom: 0.75rem;\n        }\n\n        .field:not(:last-child) {\n            margin-bottom: 0.75rem;\n        }\n\n        .field.has-addons {\n            display: flex;\n            justify-content: flex-start;\n        }\n\n        .input, .textarea, .select select {\n            border: solid 1px var(--dbp-muted);\n            border-radius: var(--dbp-border-radius);\n            padding-bottom: calc(.375em - 1px);\n            padding-left: calc(.625em - 1px);\n            padding-right: calc(.625em - 1px);\n            padding-top: calc(.375em - 1px);\n        }\n\n        .input::placeholder, .textarea::placeholder, .select select::placeholder {\n            color: var(--dbp-muted);\n        }\n\n        input, ::placeholder, textarea, select, .select select {\n            font-size: inherit;\n            font-family: inherit;\n        }\n\n        input::-moz-focus-inner { border: 0; }\n\n        :focus-visible{\n            outline:none !important;\n            outline-width: 0 !important;\n            box-shadow: none;\n            -moz-box-shadow: none;\n            -webkit-box-shadow: none;\n            box-shadow: 0px 0px 3px 1px var(--dbp-primary);\n        }\n\n        .control {\n            box-sizing: border-box;\n            clear: both;\n            font-size: 1rem;\n            position: relative;\n            text-align: left;\n        }\n\n        .label {\n            margin-bottom: .5em;\n            display: block;\n            font-weight: 600;\n        }\n\n        .hidden { display: none; }\n\n        a {\n            color: var(--dbp-content);\n            cursor: pointer;\n            text-decoration: none;\n        }\n\n        a.is-download {\n            border-bottom: var(--dbp-border);\n            transition: background-color 0.15s, color 0.15s;\n        }\n\n        a.is-download:hover {\n            color: var(--dbp-hover-color, var(--dbp-content));\n            background-color: var(--dbp-hover-background-color);\n        }\n\n        .title {\n            color: var(--dbp-content);\n            font-size: 2rem;\n            font-weight: 600;\n            line-height: 1.125;\n        }\n\n        ${marginPaddingResetCss}.int-link-internal\n\n        .button[disabled], .file-cta[disabled], .file-name[disabled], .input[disabled], .pagination-ellipsis[disabled],\n        .pagination-link[disabled], .pagination-next[disabled], .pagination-previous[disabled], .select fieldset[disabled] select,\n        .select select[disabled], .textarea[disabled], fieldset[disabled] .button, fieldset[disabled] .file-cta,\n        fieldset[disabled] .file-name, fieldset[disabled] .input, fieldset[disabled] .pagination-ellipsis,\n        fieldset[disabled] .pagination-link, fieldset[disabled] .pagination-next, fieldset[disabled] .pagination-previous,\n        fieldset[disabled] .select select, fieldset[disabled] .textarea {\n            cursor: not-allowed;\n        }\n\n        .input, .select select, .textarea {\n            background-color: var(--dbp-background);\n            border-color: var(--dbp-muted);\n            border-radius: var(--dbp-border-radius);\n            color: var(--dbp-content);\n        }\n\n        .input[disabled] {\n            color: var(--dbp-muted);\n        }\n\n        *, ::after, ::before {\n            box-sizing: inherit;\n        }\n\n        select:not(.select), .dropdown-menu {\n            -moz-appearance: none;\n            -webkit-appearance: none;\n            background-color: var(--dbp-background);\n            background: calc(100% - 0.2rem) center no-repeat url(\"${unsafeCSS(\n                getIconSVGURL('chevron-down')\n            )}\");\n            background-size: 25%;\n            border: var(--dbp-border);\n            border-radius: var(--dbp-border-radius);\n            color: var(--dbp-content);\n            padding: 0.14rem 1.0rem 0.14rem 0.14rem;\n        }\n\n        ::-moz-selection {\n            color: var(--dbp-on-primary-surface);\n            background: var(--dbp-primary-surface);\n        }\n\n        ::selection {\n            color: var(--dbp-on-primary-surface);\n            background: var(--dbp-primary-surface);\n        }\n    `;\n}\n\nexport function getFormAddonsCSS() {\n    // language=css\n    return css`\n        .buttons.has-addons .button:not(:first-child) {\n            border-bottom-left-radius: 0;\n            border-top-left-radius: 0;\n        }\n\n        .buttons.has-addons .button:not(:last-child) {\n            border-bottom-right-radius: 0;\n            border-top-right-radius: 0;\n            margin-right: -1px;\n        }\n\n        .buttons.has-addons .button:last-child {\n            margin-right: 0;\n        }\n\n        .buttons.has-addons .button:hover,\n        .buttons.has-addons .button.is-hovered {\n            z-index: 2;\n        }\n\n        .buttons.has-addons .button:focus,\n        .buttons.has-addons .button.is-focused,\n        .buttons.has-addons .button:active,\n        .buttons.has-addons .button.is-active,\n        .buttons.has-addons .button.is-selected {\n            z-index: 3;\n        }\n\n        .buttons.has-addons .button:focus:hover,\n        .buttons.has-addons .button.is-focused:hover,\n        .buttons.has-addons .button:active:hover,\n        .buttons.has-addons .button.is-active:hover,\n        .buttons.has-addons .button.is-selected:hover {\n            z-index: 4;\n        }\n\n        .buttons.has-addons .button.is-expanded {\n            flex-grow: 1;\n            flex-shrink: 1;\n        }\n\n        .buttons.is-centered {\n            justify-content: center;\n        }\n\n        .buttons.is-centered:not(.has-addons) .button:not(.is-fullwidth) {\n            margin-left: 0.25rem;\n            margin-right: 0.25rem;\n        }\n\n        .buttons.is-right {\n            justify-content: flex-end;\n        }\n\n        .buttons.is-right:not(.has-addons) .button:not(.is-fullwidth) {\n            margin-left: 0.25rem;\n            margin-right: 0.25rem;\n        }\n\n        .tags.has-addons .tag {\n            margin-right: 0;\n        }\n\n        .tags.has-addons .tag:not(:first-child) {\n            margin-left: 0;\n            border-bottom-left-radius: 0;\n            border-top-left-radius: 0;\n        }\n\n        .tags.has-addons .tag:not(:last-child) {\n            border-bottom-right-radius: 0;\n            border-top-right-radius: 0;\n        }\n\n        .field.has-addons {\n            display: flex;\n            justify-content: flex-start;\n        }\n\n        .field.has-addons .control:not(:last-child) {\n            margin-right: -1px;\n        }\n\n        .field.has-addons .control:not(:first-child):not(:last-child) .button,\n        .field.has-addons .control:not(:first-child):not(:last-child) .input,\n        .field.has-addons .control:not(:first-child):not(:last-child) .select select {\n            border-radius: 0;\n        }\n\n        .field.has-addons .control:first-child:not(:only-child) .button,\n        .field.has-addons .control:first-child:not(:only-child) .input,\n        .field.has-addons .control:first-child:not(:only-child) .select select {\n            border-bottom-right-radius: 0;\n            border-top-right-radius: 0;\n        }\n\n        .field.has-addons .control:last-child:not(:only-child) .button,\n        .field.has-addons .control:last-child:not(:only-child) .input,\n        .field.has-addons .control:last-child:not(:only-child) .select select {\n            border-bottom-left-radius: 0;\n            border-top-left-radius: 0;\n        }\n\n        .field.has-addons .control .button:not([disabled]):hover,\n        .field.has-addons .control .button:not([disabled]).is-hovered,\n        .field.has-addons .control .input:not([disabled]):hover,\n        .field.has-addons .control .input:not([disabled]).is-hovered,\n        .field.has-addons .control .select select:not([disabled]):hover,\n        .field.has-addons .control .select select:not([disabled]).is-hovered {\n            z-index: 2;\n        }\n\n        .field.has-addons .control .button:not([disabled]):focus,\n        .field.has-addons .control .button:not([disabled]).is-focused,\n        .field.has-addons .control .button:not([disabled]):active,\n        .field.has-addons .control .button:not([disabled]).is-active,\n        .field.has-addons .control .input:not([disabled]):focus,\n        .field.has-addons .control .input:not([disabled]).is-focused,\n        .field.has-addons .control .input:not([disabled]):active,\n        .field.has-addons .control .input:not([disabled]).is-active,\n        .field.has-addons .control .select select:not([disabled]):focus,\n        .field.has-addons .control .select select:not([disabled]).is-focused,\n        .field.has-addons .control .select select:not([disabled]):active,\n        .field.has-addons .control .select select:not([disabled]).is-active {\n            z-index: 3;\n        }\n\n        .field.has-addons .control .button:not([disabled]):focus:hover,\n        .field.has-addons .control .button:not([disabled]).is-focused:hover,\n        .field.has-addons .control .button:not([disabled]):active:hover,\n        .field.has-addons .control .button:not([disabled]).is-active:hover,\n        .field.has-addons .control .input:not([disabled]):focus:hover,\n        .field.has-addons .control .input:not([disabled]).is-focused:hover,\n        .field.has-addons .control .input:not([disabled]):active:hover,\n        .field.has-addons .control .input:not([disabled]).is-active:hover,\n        .field.has-addons .control .select select:not([disabled]):focus:hover,\n        .field.has-addons .control .select select:not([disabled]).is-focused:hover,\n        .field.has-addons .control .select select:not([disabled]):active:hover,\n        .field.has-addons .control .select select:not([disabled]).is-active:hover {\n            z-index: 4;\n        }\n\n        .field.has-addons .control.is-expanded {\n            flex-grow: 1;\n            flex-shrink: 1;\n        }\n\n        .field.has-addons.has-addons-centered {\n            justify-content: center;\n        }\n\n        .field.has-addons.has-addons-right {\n            justify-content: flex-end;\n        }\n\n        .field.has-addons.has-addons-fullwidth .control {\n            flex-grow: 1;\n            flex-shrink: 0;\n        }\n    `;\n}\n\nexport function getNotificationCSS() {\n    // language=css\n    return css`\n        .notification {\n            background-color: var(--dbp-background);\n            color: var(--dbp-content);\n            padding: 1.25rem 2.5rem 1.25rem 1.5rem;\n            position: relative;\n            border-radius: var(--dbp-border-radius);\n            border: var(--dbp-border);\n        }\n\n        .notification.has-progress-bar {\n            padding-bottom: 1rem;\n        }\n\n        .notification a:not(.button):not(.dropdown-item) {\n            color: currentColor;\n            text-decoration: underline;\n        }\n\n        .notification strong {\n            color: currentColor;\n        }\n\n        .notification code,\n        .notification pre {\n            color: var(--dbp-on-muted-surface);\n            background: var(--dbp-muted-surface);\n            border-color: var(--dbp-muted-surface-border-color);\n        }\n\n        .notification pre code {\n            background: transparent;\n        }\n\n        .notification dbp-icon {\n            font-size: 1.4em;\n            margin-right: 0.4em;\n        }\n\n        .notification > .delete {\n            position: absolute;\n            right: 0.5rem;\n            top: 0.5rem;\n        }\n\n        .notification .title,\n        .notification .subtitle,\n        .notification .content {\n            color: currentColor;\n        }\n\n        .notification.is-primary {\n            background-color: var(--dbp-primary-surface);\n            color: var(--dbp-on-primary-surface);\n            border-color: var(--dbp-primary-surface-border-color);\n        }\n\n        .notification.is-info {\n            background-color: var(--dbp-info-surface);\n            color: var(--dbp-on-info-surface);\n            border-color: var(--dbp-info-surface-border-color);\n        }\n\n        .notification.is-success {\n            background-color: var(--dbp-success-surface);\n            color: var(--dbp-on-success-surface);\n            border-color: var(--dbp-success-surface-border-color);\n        }\n\n        .notification.is-warning {\n            background-color: var(--dbp-warning-surface);\n            color: var(--dbp-on-warning-surface);\n            border-color: var(--dbp-warning-surface-border-color);\n        }\n\n        .notification.is-danger {\n            background-color: var(--dbp-danger-surface);\n            color: var(--dbp-on-danger-surface);\n            border-color: var(--dbp-danger-surface-border-color);\n        }\n\n        .progress-container {\n            width: 100%;\n            margin-top: .5rem;\n        }\n\n        progress[value] {\n            -webkit-appearance:none;\n            -moz-appearance:none;\n            appearance: none;\n            border: none;\n            height: 10px;\n        }\n\n        .progress {\n            height: 10px;\n            animation: runProgress var(--dbp-progress-timeout, 5s) linear forwards 0.25s;\n        }\n\n        @keyframes runProgress {\n            0% {\n                width: 0%;\n                background: rgba(255, 255, 255, 0.3);\n            }\n\n            100% {\n                width: 100%;\n                background: rgba(255, 255, 255, 1);\n            }\n        }\n\n        .enter-animation {\n            animation: slide-up 0.4s cubic-bezier(.25,0,.3,1);\n        }\n\n        @keyframes slide-up {\n            0% {\n                transform: translateY(50%);\n                opacity: 0.3;\n            }\n            75% {\n                transform: translateY(10%);\n                opacity: 0.75;\n            }\n            100% {\n                transform: translateY(0);\n                opacity: 1;\n            }\n        }\n\n        @keyframes scale-up {\n            0% {\n                transform: scale(0.75);\n                opacity: 0.3;\n            }\n            75% {\n                transform: scale(0.9);\n                opacity: 0.75;\n            }\n            100% {\n                transform: scale(1);\n                opacity: 1;\n            }\n        }\n\n        .is-removing {\n            /*animation: fadeOut 0.25s forwards;*/\n            animation: scale-down 2s ease-out; /*cubic-bezier(.25,0,.3,1);*/\n        }\n\n        @keyframes scale-down {\n            0% {\n                transform: scale(1);\n                opacity: 1;\n            }\n            50% {\n                transform: scale(0.9);\n                opacity: 0.5;\n            }\n            100% {\n                transform: scale(0.75);\n                opacity: 0.15;\n            }\n        }\n\n        @keyframes fadeOut {\n            from {\n                opacity: 1;\n            }\n            to {\n                opacity: 0;\n                transform: translateY(-100%);\n            }\n        }\n    `;\n}\n\nexport function getButtonCSS() {\n    // language=css\n    return css`\n\n        button.button,\n        .button,\n        button.dt-button {\n            border: var(--dbp-border);\n            border-radius: var(--dbp-border-radius);\n            color: var(--dbp-content);\n            cursor: pointer;\n            justify-content: center;\n            padding-bottom: calc(0.375em - 1px);\n            padding-left: 0.75em;\n            padding-right: 0.75em;\n            padding-top: calc(0.375em - 1px);\n            text-align: center;\n            white-space: nowrap;\n            font-size: inherit;\n            font-weight: bolder;\n            font-family: inherit;\n            transition: all 0.15s ease 0s, color 0.15s ease 0s;\n            background: var(--dbp-secondary-surface);\n            color: var(--dbp-on-secondary-surface);\n            border-color: var(--dbp-secondary-surface-border-color);\n        }\n\n        button.button:hover:enabled,\n        .button:hover:enabled,\n        button.dt-button:hover:enabled,\n        button.dt-button:hover:not(.disabled) {\n            color: var(--dbp-hover-color, var(--dbp-on-secondary-surface));\n            background-color: var(--dbp-hover-background-color, var(--dbp-secondary-surface));\n            border-color: var(--dbp-hover-background-color, var(--dbp-secondary-surface-border-color));\n        }\n\n        button.button.is-small,\n        .button.is-small {\n            border-radius: calc(var(--dbp-border-radius) / 2);\n            font-size: 0.75rem;\n        }\n\n        button.button.is-icon, .button.is-icon {\n            border: none;\n            background: none;\n            padding: 0px;\n            width: var(--dbp-button-size, 40px);\n            height: var(--dbp-button-size, 40px);\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            color: currentColor;\n        }\n\n        button.button.is-icon dbp-icon, .button.is-icon dbp-icon, dbp-button-icon{\n            top: 0px;\n            font-size: 1.2em;\n        }\n\n        button.button.is-icon:hover:enabled,\n        .button.is-icon:hover:enabled {\n            background-color: var(--dbp-hover-background-color, unset);\n            color: var(--dbp-hover-color, currentColor);\n            border: 0 none;\n        }\n\n        button.button.is-primary,\n        .button.is-primary {\n            background-color: var(--dbp-primary-surface);\n            border-color: var(--dbp-primary-surface-border-color);\n            color: var(--dbp-on-primary-surface);\n        }\n\n        button.button.is-primary:hover:enabled,\n        .button.is-primary:hover:enabled {\n            background-color: var(--dbp-hover-background-color, var(--dbp-primary-surface));\n            color: var(--dbp-hover-color, var(--dbp-on-primary-surface));\n            border-color: var(--dbp-hover-background-color, var(--dbp-primary-surface-border-color));\n        }\n\n        button.button.is-secondary,\n        .button.is-secondary {\n            background-color: var(--dbp-secondary-surface);\n            color: var(--dbp-on-secondary-surface);\n            border-color: var(--dbp-secondary-surface-border-color);\n        }\n\n        button.button.is-secondary:hover:enabled,\n        .button.is-secondary:hover:enabled {\n            background-color: var(--dbp-hover-background-color, var(--dbp-secondary-surface));\n            color: var(--dbp-hover-color, var(--dbp-on-secondary-surface));\n            border-color: var(--dbp-hover-background-color, var(--dbp-secondary-surface-border-color));\n        }\n\n        button.button.is-info,\n        .button.is-info {\n            background-color: var(--dbp-info-surface);\n            color: var(--dbp-on-info-surface);\n            border-color: var(--dbp-info-surface-border-color);\n        }\n\n        button.button.is-info:hover:enabled,\n        .button.is-info:hover:enabled {\n            background-color: var(--dbp-hover-background-color, var(--dbp-info-surface));\n            color: var(--dbp-hover-color, var(--dbp-on-info-surface));\n            border-color: var(--dbp-hover-background-color, var(--dbp-info-surface-border-color));\n        }\n\n        button.button.is-success,\n        .button.is-success {\n            background-color: var(--dbp-success-surface);\n            border-color: var(--dbp-success-surface-border-color);\n            color: var(--dbp-on-success-surface);\n        }\n\n        button.button.is-success:hover:enabled,\n        .button.is-success:hover:enabled {\n            background-color: var(--dbp-hover-background-color, var(--dbp-success-surface));\n            color: var(--dbp-hover-color, var(--dbp-on-success-surface));\n            border-color: var(--dbp-hover-background-color,var(--dbp-success-surface-border-color));\n        }\n\n        button.button.is-warning,\n        .button.is-warning {\n            background-color: var(--dbp-warning-surface);\n            border-color: var(--dbp-warning-surface-border-color);\n            color: var(--dbp-on-warning-surface);\n        }\n\n        button.button.is-warning:hover:enabled,\n        .button.is-warning:hover:enabled {\n            background-color: var(--dbp-hover-background-color, var(--dbp-warning-surface));\n            color: var(--dbp-hover-color, var(--dbp-on-warning-surface));\n            border-color: var(--dbp-hover-background-color, var(--dbp-warning-surface-border-color));\n        }\n\n        .button.button.is-danger,\n        .button.is-danger {\n            background-color: var(--dbp-danger-surface);\n            border-color: var(--dbp-danger-surface-border-color);\n            color: var(--dbp-on-danger-surface);\n        }\n\n        .button.button.is-danger:hover:enabled,\n        .button.is-danger:hover:enabled {\n            background-color: var(--dbp-hover-background-color, var(--dbp-danger-surface));\n            color: var(--dbp-hover-color, var(--dbp-on-danger-surface));\n            border-color: var(--dbp-hover-background-color, var(--dbp-danger-surface-border-color));\n        }\n\n        button.button[disabled],\n        .button[disabled],\n        fieldset[disabled] .button {\n            opacity: 0.4;\n            cursor: not-allowed;\n        }\n\n        button:focus-visible {\n            outline: none !important;\n            outline-width: 0 !important;\n            box-shadow: none;\n            -moz-box-shadow: none;\n            -webkit-box-shadow: none;\n            box-shadow: 0px 0px 3px 1px var(--dbp-primary);\n        }\n    `;\n}\n\nexport function getRadioAndCheckboxCss() {\n    // language=css\n    return css`\n        /*\n        Radiobutton:\n            <label class=\"button-container\">\n                Labeltext\n                <input type=\"radio\" name=\"myradiobutton\">\n                <span class=\"radiobutton\"></span>\n            </label>\n\n        Checkbox:\n            <label class=\"button-container\">\n                Labeltext\n                <input type=\"checkbox\" name=\"mycheckbox\">\n                <span class=\"checkmark\"></span>\n            </label>\n         */\n\n        .button-container {\n            display: block;\n            position: relative;\n            padding-left: 35px;\n            cursor: pointer;\n            -webkit-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n        }\n\n        .button-container input[type='radio'],\n        .button-container input[type='checkbox'] {\n            position: absolute;\n            opacity: 0;\n            cursor: pointer;\n            height: 0;\n            width: 0;\n            left: 0px;\n        }\n\n        .checkmark {\n            position: absolute;\n            top: 0;\n            left: 0;\n            height: 21px;\n            width: 21px;\n            background-color: var(--dbp-background);\n            border-radius: 0px;\n            border: var(--dbp-border);\n        }\n\n        .radiobutton {\n            position: absolute;\n            top: 0;\n            left: 0;\n            height: 19px;\n            width: 19px;\n            background-color: var(--dbp-background);\n            border: solid;\n            border-radius: 100%;\n            border: var(--dbp-border);\n\n            box-sizing: content-box;\n        }\n\n        .button-container input[type='radio']:checked ~ .radiobutton:after {\n            border-color: var(--dbp-background);\n        }\n\n        .button-container input[type='radio']:disabled ~ .radiobutton {\n            border-color: var(--dbp-muted);\n            background-color: var(--dbp-muted);\n        }\n\n        .button-container input[type='radio']:checked:disabled ~ .radiobutton:after {\n            border-color: var(--dbp-muted);\n            background-color: var(--dbp-muted);\n        }\n\n        .radiobutton:after {\n            content: '';\n            position: absolute;\n            display: none;\n        }\n\n        .button-container input[type='radio']:checked ~ .radiobutton:after {\n            display: block;\n        }\n\n        .button-container .radiobutton:after {\n            left: 0px;\n            top: 0px;\n            width: 100%;\n            height: 100%;\n            background-color: var(--dbp-content);\n            border: none;\n            border-radius: 100%;\n            border: 2px solid var(--dbp-background);\n            box-sizing: border-box;\n        }\n\n        .button-container input[type='checkbox']:checked ~ .checkmark:after {\n            border-bottom: 1px solid var(--dbp-content);\n            border-right: 1px solid var(--dbp-content);\n            border-width: 0 2px 2px 0;\n        }\n\n        .button-container input[type='checkbox']:focus-visible ~ .checkmark {\n            outline: none !important;\n            outline-width: 0 !important;\n            box-shadow: none;\n            -moz-box-shadow: none;\n            -webkit-box-shadow: none;\n            box-shadow: 0px 0px 3px 1px var(--dbp-primary);\n        }\n\n        .button-container input[type='checkbox']:disabled ~ .checkmark {\n            border-color: var(--dbp-muted);\n            background-color: var(--dbp-muted);\n        }\n\n        .button-container input[type='checkbox']:checked:disabled ~ .checkmark:after {\n            border-color: var(--dbp-muted);\n        }\n\n        .checkmark:after {\n            content: '';\n            position: absolute;\n            display: none;\n        }\n\n        .button-container input[type='checkbox']:checked ~ .checkmark:after {\n            display: block;\n        }\n\n        .button-container .checkmark:after {\n            left: 8px;\n            top: 3px;\n            width: 5px;\n            height: 11px;\n            border: 1px solid var(--dbp-content);\n            border-width: 0 2px 2px 0;\n            -webkit-transform: rotate(45deg);\n            -ms-transform: rotate(45deg);\n            transform: rotate(45deg);\n        }\n\n        @media only screen and (orientation: portrait) and (max-width: 768px) {\n            .checkmark {\n                width: 30px;\n                height: 30px;\n                top: 5px;\n            }\n\n            .button-container{\n                line-height: 40px;\n            }\n\n            .button-container {\n                padding-left: 40px;\n            }\n\n            .button-container .checkmark::after {\n                left: 10px;\n                width: 10px;\n                height: 19px;\n            }\n\n            .button-container input[type=\"checkbox\"]:checked ~ .checkmark::after{\n                top: 1px;\n                left: 6px;\n                width: 5px;\n                height: 11px;\n            }\n\n            .button-container{\n                line-height: 1em;\n            }\n        }\n    `;\n}\n\nexport function getTagCSS() {\n    // language=css\n    return css`\n        .tags {\n            align-items: center;\n            display: flex;\n            flex-wrap: nowrap;\n            justify-content: flex-start;\n        }\n\n        .tags .tag {\n            margin-bottom: 0.5rem;\n        }\n\n        .tags .tag:not(:last-child) {\n            margin-right: 0.5rem;\n        }\n\n        .tags:last-child {\n            margin-bottom: -0.5rem;\n        }\n\n        .tags:not(:last-child) {\n            margin-bottom: 1rem;\n        }\n\n        .tags.are-medium .tag:not(.is-normal):not(.is-large) {\n            font-size: 1rem;\n        }\n\n        .tags.are-large .tag:not(.is-normal):not(.is-medium) {\n            font-size: 1.25rem;\n        }\n\n        .tags.is-centered {\n            justify-content: center;\n        }\n\n        .tags.is-centered .tag {\n            margin-right: 0.25rem;\n            margin-left: 0.25rem;\n        }\n\n        .tags.is-right {\n            justify-content: flex-end;\n        }\n\n        .tags.is-right .tag:not(:first-child) {\n            margin-left: 0.5rem;\n        }\n\n        .tags.is-right .tag:not(:last-child) {\n            margin-right: 0;\n        }\n\n        .tags.has-addons .tag {\n            margin-right: 0;\n        }\n\n        .tags.has-addons .tag:not(:first-child) {\n            margin-left: 0;\n            border-bottom-left-radius: 0;\n            border-top-left-radius: 0;\n        }\n\n        .tags.has-addons .tag:not(:last-child) {\n            border-bottom-right-radius: 0;\n            border-top-right-radius: 0;\n        }\n\n        .tag:not(body) {\n            align-items: center;\n            background-color: var(--dbp-muted);\n            border-radius: var(--dbp-border-radius);\n            color: var(--dbp-muted);\n            display: inline-flex;\n            font-size: 0.75rem;\n            height: 2em;\n            justify-content: center;\n            line-height: 1.5;\n            padding-left: 0.75em;\n            padding-right: 0.75em;\n            white-space: nowrap;\n        }\n\n        .tag:not(body) .delete {\n            margin-left: 0.25rem;\n            margin-right: -0.375rem;\n        }\n\n        .tag:not(body).is-dark {\n            background-color: var(--dbp-content-surface);\n            color: var(--dbp-on-content-surface);\n        }\n\n        .tag:not(body).is-light {\n            background-color: var(--dbp-background);\n            color: var(--dbp-content);\n        }\n\n        .tag:not(body).is-normal {\n            font-size: 0.75rem;\n        }\n\n        .tag:not(body).is-medium {\n            font-size: 1rem;\n        }\n\n        .tag:not(body).is-large {\n            font-size: 1.25rem;\n        }\n\n        .tag:not(body) .icon:first-child:not(:last-child) {\n            margin-left: -0.375em;\n            margin-right: 0.1875em;\n        }\n\n        .tag:not(body) .icon:last-child:not(:first-child) {\n            margin-left: 0.1875em;\n            margin-right: -0.375em;\n        }\n\n        .tag:not(body) .icon:first-child:last-child {\n            margin-left: -0.375em;\n            margin-right: -0.375em;\n        }\n\n        .tag:not(body).is-delete {\n            margin-left: 1px;\n            padding: 0;\n            position: relative;\n            width: 2em;\n        }\n\n        .tag:not(body).is-delete::before,\n        .tag:not(body).is-delete::after {\n            background-color: currentColor;\n            content: '';\n            display: block;\n            left: 50%;\n            position: absolute;\n            top: 50%;\n            -webkit-transform: translateX(-50%) translateY(-50%) rotate(45deg);\n            transform: translateX(-50%) translateY(-50%) rotate(45deg);\n            -webkit-transform-origin: center center;\n            transform-origin: center center;\n        }\n\n        .tag:not(body).is-delete::before {\n            height: 1px;\n            width: 50%;\n        }\n\n        .tag:not(body).is-delete::after {\n            height: 50%;\n            width: 1px;\n        }\n\n        .tag:not(body).is-delete:hover,\n        .tag:not(body).is-delete:focus {\n            background-color: var(--dbp-background);\n        }\n\n        .tag:not(body).is-delete:active {\n            background-color: var(--dbp-background);\n        }\n\n        .tag:not(body).is-rounded {\n            border-radius: 290486px;\n        }\n\n        a.tag:hover {\n            text-decoration: underline;\n        }\n    `;\n}\n\nexport function getDocumentationCSS() {\n    // language=css\n    return css`\n        .documentation h1,\n        .documentation h2,\n        .documentation h3 {\n            margin: 1em 0 0.8em 0;\n        }\n\n        .documentation p {\n            margin: 1em 0;\n        }\n\n        .documentation a {\n            border-bottom: 1px solid var(--dbp-muted-text-dark);\n            transition: background-color 0.15s, color 0.15s;\n        }\n\n        .documentation a:hover {\n            color: var(--dbp-hover-color, var(--dbp-content));\n            background-color: var(--dbp-hover-background-color);\n        }\n\n        .documentation ul,\n        .documentation ol,\n        .documentation li {\n            margin: inherit;\n            padding: inherit;\n        }\n\n        .documentation li > ul {\n            margin-left: 0.5em;\n        }\n    `;\n}\n\nexport function getSelect2CSS() {\n    // language=css\n    return css`\n        .select2-dropdown {\n            border-radius: var(--dbp-border-radius);\n        }\n\n        .select2-container--default .select2-selection--single {\n            border-radius: var(--dbp-border-radius);\n        }\n\n        .select2-container--default .select2-selection--single .select2-selection__rendered {\n            color: inherit;\n        }\n\n        .select2-container--default .select2-selection--single .select2-selection__clear {\n            font-size: 1.5em;\n            font-weight: 300;\n        }\n\n        .select2-container--default .select2-selection--single .select2-selection__placeholder {\n            color: var(--dbp-muted);\n        }\n\n        /* Work around single selections not wrapping and breaking responsivness */\n        .select2-container--default .select2-selection--single {\n            height: 100% !important;\n        }\n        .select2-container--default .select2-selection__rendered {\n            word-wrap: break-word !important;\n            text-overflow: inherit !important;\n            white-space: normal !important;\n        }\n\n        .select2-dropdown{\n            background-color: var(--dbp-background);\n        }\n\n        .select2-container--default .select2-selection--single, .select2-dropdown, .select2-container--default .select2-search--dropdown .select2-search__field {\n            background: var(--dbp-background);\n            color: var(--dbp-content);\n            border: var(--dbp-border);\n            border-color: var(--dbp-muted);\n        }\n    `;\n}\n\nexport function getModalDialogCSS() {\n    // language=css\n    return css`\n        /**************************\\\\\n          Modal Styles\n        \\\\**************************/\n\n        .modal-overlay {\n            position: fixed;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            z-index: 10000;\n        }\n\n        .modal-overlay::before {\n            content: '';\n            width: 100%;\n            height: 100%;\n            position: absolute;\n            left: 0;\n            background-color: var(--dbp-content-surface);\n            opacity: 0.6;\n        }\n\n        .modal-container {\n            background-color: var(--dbp-background);\n            max-width: 600px;\n            max-height: 100vh;\n            min-width: 60%;\n            min-height: 50%;\n            overflow-y: auto;\n            box-sizing: border-box;\n            display: grid;\n            height: 70%;\n            width: 70%;\n            position: relative;\n            border-radius: var(--dbp-border-radius);\n        }\n\n        .modal-close {\n            background: transparent;\n            border: none;\n            font-size: 1.5rem;\n            color: var(--dbp-accent);\n            cursor: pointer;\n            padding: 0px;\n        }\n\n        .modal-close .close-icon svg,\n        .close-icon {\n            pointer-events: none;\n        }\n\n        button.modal-close:focus {\n            outline: none;\n        }\n\n        /**************************\\\\\n          Modal Animation Style\n        \\\\**************************/\n        @keyframes mmfadeIn {\n            from {\n                opacity: 0;\n            }\n            to {\n                opacity: 1;\n            }\n        }\n\n        @keyframes mmfadeOut {\n            from {\n                opacity: 1;\n            }\n            to {\n                opacity: 0;\n            }\n        }\n\n        @keyframes mmslideIn {\n            from {\n                transform: translateY(15%);\n            }\n            to {\n                transform: translateY(0);\n            }\n        }\n\n        @keyframes mmslideOut {\n            from {\n                transform: translateY(0);\n            }\n            to {\n                transform: translateY(-10%);\n            }\n        }\n\n        .micromodal-slide {\n            display: none;\n        }\n\n        .micromodal-slide.is-open {\n            display: block;\n        }\n\n        .micromodal-slide[aria-hidden='false'] .modal-overlay {\n            animation: mmfadeIn 0.3s cubic-bezier(0, 0, 0.2, 1);\n        }\n\n        .micromodal-slide[aria-hidden='false'] .modal-container {\n            animation: mmslideIn 0.3s cubic-bezier(0, 0, 0.2, 1);\n        }\n\n        .micromodal-slide[aria-hidden='true'] .modal-overlay {\n            animation: mmfadeOut 0.3s cubic-bezier(0, 0, 0.2, 1);\n        }\n\n        .micromodal-slide[aria-hidden='true'] .modal-container {\n            animation: mmslideOut 0.3s cubic-bezier(0, 0, 0.2, 1);\n        }\n\n        .micromodal-slide .modal-container,\n        .micromodal-slide .modal-overlay {\n            will-change: transform;\n        }\n\n        @media only screen and (orientation: landscape) and (max-width: 768px) {\n            .modal-container {\n                width: 100%;\n                height: 100%;\n                max-width: 100%;\n            }\n\n            .micromodal-slide .modal-container {\n                height: 100%;\n                width: 100%;\n            }\n\n\n        }\n\n        @media only screen and (max-width: 768px) {\n            .modal-close {\n                width: 40px;\n                height: 40px;\n            }\n        }\n    `;\n}\n\nexport function getNativeModalDialogCSS() {\n    // language=css\n    return css`\n        :host {\n            font-size: var(--dbp-modal--font-size, 1rem);\n            --dbp-modal-animation: mmFadeIn;\n            --dbp-modal-title-font-size: 1rem;\n            --dbp-modal-title-font-weight: 300;\n        }\n\n        dialog:not([open]) {\n            pointer-events: none;\n            opacity: 0;\n        }\n\n        dialog[open] {\n            animation-name: var(--dbp-modal-animation);\n            animation-duration: 0.5s;\n            animation-fill-mode: forwards;\n        }\n\n        dialog {\n            min-width: var(--dbp-modal-min-width, 320px);\n            max-width: var(--dbp-modal-max-width, 75vw);\n            min-height: var(--dbp-modal-min-height, 200px);\n            max-height: var(--dbp-modal-max-height, 90vh);\n\n            overflow: hidden;\n            padding: var(--dbp-modal-padding-top, 15px) 20px 20px;\n            border: 0 none;\n            color: var(--dbp-content);\n            background-color: var(--dbp-background);\n            filter: drop-shadow(rgba(0, 0, 0, 0.3) 2px 4px 8px)\n                drop-shadow(rgba(0, 0, 0, 0.2) 4px 8px 16px)\n                drop-shadow(rgba(0, 0, 0, 0.1) 8px 16px 32px);\n\n            transition: height 5s ease-in-out;\n            transform: translateY(var(--dbp-modal-translate-y, 0));\n        }\n\n        .modal-container {\n            display: grid;\n            grid-template-columns: 1fr;\n            grid-template-rows: auto 1fr auto;\n            align-items: start;\n            min-height: var(--dbp-modal-min-height);\n            max-height: var(--dbp-modal-max-height, 90vh);\n        }\n\n        .modal-header {\n            height: var(--dbp-modal-header-height);\n        }\n\n        .modal-content {\n            position: relative;\n            overflow-y: auto;\n            max-height: 100%;\n            min-height: 100%;\n            height: 100%;\n        }\n\n        .modal-footer {\n            height: var(--dbp-modal-footer-height);\n        }\n\n        .header-top {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            padding: 0;\n            margin-bottom: 1em;\n        }\n\n        .modal-close {\n            background: transparent;\n            border: none;\n            font-size: 1.5rem;\n            color: var(--dbp-accent);\n            cursor: pointer;\n            padding: 0px;\n        }\n\n        .modal-close .close-icon svg,\n        .modal-close .close-icon {\n            pointer-events: none;\n        }\n\n        button.modal-close:focus {\n            filter: drop-shadow(rgba(255, 255, 255, 0.5), 1px 2px 4px);\n        }\n\n        .modal-title {\n            margin: 0;\n            padding: var(--dbp-modal-title-padding, 0.25em 0 0 0);\n            font-weight: var(--dbp-modal-title-font-weight, 300);\n            font-size: var(--dbp-modal-title-font-size, 1rem);\n            background: var(--dbp-modal-title-background);\n        }\n\n        ::slotted([slot='header']) {\n        }\n\n        ::slotted([slot='footer']) {\n        }\n\n        ::backdrop {\n            backdrop-filter: blur(5px);\n            transition: backdrop-filter 0.5s ease;\n            background: color-mix(in srgb, var(--dbp-background-color) 60%, transparent);\n        }\n\n        dialog + .backdrop {\n            /* polyfill */\n            backdrop-filter: blur(5px);\n            transition: backdrop-filter 0.5s ease;\n            background: color-mix(in srgb, var(--dbp-background-color) 60%, transparent);\n        }\n\n        @media only screen and (max-width: 490px) {\n            dialog {\n                max-width: none;\n            }\n        }\n\n        /**************************\\\\\n          Modal Animation Style\n        \\\\**************************/\n        @keyframes mmFadeIn {\n            from {\n                opacity: 0;\n            }\n            to {\n                opacity: 1;\n            }\n        }\n\n        @keyframes mmFadeOut {\n            from {\n                opacity: 1;\n            }\n            to {\n                opacity: 0;\n            }\n        }\n\n        @keyframes mmSlideIn {\n            from {\n                transform: translateY(15%);\n            }\n            to {\n                transform: translateY(0);\n            }\n        }\n\n        @keyframes mmSlideOut {\n            from {\n                transform: translateY(0);\n            }\n            to {\n                transform: translateY(-10%);\n            }\n        }\n    `;\n}\n\nexport function getTextUtilities() {\n    // language=css\n    return css`\n        .text-left {\n            text-align: left;\n        }\n\n        .text-center {\n            text-align: center;\n        }\n\n        .text-right {\n            text-align: right;\n        }\n\n        .text-lowercase {\n            text-transform: lowercase;\n        }\n\n        .text-uppercase {\n            text-transform: uppercase;\n        }\n\n        .text-capitalize {\n            text-transform: capitalize;\n        }\n    `;\n}\n\nexport function getActivityCSS() {\n    // language=css\n    return css`\n        h2:first-child {\n            margin-top: 0;\n            margin-bottom: 0px;\n        }\n\n        .subheadline {\n            font-style: italic;\n            padding-left: 2em;\n            margin-top: -1px;\n            /*line-height: 1.8;*/\n            margin-bottom: 1.2em;\n        }\n    `;\n}\n\nexport function getLinkCss() {\n    // language=css\n    return css`\n        .int-link-external,\n        .int-link-internal,\n        .link,\n        .link-without-hover {\n            border-bottom: var(--dbp-border);\n            border-color: var(--dbp-content);\n        }\n\n        .int-link-external:hover,\n        .int-link-internal:hover,\n        .link:hover {\n            color: var(--dbp-hover-color, var(--dbp-content));\n            border-color: var(--dbp-hover-color, var(--dbp-content));\n            background-color: var(--dbp-hover-background-color);\n        }\n\n        .int-link-external:after,\n        .int-link-internal:after,\n        .link:after,\n        .link-without-hover:after {\n            content: '\\\\00a0\\\\00a0\\\\00a0';\n            background-color: var(--dbp-content);\n            -webkit-mask-image: url('data:image/svg+xml;charset=utf-8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%0A%3Csvg%20version%3D%221.1%22%20id%3D%22Ebene_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%0A%09%20viewBox%3D%220%200%2022.7%2062.4%22%20style%3D%22enable-background%3Anew%200%200%2022.7%2062.4%3B%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cg%20transform%3D%22translate%28-382.21%20-336.98%29%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20d%3D%22M386.9%2C380.5c-0.2%2C0-0.4-0.1-0.6-0.3c-0.3-0.3-0.3-0.8%2C0.1-1.1l12.5-10.9l-12.5-10.9c-0.3-0.3-0.4-0.8-0.1-1.1%0A%09%09%09c0.3-0.3%2C0.8-0.4%2C1.1-0.1l13.1%2C11.5c0.2%2C0.2%2C0.3%2C0.4%2C0.3%2C0.6s-0.1%2C0.5-0.3%2C0.6l-13.1%2C11.5C387.3%2C380.4%2C387.1%2C380.5%2C386.9%2C380.5z%22%0A%09%09%09%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A');\n            mask-image: url('data:image/svg+xml;charset=utf-8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%0A%3Csvg%20version%3D%221.1%22%20id%3D%22Ebene_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%0A%09%20viewBox%3D%220%200%2022.7%2062.4%22%20style%3D%22enable-background%3Anew%200%200%2022.7%2062.4%3B%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cg%20transform%3D%22translate%28-382.21%20-336.98%29%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20d%3D%22M386.9%2C380.5c-0.2%2C0-0.4-0.1-0.6-0.3c-0.3-0.3-0.3-0.8%2C0.1-1.1l12.5-10.9l-12.5-10.9c-0.3-0.3-0.4-0.8-0.1-1.1%0A%09%09%09c0.3-0.3%2C0.8-0.4%2C1.1-0.1l13.1%2C11.5c0.2%2C0.2%2C0.3%2C0.4%2C0.3%2C0.6s-0.1%2C0.5-0.3%2C0.6l-13.1%2C11.5C387.3%2C380.4%2C387.1%2C380.5%2C386.9%2C380.5z%22%0A%09%09%09%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A');\n            -webkit-mask-repeat: no-repeat;\n            mask-repeat: no-repeat;\n            -webkit-mask-position: center -2px;\n            mask-position: center center;\n            margin: 0 0 0 4px;\n            padding: 0 0 0.25% 0;\n            -webkit-mask-size: 100%;\n            mask-size: 120%;\n        }\n\n        .int-link-external:hover::after,\n        .int-link-internal:hover::after,\n        .link:hover::after {\n            background-color: var(--dbp-hover-color, var(--dbp-content));\n        }\n    `;\n}\n","import {html, LitElement, css} from 'lit';\nimport {ScopedElementsMixin} from './scoped/ScopedElementsMixin.js';\nimport {ifDefined} from 'lit/directives/if-defined.js';\nimport {MiniSpinner} from './mini-spinner.js';\nimport {Icon} from './icon.js';\nimport * as commonStyles from './styles.js';\n\nclass DbpButton extends ScopedElementsMixin(LitElement) {\n    constructor() {\n        super();\n        this.value = '';\n        this.type = '';\n        this.loading = false;\n        this.disabled = false;\n\n        // https://bugs.chromium.org/p/chromium/issues/detail?id=1061240#c12\n        this.addEventListener('click', (e) => {\n            if (this.disabled) {\n                e.stopImmediatePropagation();\n            }\n        });\n    }\n\n    static get scopedElements() {\n        return {\n            'dbp-mini-spinner': MiniSpinner,\n        };\n    }\n\n    static get properties() {\n        return {\n            // value is deprecated, use the main slot instead\n            value: {type: String},\n            type: {type: String},\n            loading: {type: Boolean},\n            disabled: {type: Boolean, reflect: true},\n        };\n    }\n\n    start() {\n        this.loading = true;\n        this.disabled = true;\n    }\n\n    stop() {\n        this.loading = false;\n        this.disabled = false;\n    }\n\n    isDisabled() {\n        return this.disabled;\n    }\n}\n\n/**\n * dbp-button implements a button with Bulma styles and automatic spinner and\n * disabling if button is clicked\n *\n * Use the attribute \"no-spinner-on-click\" to disable the spinner, then you can\n * start it with start() and stop it with stop()\n *\n * Type can be is-primary/is-secondary/is-info/is-success/is-warning/is-danger\n */\nexport class Button extends DbpButton {\n    constructor() {\n        super();\n        this.spinner = false;\n        this.noSpinnerOnClick = false;\n\n        // https://bugs.chromium.org/p/chromium/issues/detail?id=1061240#c12\n        this.addEventListener('click', (e) => {\n            if (!this.noSpinnerOnClick) {\n                this.start();\n            }\n        });\n    }\n\n    connectedCallback() {\n        super.connectedCallback();\n    }\n\n    static get properties() {\n        return {\n            ...super.properties,\n            spinner: {type: Boolean},\n            noSpinnerOnClick: {type: Boolean, attribute: 'no-spinner-on-click'},\n        };\n    }\n\n    static get styles() {\n        // language=css\n        return css`\n            ${commonStyles.getThemeCSS()}\n            ${commonStyles.getButtonCSS()}\n\n            .spinner {\n                margin-left: 0.5em;\n            }\n\n            ::slotted(dbp-icon) {\n                transition: transform .25s ease-in-out;\n            }\n\n            button:hover ::slotted(dbp-icon){\n                transform: var(--icon-transform);\n            }\n        `;\n    }\n\n    render() {\n        return html`\n            <button\n                class=\"button ${this.type}\"\n                ?disabled=\"${this.disabled}\">\n                <slot>${this.value}</slot>\n                <dbp-mini-spinner\n                    class=\"spinner\"\n                    style=\"display: ${this.spinner ? 'inline' : 'none'}\"></dbp-mini-spinner>\n            </button>\n        `;\n    }\n}\n\nexport class LoadingButton extends DbpButton {\n    constructor() {\n        super();\n    }\n\n    static get styles() {\n        // language=css\n        return css`\n            ${commonStyles.getThemeCSS()}\n            ${commonStyles.getButtonCSS()}\n\n            .spinner {\n                padding-left: 0.5em;\n                min-width: 16px;\n            }\n\n            .loading-container {\n                display: flex;\n                align-items: baseline;\n            }\n\n            .label {\n                white-space: nowrap;\n                overflow: hidden;\n                text-overflow: ellipsis;\n            }\n\n            :host {\n                display: inline-block;\n            }\n\n            .is-not-loading .label {\n                padding-left: 12px;\n                padding-right: 12px;\n            }\n\n            .button {\n                width: 100%;\n            }\n\n            ::slotted(dbp-icon) {\n                transition: transform .25s ease-in-out;\n            }\n\n            button:hover ::slotted(dbp-icon){\n                transform: var(--icon-transform);\n            }\n\n            @media only screen and (orientation: portrait) and (max-width: 768px) {\n                .button {\n                    min-height: 36px;\n                }\n\n                .label {\n                    margin: auto;\n                }\n            }\n        `;\n    }\n\n    render() {\n        return html`\n            <button\n                class=\"button ${this.type} loading-container ${!this.loading\n                    ? 'is-not-loading'\n                    : ''}\"\n                ?disabled=\"${this.disabled}\">\n                <div class=\"label\"><slot>${this.value}</slot></div>\n                <dbp-mini-spinner\n                    class=\"spinner\"\n                    style=\"display: ${this.loading ? 'inline' : 'none'}\"></dbp-mini-spinner>\n            </button>\n        `;\n    }\n}\n\nexport class IconButton extends ScopedElementsMixin(LitElement) {\n    constructor() {\n        super();\n        this.iconName = '';\n        this.disabled = false;\n        this.loading = false;\n        this.ariaLabel = undefined;\n    }\n\n    static get scopedElements() {\n        return {\n            'dbp-icon': Icon,\n            'dbp-mini-spinner': MiniSpinner\n        };\n    }\n\n    static get properties() {\n        return {\n            ...super.properties,\n            iconName: {type: String, attribute: 'icon-name'},\n            ariaLabel: {type: String, attribute: 'aria-label', reflect: true},\n            disabled: {type: Boolean, reflect: true},\n            loading: {type: Boolean},\n        };\n    }\n\n    start() {\n        this.loading = true;\n        this.disabled = true;\n    }\n\n    stop() {\n        this.loading = false;\n        this.disabled = false;\n    }\n\n    static get styles() {\n        // language=css\n        return css`\n            ${commonStyles.getThemeCSS()}\n            ${commonStyles.getButtonCSS()}\n\n            :host{\n                display: inline-block;\n                font-size: 1.2rem;\n            }\n\n            .spinner {\n                padding-left: 0.5em;\n                min-width: 16px;\n            }\n\n            .loading-container {\n                display: flex;\n                align-items: baseline;\n            }\n\n            .label {\n                white-space: nowrap;\n                overflow: hidden;\n                text-overflow: ellipsis;\n            }\n\n            .button {\n                width: 100%;\n            }\n\n            ::slotted(dbp-icon) {\n                transition: transform .25s ease-in-out;\n            }\n\n            button:hover ::slotted(dbp-icon){\n                transform: var(--icon-transform);\n            }\n\n            @media only screen and (orientation: portrait) and (max-width: 768px) {\n                .button {\n                    min-height: 36px;\n                }\n\n                .label {\n                    margin: auto;\n                }\n            }\n        `;\n    }\n\n    render() {\n        return html`\n            <button\n                class=\"button is-icon loading-container ${!this.loading ? 'is-not-loading': ''}\"\n                ?disabled=\"${this.disabled}\"\n                aria-label=\"${ifDefined(this.ariaLabel ? this.ariaLabel : undefined)}\">\n                <slot><dbp-icon\n                        class=\"dbp-button-icon\"\n                        name=\"${this.iconName}\"\n                        aria-hidden=\"true\"\n                        style=\"display: ${this.loading ? 'none' : 'inline'}\"></dbp-icon></slot>\n                <dbp-mini-spinner\n                    class=\"spinner\"\n                    aria-hidden=\"true\"\n                    style=\"display: ${this.loading ? 'inline' : 'none'}\"></dbp-mini-spinner>\n            </button>\n        `;\n    }\n}\n","class LoggerType {\n    get debug() {\n        if (window.location.hash.includes('debug')) {\n            return console.debug;\n        } else {\n            return () => {};\n        }\n    }\n}\n\nexport const Logger = new LoggerType();\n","import {LitElement} from 'lit';\nimport {Logger} from './logger';\n\nexport class AdapterLitElement extends LitElement {\n    constructor() {\n        super();\n        this.connected = false;\n        this.deferSubscribe = false;\n        this.deferUnSubscribe = false;\n        // attributes (if they exist) will be updated if a property is changed by \"subscribe\"\n        this.reflectAttribute = true;\n\n        // default values\n        this.subscribe = '';\n        this.unsubscribe = '';\n\n        this.callbackStore = [];\n\n        // Previously we used direct properties like this[\"lang\"] (instead of this.propertyStore[\"lang\"]) for storing the\n        // properties, but the \"lang\" property seems to be updated before the event from the MutationObserver, so we\n        // cannot observe a value change directly (as workaround we use another property (e.g. \"langValue\") instead of \"lang\")\n        this.propertyStore = {};\n\n        // We need to store our own \"last values\" because we cannot be sure what the MutationObserver detects\n        this.lastProperties = {};\n\n        Logger.debug('AdapterLitElement(' + this.tagName + ') constructor()');\n    }\n\n    getProperty(name) {\n        return this.propertyStore[name];\n    }\n\n    getPropertyByAttributeName(name) {\n        return this[this.findPropertyName(name)];\n    }\n\n    setPropertyByAttributeName(name, value) {\n        this[this.findPropertyName(name)] = value;\n    }\n\n    setProperty(name, value) {\n        // TODO: check if lit attribute really present?\n        if (typeof value === 'object' && value !== null) {\n            // Logger.debug(\"value is object\", value);\n            this.setPropertyByAttributeName(name, value);\n        } else {\n            this.attributeChangedCallback(name, this.getPropertyByAttributeName(name), value);\n        }\n\n        this.lastProperties[name] = value;\n        this.propertyStore[name] = value;\n    }\n\n    hasPropertyChanged(name, value) {\n        return this.lastProperties[name] !== value;\n    }\n\n    hasProperty(name) {\n        // return this.hasAttribute(\"name\")\n        return Object.hasOwnProperty.call(this.propertyStore, name);\n    }\n\n    connectedCallback() {\n        super.connectedCallback();\n\n        if (this.deferUnSubscribe) {\n            const attrs = this.unsubscribe.split(',');\n            attrs.forEach((element) => this.unSubscribeProviderFor(element));\n            this.deferSubscribe = false;\n            this.unsubscribe = '';\n        }\n\n        if (this.deferSubscribe) {\n            const attrs = this.subscribe.split(',');\n            attrs.forEach((element) => this.subscribeProviderFor(element));\n            this.deferSubscribe = false;\n        }\n\n        this.connected = true;\n\n        const that = this;\n\n        this.addEventListener(\n            'dbp-subscribe',\n            function (e) {\n                const name = e.detail.name;\n                if (that.hasProperty(name) || that.providerRoot) {\n                    Logger.debug(\n                        'AdapterLitElementProvider(' +\n                            that.tagName +\n                            ') eventListener(\"dbp-subscribe\",..) name \"' +\n                            name +\n                            '\" found.'\n                    );\n                    that.callbackStore.push({\n                        name: name,\n                        callback: e.detail.callback,\n                        sender: e.detail.sender,\n                    });\n\n                    e.detail.callback(that.getProperty(name));\n                    e.stopPropagation();\n                }\n            },\n            false\n        );\n\n        this.addEventListener(\n            'dbp-unsubscribe',\n            function (e) {\n                const name = e.detail.name;\n                const sender = e.detail.sender;\n                if (that.hasProperty(name) || that.providerRoot) {\n                    Logger.debug(\n                        'AdapterLitElementProvider(' +\n                            that.tagName +\n                            ') eventListener(\"dbp-unsubscribe\",..) name \"' +\n                            name +\n                            '\" found.'\n                    );\n                    that.callbackStore.forEach((item) => {\n                        if (item.sender === sender && item.name === name) {\n                            const index = that.callbackStore.indexOf(item);\n                            that.callbackStore.splice(index, 1);\n                            Logger.debug(\n                                'AdapterLitElementProvider(' +\n                                    that.tagName +\n                                    ') eventListener for name \"' +\n                                    name +\n                                    '\" removed.'\n                            );\n                        }\n                    });\n\n                    e.stopPropagation();\n                }\n            },\n            false\n        );\n\n        // listen to property changes\n        this.addEventListener(\n            'dbp-set-property',\n            function (e) {\n                const name = e.detail.name;\n                const value = e.detail.value;\n\n                if (that.hasProperty(name) || that.providerRoot) {\n                    Logger.debug(\n                        'AdapterLitElementProvider(' +\n                            that.tagName +\n                            ') eventListener(\"dbp-set-property\",..) name \"' +\n                            name +\n                            '\" found.'\n                    );\n                    that.setProperty(name, value);\n\n                    that.callbackStore.forEach((item) => {\n                        if (item.name === name) {\n                            item.callback(value);\n                        }\n                    });\n\n                    e.stopPropagation();\n                }\n            },\n            false\n        );\n\n        // Options for the observer (which mutations to observe)\n        const config = {attributes: true, childList: false, subtree: false};\n\n        // Callback function to execute when mutations are observed\n        const callback = function (mutationsList, observer) {\n            // Use traditional 'for loops' for IE 11\n            for (const mutation of mutationsList) {\n                if (mutation.type === 'attributes') {\n                    const name = mutation.attributeName;\n                    const value = that.getAttribute(name);\n\n                    if (that.hasPropertyChanged(name, value)) {\n                        Logger.debug(\n                            'AdapterLitElementProvider (' +\n                                that.tagName +\n                                ') observed attribute \"' +\n                                name +\n                                '\" changed'\n                        );\n                        that.setProperty(name, value);\n\n                        that.callbackStore.forEach((item) => {\n                            if (item.name === name) {\n                                item.callback(value);\n                            }\n                        });\n                    }\n                }\n            }\n        };\n\n        // Create an observer instance linked to the callback function\n        const observer = new MutationObserver(callback);\n\n        // Start observing the target node for configured mutations\n        observer.observe(this, config);\n\n        // get all *not observed* attributes\n        if (this.hasAttributes()) {\n            const attrs = this.attributes;\n            for (let i = attrs.length - 1; i >= 0; i--) {\n                if (['id', 'class', 'style', 'data-tag-name'].includes(attrs[i].name)) {\n                    continue;\n                }\n\n                this.setProperty(attrs[i].name, attrs[i].value);\n                Logger.debug(\n                    'AdapterLitElementProvider (' +\n                        that.tagName +\n                        ') found attribute \"' +\n                        attrs[i].name +\n                        '\" = \"' +\n                        attrs[i].value +\n                        '\"'\n                );\n            }\n        }\n    }\n\n    disconnectedCallback() {\n        const attrs = this.subscribe.split(',');\n        attrs.forEach((element) => this.unSubscribeProviderFor(element));\n\n        super.disconnectedCallback();\n    }\n\n    subscribeProviderFor(element) {\n        Logger.debug(\n            'AdapterLitElement(' + this.tagName + ') subscribeProviderFor( ' + element + ' )'\n        );\n        const pair = element.trim().split(':');\n        const local = pair[0];\n        const global = pair[1] || local;\n        const that = this;\n        const event = new CustomEvent('dbp-subscribe', {\n            bubbles: true,\n            composed: true,\n            detail: {\n                name: global,\n                callback: (value) => {\n                    // Don't send back \"undefined\" if the attribute wasn't found (for example if the providerRoot\n                    // is used and the attribute was subscribed but not set anywhere), because that will be\n                    // interpreted as \"true\" for Boolean lit-element attributes!\n                    if (value === undefined) {\n                        return;\n                    }\n\n                    Logger.debug(\n                        'AdapterLitElement(' +\n                            that.tagName +\n                            ') sub/Callback ' +\n                            global +\n                            ' -> ' +\n                            local +\n                            ' = ' +\n                            value\n                    );\n\n                    // If value is an object set it directly as property\n                    if (typeof value === 'object' && value !== null) {\n                        // Logger.debug(\"value is object\", value);\n                        that.setPropertyByAttributeName(local, value);\n                    } else {\n                        // Logger.debug(\"local, that.getPropertyByAttributeName(local), value\", local, that.getPropertyByAttributeName(local), value);\n                        that.attributeChangedCallback(\n                            local,\n                            that.getPropertyByAttributeName(local),\n                            value\n                        );\n\n                        // check if an attribute also exists in the tag\n                        if (that.getAttribute(local) !== null) {\n                            // we don't support attributes and provider values at the same time\n                            console.warn(\n                                'Provider callback: \"' +\n                                    local +\n                                    '\" is also an attribute in tag \"' +\n                                    that.tagName +\n                                    '\", this is not supported!'\n                            );\n\n                            // update attribute if reflectAttribute is enabled\n                            if (that.reflectAttribute) {\n                                that.setAttribute(local, value);\n                            }\n                        }\n                    }\n                },\n                sender: this,\n            },\n        });\n        this.dispatchEvent(event);\n    }\n\n    unSubscribeProviderFor(element) {\n        Logger.debug(\n            'AdapterLitElement(' + this.tagName + ') unSubscribeProviderFor( ' + element + ' )'\n        );\n        const pair = element.trim().split(':');\n        const global = pair[1] || pair[0];\n        const event = new CustomEvent('dbp-unsubscribe', {\n            bubbles: true,\n            composed: true,\n            detail: {\n                name: global,\n                sender: this,\n            },\n        });\n        this.dispatchEvent(event);\n    }\n\n    static get properties() {\n        return {\n            ...super.properties,\n            subscribe: {type: String},\n            unsubscribe: {type: String},\n            providerRoot: {type: Boolean, attribute: 'provider-root'},\n        };\n    }\n\n    findPropertyName(attributeName) {\n        let resultName = attributeName;\n        const properties = this.constructor.properties;\n        // Logger.debug(\"properties\", properties);\n\n        for (const propertyName in properties) {\n            // Logger.debug(\"findPropertyName\", `${propertyName}: ${properties[propertyName]}`);\n            const attribute = properties[propertyName].attribute;\n            if (attribute === attributeName) {\n                resultName = propertyName;\n                break;\n            }\n        }\n\n        return resultName;\n    }\n\n    attributeChangedCallback(name, oldValue, newValue) {\n        switch (name) {\n            case 'subscribe':\n                Logger.debug(\n                    'AdapterLitElement() attributeChangesCallback( ' +\n                        name +\n                        ', ' +\n                        oldValue +\n                        ', ' +\n                        newValue +\n                        ')'\n                );\n\n                if (this.subscribe && this.subscribe.length > 0) {\n                    if (this.connected) {\n                        const attrs = this.subscribe.split(',');\n                        attrs.forEach((element) => this.unSubscribeProviderFor(element));\n                    } else {\n                        this.deferUnSubscribe = this.subscribe.length > 0;\n                        this.unsubscribe = this.subscribe;\n                    }\n                }\n\n                if (newValue !== null) {\n                    this.subscribe = newValue;\n                    if (this.connected) {\n                        const attrs = newValue.split(',');\n                        attrs.forEach((element) => this.subscribeProviderFor(element));\n                    } else {\n                        this.deferSubscribe = newValue && newValue.length > 0;\n                    }\n                }\n                break;\n            default:\n                // The function should not be called if oldValue is an object, oldValue and newValue are empty\n                // or if newValue is empty but name and oldValue are set\n                // This should prevent 'Uncaught SyntaxError: JSON.parse unexpected end of data at line 1 column 1 of the JSON data'\n                if (\n                    (typeof oldValue === 'object' && !oldValue && !newValue) ||\n                    (!newValue && oldValue && name)\n                ) {\n                    // Logger.debug(\"attributeChangedCallback ignored\", name, oldValue, newValue);\n                    break;\n                }\n                super.attributeChangedCallback(name, oldValue, newValue);\n        }\n\n        // Logger.debug(\"this.lang\", this.tagName, name, this.lang);\n        // Logger.debug(\"this.entryPointUrl\", this.tagName, name, this.entryPointUrl);\n        // console.trace();\n    }\n\n    /**\n     * Send a dbp-set-property event to the provider components\n     *\n     * @param name\n     * @param value\n     * @param sendToSelf Set this to \"true\" if the event should  be sent to oneself instead of the parent (e.g. in the app shell if there isn't a provider around it)\n     * @returns {boolean}\n     */\n    sendSetPropertyEvent(name, value, sendToSelf = false) {\n        // Logger.debug(\"dbp-set-property\", name, value);\n\n        const event = new CustomEvent('dbp-set-property', {\n            bubbles: true,\n            composed: true,\n            detail: {name: name, value: value},\n        });\n\n        // dispatch the dbp-set-property event to the parent (if there is any) so that the current element\n        // doesn't terminate the event if it has the attribute set itself\n        const element = this.parentElement && !sendToSelf ? this.parentElement : this;\n\n        return element.dispatchEvent(event);\n    }\n\n    // update(changedProperties) {\n    //     changedProperties.forEach((oldValue, propName) => {\n    //         switch(propName) {\n    //             case 'subscribe':\n    //                 if (this.subscribe && this.subscribe.length > 0) {\n    //                     if (this.connected) {\n    //                         const attrs = this.subscribe.split(',');\n    //                         attrs.forEach(element => this.unSubscribeProviderFor(element));\n    //                     } else {\n    //                         this.deferUnSubscribe = this.subscribe.length > 0;\n    //                         this.unsubscribe = this.subscribe;\n    //                     }\n    //                 }\n    //                 if (this.subscribe !== null) {\n    //                     if (this.connected) {\n    //                         const attrs = this.subscribe.split(',');\n    //                         attrs.forEach(element => this.subscribeProviderFor(element));\n    //                     } else {\n    //                         this.deferSubscribe = this.subscribe && this.subscribe.length > 0;\n    //                     }\n    //                 }\n    //                 break;\n    //         }\n    //     });\n    //\n    //     super.update(changedProperties);\n    // }\n}\n","import {AdapterLitElement} from './adapter-lit-element.js';\nimport {_parseUrlComponents} from './internal.js';\n\nexport default class DBPLitElement extends AdapterLitElement {\n    constructor() {\n        super();\n        this.htmlOverrides = '';\n        this._localTemplateSlotsImported = false;\n        this._globalSlotsContainer = null;\n        this._globalTemplateSlotsImported = false;\n        this._renderDone = false;\n        this.routingUrl = '';\n    }\n\n    static get properties() {\n        return {\n            ...super.properties,\n            htmlOverrides: {type: String, attribute: 'html-overrides'},\n            routingUrl: {type: String, attribute: 'routing-url'},\n        };\n    }\n\n    disconnectedCallback() {\n        super.disconnectedCallback();\n\n        if (this._globalSlotsContainer !== null) {\n            this._globalSlotsContainer.remove();\n        }\n    }\n\n    _(selector) {\n        return this.shadowRoot === null\n            ? this.querySelector(selector)\n            : this.shadowRoot.querySelector(selector);\n    }\n\n    _a(selector) {\n        return this.shadowRoot === null\n            ? this.querySelectorAll(selector)\n            : this.shadowRoot.querySelectorAll(selector);\n    }\n\n    firstUpdated() {\n        super.firstUpdated();\n        this._renderDone = true;\n        this._importTemplateSlots();\n    }\n\n    update(changedProperties) {\n        changedProperties.forEach((oldValue, propName) => {\n            switch (propName) {\n                case 'html-overrides':\n                    this._importTemplateSlots();\n                    break;\n            }\n        });\n\n        super.update(changedProperties);\n    }\n\n    /**\n     * Transforms all global override templates or named template slots in the light DOM to named div slots\n     * on the first render.\n     *\n     * Global overrides will replace all existing slotted elements with the same slot name.\n     */\n    _importTemplateSlots() {\n        if (!this._renderDone) {\n            return;\n        }\n        this._importLocalTemplateSlots();\n        this._importGlobalTemplateSlots();\n    }\n\n    _importLocalTemplateSlots() {\n        if (this._localTemplateSlotsImported) {\n            return;\n        }\n\n        // Now extract slots from templates contained in the light dom\n        let lightTemplateSlots = this.querySelectorAll(':scope > template[slot]:not([slot=\"\"]');\n        for (let templateElem of lightTemplateSlots) {\n            // create a slot div container to put in the cloned template content\n            const divElem = document.createElement('div');\n            divElem.slot = templateElem.getAttribute('slot');\n            divElem.appendChild(templateElem.content.cloneNode(true));\n            // remove the old template\n            templateElem.remove();\n            // put the slot div container with the cloned template in the light DOM\n            this.appendChild(divElem);\n        }\n\n        this._localTemplateSlotsImported = true;\n    }\n\n    _importGlobalTemplateSlots() {\n        if (this.htmlOverrides === '' || this._globalTemplateSlotsImported) {\n            return;\n        }\n\n        // First add global override templates as light dom slots\n        let globalOverrideTemplateElem = document.querySelector('template#' + this.htmlOverrides);\n        if (globalOverrideTemplateElem !== null) {\n            // we need to clone the element so we can access the content\n            const overrideTemplateElemClone = globalOverrideTemplateElem.content.cloneNode(true);\n            const templateOverrideElem = overrideTemplateElemClone.querySelector(\n                'template#' + this.tagName.toLowerCase()\n            );\n            if (templateOverrideElem !== null) {\n                const templateOverrideElemClone = templateOverrideElem.content.cloneNode(true);\n\n                // Find all slots which are direct children (somehow :scope doesn't work here so check parentNode)\n                let globalTemplateSlots = [];\n                for (let e of templateOverrideElemClone.querySelectorAll('[slot]:not([slot=\"\"]')) {\n                    if (e.parentNode === templateOverrideElemClone) {\n                        globalTemplateSlots.push(e);\n                    }\n                }\n\n                // Global overrides will replace local ones.\n                // Either normal slotted elements or the ones we create from templates.\n                for (let slotElem of globalTemplateSlots) {\n                    for (let elm of this.querySelectorAll('[slot=\"' + slotElem.slot + '\"]')) {\n                        elm.remove();\n                    }\n                }\n\n                // Create a dummy node and add it to the the same shadow root the templates are from\n                // By adding it into the template we have the nice side effect that it is not visible\n                let container = document.createElement('div');\n                globalOverrideTemplateElem.append(container);\n                this._globalSlotsContainer = container;\n                for (let slotElem of globalTemplateSlots) {\n                    container.appendChild(slotElem);\n                }\n\n                // Now move the slots into the light dom of the target.\n                // The parent node in the other shadow root has to stay around for this to work\n                while (container.childNodes.length) {\n                    this.appendChild(container.removeChild(container.childNodes[0]));\n                }\n            }\n        }\n\n        this._globalTemplateSlotsImported = true;\n    }\n\n    getRoutingData() {\n        return _parseUrlComponents(this.routingUrl);\n    }\n\n}\n","export function _parseUrlComponents(url) {\n    // Create a URL object to leverage built-in parsing\n    const parsedUrl = new URL(url, 'https://example.com');\n\n    return {\n        // Pathname (everything before query and hash)\n        pathname: parsedUrl.pathname,\n\n        // Path segments (split pathname into individual segments)\n        pathSegments: parsedUrl.pathname\n            .split('/')\n            .filter(segment => segment !== '')\n            .map(segment => decodeURIComponent(segment)),\n\n        // Query parameters as an object\n        queryParams: parsedUrl.searchParams,\n\n        // Raw query string (including the '?')\n        queryString: parsedUrl.search,\n\n        // Hash/fragment (including the '#')\n        hash: parsedUrl.hash,\n\n        // Hash/fragment without the '#' symbol\n        fragment: parsedUrl.hash.replace(/^#/, '')\n    };\n}","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},e=t=>(...e)=>({_$litDirective$:t,values:e});class i{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,i){this._$Ct=t,this._$AM=e,this._$Ci=i}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}export{i as Directive,t as PartType,e as directive};\n//# sourceMappingURL=directive.js.map\n","import{nothing as t,noChange as i}from\"../lit-html.js\";import{Directive as r,PartType as s,directive as n}from\"../directive.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */class e extends r{constructor(i){if(super(i),this.it=t,i.type!==s.CHILD)throw Error(this.constructor.directiveName+\"() can only be used in child bindings\")}render(r){if(r===t||null==r)return this._t=void 0,this.it=r;if(r===i)return r;if(\"string\"!=typeof r)throw Error(this.constructor.directiveName+\"() called with a non-string value\");if(r===this.it)return this._t;this.it=r;const s=[r];return s.raw=s,this._t={_$litType$:this.constructor.resultType,strings:s,values:[]}}}e.directiveName=\"unsafeHTML\",e.resultType=1;const o=n(e);export{e as UnsafeHTMLDirective,o as unsafeHTML};\n//# sourceMappingURL=unsafe-html.js.map\n","const isString = obj => typeof obj === 'string';\nconst defer = () => {\n  let res;\n  let rej;\n  const promise = new Promise((resolve, reject) => {\n    res = resolve;\n    rej = reject;\n  });\n  promise.resolve = res;\n  promise.reject = rej;\n  return promise;\n};\nconst makeString = object => {\n  if (object == null) return '';\n  return '' + object;\n};\nconst copy = (a, s, t) => {\n  a.forEach(m => {\n    if (s[m]) t[m] = s[m];\n  });\n};\nconst lastOfPathSeparatorRegExp = /###/g;\nconst cleanKey = key => key && key.indexOf('###') > -1 ? key.replace(lastOfPathSeparatorRegExp, '.') : key;\nconst canNotTraverseDeeper = object => !object || isString(object);\nconst getLastOfPath = (object, path, Empty) => {\n  const stack = !isString(path) ? path : path.split('.');\n  let stackIndex = 0;\n  while (stackIndex < stack.length - 1) {\n    if (canNotTraverseDeeper(object)) return {};\n    const key = cleanKey(stack[stackIndex]);\n    if (!object[key] && Empty) object[key] = new Empty();\n    if (Object.prototype.hasOwnProperty.call(object, key)) {\n      object = object[key];\n    } else {\n      object = {};\n    }\n    ++stackIndex;\n  }\n  if (canNotTraverseDeeper(object)) return {};\n  return {\n    obj: object,\n    k: cleanKey(stack[stackIndex])\n  };\n};\nconst setPath = (object, path, newValue) => {\n  const {\n    obj,\n    k\n  } = getLastOfPath(object, path, Object);\n  if (obj !== undefined || path.length === 1) {\n    obj[k] = newValue;\n    return;\n  }\n  let e = path[path.length - 1];\n  let p = path.slice(0, path.length - 1);\n  let last = getLastOfPath(object, p, Object);\n  while (last.obj === undefined && p.length) {\n    e = `${p[p.length - 1]}.${e}`;\n    p = p.slice(0, p.length - 1);\n    last = getLastOfPath(object, p, Object);\n    if (last?.obj && typeof last.obj[`${last.k}.${e}`] !== 'undefined') {\n      last.obj = undefined;\n    }\n  }\n  last.obj[`${last.k}.${e}`] = newValue;\n};\nconst pushPath = (object, path, newValue, concat) => {\n  const {\n    obj,\n    k\n  } = getLastOfPath(object, path, Object);\n  obj[k] = obj[k] || [];\n  obj[k].push(newValue);\n};\nconst getPath = (object, path) => {\n  const {\n    obj,\n    k\n  } = getLastOfPath(object, path);\n  if (!obj) return undefined;\n  if (!Object.prototype.hasOwnProperty.call(obj, k)) return undefined;\n  return obj[k];\n};\nconst getPathWithDefaults = (data, defaultData, key) => {\n  const value = getPath(data, key);\n  if (value !== undefined) {\n    return value;\n  }\n  return getPath(defaultData, key);\n};\nconst deepExtend = (target, source, overwrite) => {\n  for (const prop in source) {\n    if (prop !== '__proto__' && prop !== 'constructor') {\n      if (prop in target) {\n        if (isString(target[prop]) || target[prop] instanceof String || isString(source[prop]) || source[prop] instanceof String) {\n          if (overwrite) target[prop] = source[prop];\n        } else {\n          deepExtend(target[prop], source[prop], overwrite);\n        }\n      } else {\n        target[prop] = source[prop];\n      }\n    }\n  }\n  return target;\n};\nconst regexEscape = str => str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\nvar _entityMap = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;',\n  '/': '&#x2F;'\n};\nconst escape = data => {\n  if (isString(data)) {\n    return data.replace(/[&<>\"'\\/]/g, s => _entityMap[s]);\n  }\n  return data;\n};\nclass RegExpCache {\n  constructor(capacity) {\n    this.capacity = capacity;\n    this.regExpMap = new Map();\n    this.regExpQueue = [];\n  }\n  getRegExp(pattern) {\n    const regExpFromCache = this.regExpMap.get(pattern);\n    if (regExpFromCache !== undefined) {\n      return regExpFromCache;\n    }\n    const regExpNew = new RegExp(pattern);\n    if (this.regExpQueue.length === this.capacity) {\n      this.regExpMap.delete(this.regExpQueue.shift());\n    }\n    this.regExpMap.set(pattern, regExpNew);\n    this.regExpQueue.push(pattern);\n    return regExpNew;\n  }\n}\nconst chars = [' ', ',', '?', '!', ';'];\nconst looksLikeObjectPathRegExpCache = new RegExpCache(20);\nconst looksLikeObjectPath = (key, nsSeparator, keySeparator) => {\n  nsSeparator = nsSeparator || '';\n  keySeparator = keySeparator || '';\n  const possibleChars = chars.filter(c => nsSeparator.indexOf(c) < 0 && keySeparator.indexOf(c) < 0);\n  if (possibleChars.length === 0) return true;\n  const r = looksLikeObjectPathRegExpCache.getRegExp(`(${possibleChars.map(c => c === '?' ? '\\\\?' : c).join('|')})`);\n  let matched = !r.test(key);\n  if (!matched) {\n    const ki = key.indexOf(keySeparator);\n    if (ki > 0 && !r.test(key.substring(0, ki))) {\n      matched = true;\n    }\n  }\n  return matched;\n};\nconst deepFind = function (obj, path) {\n  let keySeparator = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '.';\n  if (!obj) return undefined;\n  if (obj[path]) {\n    if (!Object.prototype.hasOwnProperty.call(obj, path)) return undefined;\n    return obj[path];\n  }\n  const tokens = path.split(keySeparator);\n  let current = obj;\n  for (let i = 0; i < tokens.length;) {\n    if (!current || typeof current !== 'object') {\n      return undefined;\n    }\n    let next;\n    let nextPath = '';\n    for (let j = i; j < tokens.length; ++j) {\n      if (j !== i) {\n        nextPath += keySeparator;\n      }\n      nextPath += tokens[j];\n      next = current[nextPath];\n      if (next !== undefined) {\n        if (['string', 'number', 'boolean'].indexOf(typeof next) > -1 && j < tokens.length - 1) {\n          continue;\n        }\n        i += j - i + 1;\n        break;\n      }\n    }\n    current = next;\n  }\n  return current;\n};\nconst getCleanedCode = code => code?.replace('_', '-');\n\nconst consoleLogger = {\n  type: 'logger',\n  log(args) {\n    this.output('log', args);\n  },\n  warn(args) {\n    this.output('warn', args);\n  },\n  error(args) {\n    this.output('error', args);\n  },\n  output(type, args) {\n    console?.[type]?.apply?.(console, args);\n  }\n};\nclass Logger {\n  constructor(concreteLogger) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this.init(concreteLogger, options);\n  }\n  init(concreteLogger) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this.prefix = options.prefix || 'i18next:';\n    this.logger = concreteLogger || consoleLogger;\n    this.options = options;\n    this.debug = options.debug;\n  }\n  log() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    return this.forward(args, 'log', '', true);\n  }\n  warn() {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n    return this.forward(args, 'warn', '', true);\n  }\n  error() {\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n    return this.forward(args, 'error', '');\n  }\n  deprecate() {\n    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n    return this.forward(args, 'warn', 'WARNING DEPRECATED: ', true);\n  }\n  forward(args, lvl, prefix, debugOnly) {\n    if (debugOnly && !this.debug) return null;\n    if (isString(args[0])) args[0] = `${prefix}${this.prefix} ${args[0]}`;\n    return this.logger[lvl](args);\n  }\n  create(moduleName) {\n    return new Logger(this.logger, {\n      ...{\n        prefix: `${this.prefix}:${moduleName}:`\n      },\n      ...this.options\n    });\n  }\n  clone(options) {\n    options = options || this.options;\n    options.prefix = options.prefix || this.prefix;\n    return new Logger(this.logger, options);\n  }\n}\nvar baseLogger = new Logger();\n\nclass EventEmitter {\n  constructor() {\n    this.observers = {};\n  }\n  on(events, listener) {\n    events.split(' ').forEach(event => {\n      if (!this.observers[event]) this.observers[event] = new Map();\n      const numListeners = this.observers[event].get(listener) || 0;\n      this.observers[event].set(listener, numListeners + 1);\n    });\n    return this;\n  }\n  off(event, listener) {\n    if (!this.observers[event]) return;\n    if (!listener) {\n      delete this.observers[event];\n      return;\n    }\n    this.observers[event].delete(listener);\n  }\n  emit(event) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    if (this.observers[event]) {\n      const cloned = Array.from(this.observers[event].entries());\n      cloned.forEach(_ref => {\n        let [observer, numTimesAdded] = _ref;\n        for (let i = 0; i < numTimesAdded; i++) {\n          observer(...args);\n        }\n      });\n    }\n    if (this.observers['*']) {\n      const cloned = Array.from(this.observers['*'].entries());\n      cloned.forEach(_ref2 => {\n        let [observer, numTimesAdded] = _ref2;\n        for (let i = 0; i < numTimesAdded; i++) {\n          observer.apply(observer, [event, ...args]);\n        }\n      });\n    }\n  }\n}\n\nclass ResourceStore extends EventEmitter {\n  constructor(data) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      ns: ['translation'],\n      defaultNS: 'translation'\n    };\n    super();\n    this.data = data || {};\n    this.options = options;\n    if (this.options.keySeparator === undefined) {\n      this.options.keySeparator = '.';\n    }\n    if (this.options.ignoreJSONStructure === undefined) {\n      this.options.ignoreJSONStructure = true;\n    }\n  }\n  addNamespaces(ns) {\n    if (this.options.ns.indexOf(ns) < 0) {\n      this.options.ns.push(ns);\n    }\n  }\n  removeNamespaces(ns) {\n    const index = this.options.ns.indexOf(ns);\n    if (index > -1) {\n      this.options.ns.splice(index, 1);\n    }\n  }\n  getResource(lng, ns, key) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n    const ignoreJSONStructure = options.ignoreJSONStructure !== undefined ? options.ignoreJSONStructure : this.options.ignoreJSONStructure;\n    let path;\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n    } else {\n      path = [lng, ns];\n      if (key) {\n        if (Array.isArray(key)) {\n          path.push(...key);\n        } else if (isString(key) && keySeparator) {\n          path.push(...key.split(keySeparator));\n        } else {\n          path.push(key);\n        }\n      }\n    }\n    const result = getPath(this.data, path);\n    if (!result && !ns && !key && lng.indexOf('.') > -1) {\n      lng = path[0];\n      ns = path[1];\n      key = path.slice(2).join('.');\n    }\n    if (result || !ignoreJSONStructure || !isString(key)) return result;\n    return deepFind(this.data?.[lng]?.[ns], key, keySeparator);\n  }\n  addResource(lng, ns, key, value) {\n    let options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {\n      silent: false\n    };\n    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n    let path = [lng, ns];\n    if (key) path = path.concat(keySeparator ? key.split(keySeparator) : key);\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n      value = ns;\n      ns = path[1];\n    }\n    this.addNamespaces(ns);\n    setPath(this.data, path, value);\n    if (!options.silent) this.emit('added', lng, ns, key, value);\n  }\n  addResources(lng, ns, resources) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {\n      silent: false\n    };\n    for (const m in resources) {\n      if (isString(resources[m]) || Array.isArray(resources[m])) this.addResource(lng, ns, m, resources[m], {\n        silent: true\n      });\n    }\n    if (!options.silent) this.emit('added', lng, ns, resources);\n  }\n  addResourceBundle(lng, ns, resources, deep, overwrite) {\n    let options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {\n      silent: false,\n      skipCopy: false\n    };\n    let path = [lng, ns];\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n      deep = resources;\n      resources = ns;\n      ns = path[1];\n    }\n    this.addNamespaces(ns);\n    let pack = getPath(this.data, path) || {};\n    if (!options.skipCopy) resources = JSON.parse(JSON.stringify(resources));\n    if (deep) {\n      deepExtend(pack, resources, overwrite);\n    } else {\n      pack = {\n        ...pack,\n        ...resources\n      };\n    }\n    setPath(this.data, path, pack);\n    if (!options.silent) this.emit('added', lng, ns, resources);\n  }\n  removeResourceBundle(lng, ns) {\n    if (this.hasResourceBundle(lng, ns)) {\n      delete this.data[lng][ns];\n    }\n    this.removeNamespaces(ns);\n    this.emit('removed', lng, ns);\n  }\n  hasResourceBundle(lng, ns) {\n    return this.getResource(lng, ns) !== undefined;\n  }\n  getResourceBundle(lng, ns) {\n    if (!ns) ns = this.options.defaultNS;\n    return this.getResource(lng, ns);\n  }\n  getDataByLanguage(lng) {\n    return this.data[lng];\n  }\n  hasLanguageSomeTranslations(lng) {\n    const data = this.getDataByLanguage(lng);\n    const n = data && Object.keys(data) || [];\n    return !!n.find(v => data[v] && Object.keys(data[v]).length > 0);\n  }\n  toJSON() {\n    return this.data;\n  }\n}\n\nvar postProcessor = {\n  processors: {},\n  addPostProcessor(module) {\n    this.processors[module.name] = module;\n  },\n  handle(processors, value, key, options, translator) {\n    processors.forEach(processor => {\n      value = this.processors[processor]?.process(value, key, options, translator) ?? value;\n    });\n    return value;\n  }\n};\n\nconst checkedLoadedFor = {};\nconst shouldHandleAsObject = res => !isString(res) && typeof res !== 'boolean' && typeof res !== 'number';\nclass Translator extends EventEmitter {\n  constructor(services) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    super();\n    copy(['resourceStore', 'languageUtils', 'pluralResolver', 'interpolator', 'backendConnector', 'i18nFormat', 'utils'], services, this);\n    this.options = options;\n    if (this.options.keySeparator === undefined) {\n      this.options.keySeparator = '.';\n    }\n    this.logger = baseLogger.create('translator');\n  }\n  changeLanguage(lng) {\n    if (lng) this.language = lng;\n  }\n  exists(key) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      interpolation: {}\n    };\n    if (key == null) {\n      return false;\n    }\n    const resolved = this.resolve(key, options);\n    return resolved?.res !== undefined;\n  }\n  extractFromKey(key, options) {\n    let nsSeparator = options.nsSeparator !== undefined ? options.nsSeparator : this.options.nsSeparator;\n    if (nsSeparator === undefined) nsSeparator = ':';\n    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n    let namespaces = options.ns || this.options.defaultNS || [];\n    const wouldCheckForNsInKey = nsSeparator && key.indexOf(nsSeparator) > -1;\n    const seemsNaturalLanguage = !this.options.userDefinedKeySeparator && !options.keySeparator && !this.options.userDefinedNsSeparator && !options.nsSeparator && !looksLikeObjectPath(key, nsSeparator, keySeparator);\n    if (wouldCheckForNsInKey && !seemsNaturalLanguage) {\n      const m = key.match(this.interpolator.nestingRegexp);\n      if (m && m.length > 0) {\n        return {\n          key,\n          namespaces: isString(namespaces) ? [namespaces] : namespaces\n        };\n      }\n      const parts = key.split(nsSeparator);\n      if (nsSeparator !== keySeparator || nsSeparator === keySeparator && this.options.ns.indexOf(parts[0]) > -1) namespaces = parts.shift();\n      key = parts.join(keySeparator);\n    }\n    return {\n      key,\n      namespaces: isString(namespaces) ? [namespaces] : namespaces\n    };\n  }\n  translate(keys, options, lastKey) {\n    if (typeof options !== 'object' && this.options.overloadTranslationOptionHandler) {\n      options = this.options.overloadTranslationOptionHandler(arguments);\n    }\n    if (typeof options === 'object') options = {\n      ...options\n    };\n    if (!options) options = {};\n    if (keys == null) return '';\n    if (!Array.isArray(keys)) keys = [String(keys)];\n    const returnDetails = options.returnDetails !== undefined ? options.returnDetails : this.options.returnDetails;\n    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n    const {\n      key,\n      namespaces\n    } = this.extractFromKey(keys[keys.length - 1], options);\n    const namespace = namespaces[namespaces.length - 1];\n    const lng = options.lng || this.language;\n    const appendNamespaceToCIMode = options.appendNamespaceToCIMode || this.options.appendNamespaceToCIMode;\n    if (lng?.toLowerCase() === 'cimode') {\n      if (appendNamespaceToCIMode) {\n        const nsSeparator = options.nsSeparator || this.options.nsSeparator;\n        if (returnDetails) {\n          return {\n            res: `${namespace}${nsSeparator}${key}`,\n            usedKey: key,\n            exactUsedKey: key,\n            usedLng: lng,\n            usedNS: namespace,\n            usedParams: this.getUsedParamsDetails(options)\n          };\n        }\n        return `${namespace}${nsSeparator}${key}`;\n      }\n      if (returnDetails) {\n        return {\n          res: key,\n          usedKey: key,\n          exactUsedKey: key,\n          usedLng: lng,\n          usedNS: namespace,\n          usedParams: this.getUsedParamsDetails(options)\n        };\n      }\n      return key;\n    }\n    const resolved = this.resolve(keys, options);\n    let res = resolved?.res;\n    const resUsedKey = resolved?.usedKey || key;\n    const resExactUsedKey = resolved?.exactUsedKey || key;\n    const noObject = ['[object Number]', '[object Function]', '[object RegExp]'];\n    const joinArrays = options.joinArrays !== undefined ? options.joinArrays : this.options.joinArrays;\n    const handleAsObjectInI18nFormat = !this.i18nFormat || this.i18nFormat.handleAsObject;\n    const needsPluralHandling = options.count !== undefined && !isString(options.count);\n    const hasDefaultValue = Translator.hasDefaultValue(options);\n    const defaultValueSuffix = needsPluralHandling ? this.pluralResolver.getSuffix(lng, options.count, options) : '';\n    const defaultValueSuffixOrdinalFallback = options.ordinal && needsPluralHandling ? this.pluralResolver.getSuffix(lng, options.count, {\n      ordinal: false\n    }) : '';\n    const needsZeroSuffixLookup = needsPluralHandling && !options.ordinal && options.count === 0;\n    const defaultValue = needsZeroSuffixLookup && options[`defaultValue${this.options.pluralSeparator}zero`] || options[`defaultValue${defaultValueSuffix}`] || options[`defaultValue${defaultValueSuffixOrdinalFallback}`] || options.defaultValue;\n    let resForObjHndl = res;\n    if (handleAsObjectInI18nFormat && !res && hasDefaultValue) {\n      resForObjHndl = defaultValue;\n    }\n    const handleAsObject = shouldHandleAsObject(resForObjHndl);\n    const resType = Object.prototype.toString.apply(resForObjHndl);\n    if (handleAsObjectInI18nFormat && resForObjHndl && handleAsObject && noObject.indexOf(resType) < 0 && !(isString(joinArrays) && Array.isArray(resForObjHndl))) {\n      if (!options.returnObjects && !this.options.returnObjects) {\n        if (!this.options.returnedObjectHandler) {\n          this.logger.warn('accessing an object - but returnObjects options is not enabled!');\n        }\n        const r = this.options.returnedObjectHandler ? this.options.returnedObjectHandler(resUsedKey, resForObjHndl, {\n          ...options,\n          ns: namespaces\n        }) : `key '${key} (${this.language})' returned an object instead of string.`;\n        if (returnDetails) {\n          resolved.res = r;\n          resolved.usedParams = this.getUsedParamsDetails(options);\n          return resolved;\n        }\n        return r;\n      }\n      if (keySeparator) {\n        const resTypeIsArray = Array.isArray(resForObjHndl);\n        const copy = resTypeIsArray ? [] : {};\n        const newKeyToUse = resTypeIsArray ? resExactUsedKey : resUsedKey;\n        for (const m in resForObjHndl) {\n          if (Object.prototype.hasOwnProperty.call(resForObjHndl, m)) {\n            const deepKey = `${newKeyToUse}${keySeparator}${m}`;\n            if (hasDefaultValue && !res) {\n              copy[m] = this.translate(deepKey, {\n                ...options,\n                defaultValue: shouldHandleAsObject(defaultValue) ? defaultValue[m] : undefined,\n                ...{\n                  joinArrays: false,\n                  ns: namespaces\n                }\n              });\n            } else {\n              copy[m] = this.translate(deepKey, {\n                ...options,\n                ...{\n                  joinArrays: false,\n                  ns: namespaces\n                }\n              });\n            }\n            if (copy[m] === deepKey) copy[m] = resForObjHndl[m];\n          }\n        }\n        res = copy;\n      }\n    } else if (handleAsObjectInI18nFormat && isString(joinArrays) && Array.isArray(res)) {\n      res = res.join(joinArrays);\n      if (res) res = this.extendTranslation(res, keys, options, lastKey);\n    } else {\n      let usedDefault = false;\n      let usedKey = false;\n      if (!this.isValidLookup(res) && hasDefaultValue) {\n        usedDefault = true;\n        res = defaultValue;\n      }\n      if (!this.isValidLookup(res)) {\n        usedKey = true;\n        res = key;\n      }\n      const missingKeyNoValueFallbackToKey = options.missingKeyNoValueFallbackToKey || this.options.missingKeyNoValueFallbackToKey;\n      const resForMissing = missingKeyNoValueFallbackToKey && usedKey ? undefined : res;\n      const updateMissing = hasDefaultValue && defaultValue !== res && this.options.updateMissing;\n      if (usedKey || usedDefault || updateMissing) {\n        this.logger.log(updateMissing ? 'updateKey' : 'missingKey', lng, namespace, key, updateMissing ? defaultValue : res);\n        if (keySeparator) {\n          const fk = this.resolve(key, {\n            ...options,\n            keySeparator: false\n          });\n          if (fk && fk.res) this.logger.warn('Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.');\n        }\n        let lngs = [];\n        const fallbackLngs = this.languageUtils.getFallbackCodes(this.options.fallbackLng, options.lng || this.language);\n        if (this.options.saveMissingTo === 'fallback' && fallbackLngs && fallbackLngs[0]) {\n          for (let i = 0; i < fallbackLngs.length; i++) {\n            lngs.push(fallbackLngs[i]);\n          }\n        } else if (this.options.saveMissingTo === 'all') {\n          lngs = this.languageUtils.toResolveHierarchy(options.lng || this.language);\n        } else {\n          lngs.push(options.lng || this.language);\n        }\n        const send = (l, k, specificDefaultValue) => {\n          const defaultForMissing = hasDefaultValue && specificDefaultValue !== res ? specificDefaultValue : resForMissing;\n          if (this.options.missingKeyHandler) {\n            this.options.missingKeyHandler(l, namespace, k, defaultForMissing, updateMissing, options);\n          } else if (this.backendConnector?.saveMissing) {\n            this.backendConnector.saveMissing(l, namespace, k, defaultForMissing, updateMissing, options);\n          }\n          this.emit('missingKey', l, namespace, k, res);\n        };\n        if (this.options.saveMissing) {\n          if (this.options.saveMissingPlurals && needsPluralHandling) {\n            lngs.forEach(language => {\n              const suffixes = this.pluralResolver.getSuffixes(language, options);\n              if (needsZeroSuffixLookup && options[`defaultValue${this.options.pluralSeparator}zero`] && suffixes.indexOf(`${this.options.pluralSeparator}zero`) < 0) {\n                suffixes.push(`${this.options.pluralSeparator}zero`);\n              }\n              suffixes.forEach(suffix => {\n                send([language], key + suffix, options[`defaultValue${suffix}`] || defaultValue);\n              });\n            });\n          } else {\n            send(lngs, key, defaultValue);\n          }\n        }\n      }\n      res = this.extendTranslation(res, keys, options, resolved, lastKey);\n      if (usedKey && res === key && this.options.appendNamespaceToMissingKey) res = `${namespace}:${key}`;\n      if ((usedKey || usedDefault) && this.options.parseMissingKeyHandler) {\n        res = this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey ? `${namespace}:${key}` : key, usedDefault ? res : undefined);\n      }\n    }\n    if (returnDetails) {\n      resolved.res = res;\n      resolved.usedParams = this.getUsedParamsDetails(options);\n      return resolved;\n    }\n    return res;\n  }\n  extendTranslation(res, key, options, resolved, lastKey) {\n    var _this = this;\n    if (this.i18nFormat?.parse) {\n      res = this.i18nFormat.parse(res, {\n        ...this.options.interpolation.defaultVariables,\n        ...options\n      }, options.lng || this.language || resolved.usedLng, resolved.usedNS, resolved.usedKey, {\n        resolved\n      });\n    } else if (!options.skipInterpolation) {\n      if (options.interpolation) this.interpolator.init({\n        ...options,\n        ...{\n          interpolation: {\n            ...this.options.interpolation,\n            ...options.interpolation\n          }\n        }\n      });\n      const skipOnVariables = isString(res) && (options?.interpolation?.skipOnVariables !== undefined ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables);\n      let nestBef;\n      if (skipOnVariables) {\n        const nb = res.match(this.interpolator.nestingRegexp);\n        nestBef = nb && nb.length;\n      }\n      let data = options.replace && !isString(options.replace) ? options.replace : options;\n      if (this.options.interpolation.defaultVariables) data = {\n        ...this.options.interpolation.defaultVariables,\n        ...data\n      };\n      res = this.interpolator.interpolate(res, data, options.lng || this.language || resolved.usedLng, options);\n      if (skipOnVariables) {\n        const na = res.match(this.interpolator.nestingRegexp);\n        const nestAft = na && na.length;\n        if (nestBef < nestAft) options.nest = false;\n      }\n      if (!options.lng && resolved && resolved.res) options.lng = this.language || resolved.usedLng;\n      if (options.nest !== false) res = this.interpolator.nest(res, function () {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n        if (lastKey?.[0] === args[0] && !options.context) {\n          _this.logger.warn(`It seems you are nesting recursively key: ${args[0]} in key: ${key[0]}`);\n          return null;\n        }\n        return _this.translate(...args, key);\n      }, options);\n      if (options.interpolation) this.interpolator.reset();\n    }\n    const postProcess = options.postProcess || this.options.postProcess;\n    const postProcessorNames = isString(postProcess) ? [postProcess] : postProcess;\n    if (res != null && postProcessorNames?.length && options.applyPostProcessor !== false) {\n      res = postProcessor.handle(postProcessorNames, res, key, this.options && this.options.postProcessPassResolved ? {\n        i18nResolved: {\n          ...resolved,\n          usedParams: this.getUsedParamsDetails(options)\n        },\n        ...options\n      } : options, this);\n    }\n    return res;\n  }\n  resolve(keys) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let found;\n    let usedKey;\n    let exactUsedKey;\n    let usedLng;\n    let usedNS;\n    if (isString(keys)) keys = [keys];\n    keys.forEach(k => {\n      if (this.isValidLookup(found)) return;\n      const extracted = this.extractFromKey(k, options);\n      const key = extracted.key;\n      usedKey = key;\n      let namespaces = extracted.namespaces;\n      if (this.options.fallbackNS) namespaces = namespaces.concat(this.options.fallbackNS);\n      const needsPluralHandling = options.count !== undefined && !isString(options.count);\n      const needsZeroSuffixLookup = needsPluralHandling && !options.ordinal && options.count === 0;\n      const needsContextHandling = options.context !== undefined && (isString(options.context) || typeof options.context === 'number') && options.context !== '';\n      const codes = options.lngs ? options.lngs : this.languageUtils.toResolveHierarchy(options.lng || this.language, options.fallbackLng);\n      namespaces.forEach(ns => {\n        if (this.isValidLookup(found)) return;\n        usedNS = ns;\n        if (!checkedLoadedFor[`${codes[0]}-${ns}`] && this.utils?.hasLoadedNamespace && !this.utils?.hasLoadedNamespace(usedNS)) {\n          checkedLoadedFor[`${codes[0]}-${ns}`] = true;\n          this.logger.warn(`key \"${usedKey}\" for languages \"${codes.join(', ')}\" won't get resolved as namespace \"${usedNS}\" was not yet loaded`, 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');\n        }\n        codes.forEach(code => {\n          if (this.isValidLookup(found)) return;\n          usedLng = code;\n          const finalKeys = [key];\n          if (this.i18nFormat?.addLookupKeys) {\n            this.i18nFormat.addLookupKeys(finalKeys, key, code, ns, options);\n          } else {\n            let pluralSuffix;\n            if (needsPluralHandling) pluralSuffix = this.pluralResolver.getSuffix(code, options.count, options);\n            const zeroSuffix = `${this.options.pluralSeparator}zero`;\n            const ordinalPrefix = `${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;\n            if (needsPluralHandling) {\n              finalKeys.push(key + pluralSuffix);\n              if (options.ordinal && pluralSuffix.indexOf(ordinalPrefix) === 0) {\n                finalKeys.push(key + pluralSuffix.replace(ordinalPrefix, this.options.pluralSeparator));\n              }\n              if (needsZeroSuffixLookup) {\n                finalKeys.push(key + zeroSuffix);\n              }\n            }\n            if (needsContextHandling) {\n              const contextKey = `${key}${this.options.contextSeparator}${options.context}`;\n              finalKeys.push(contextKey);\n              if (needsPluralHandling) {\n                finalKeys.push(contextKey + pluralSuffix);\n                if (options.ordinal && pluralSuffix.indexOf(ordinalPrefix) === 0) {\n                  finalKeys.push(contextKey + pluralSuffix.replace(ordinalPrefix, this.options.pluralSeparator));\n                }\n                if (needsZeroSuffixLookup) {\n                  finalKeys.push(contextKey + zeroSuffix);\n                }\n              }\n            }\n          }\n          let possibleKey;\n          while (possibleKey = finalKeys.pop()) {\n            if (!this.isValidLookup(found)) {\n              exactUsedKey = possibleKey;\n              found = this.getResource(code, ns, possibleKey, options);\n            }\n          }\n        });\n      });\n    });\n    return {\n      res: found,\n      usedKey,\n      exactUsedKey,\n      usedLng,\n      usedNS\n    };\n  }\n  isValidLookup(res) {\n    return res !== undefined && !(!this.options.returnNull && res === null) && !(!this.options.returnEmptyString && res === '');\n  }\n  getResource(code, ns, key) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    if (this.i18nFormat?.getResource) return this.i18nFormat.getResource(code, ns, key, options);\n    return this.resourceStore.getResource(code, ns, key, options);\n  }\n  getUsedParamsDetails() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    const optionsKeys = ['defaultValue', 'ordinal', 'context', 'replace', 'lng', 'lngs', 'fallbackLng', 'ns', 'keySeparator', 'nsSeparator', 'returnObjects', 'returnDetails', 'joinArrays', 'postProcess', 'interpolation'];\n    const useOptionsReplaceForData = options.replace && !isString(options.replace);\n    let data = useOptionsReplaceForData ? options.replace : options;\n    if (useOptionsReplaceForData && typeof options.count !== 'undefined') {\n      data.count = options.count;\n    }\n    if (this.options.interpolation.defaultVariables) {\n      data = {\n        ...this.options.interpolation.defaultVariables,\n        ...data\n      };\n    }\n    if (!useOptionsReplaceForData) {\n      data = {\n        ...data\n      };\n      for (const key of optionsKeys) {\n        delete data[key];\n      }\n    }\n    return data;\n  }\n  static hasDefaultValue(options) {\n    const prefix = 'defaultValue';\n    for (const option in options) {\n      if (Object.prototype.hasOwnProperty.call(options, option) && prefix === option.substring(0, prefix.length) && undefined !== options[option]) {\n        return true;\n      }\n    }\n    return false;\n  }\n}\n\nclass LanguageUtil {\n  constructor(options) {\n    this.options = options;\n    this.supportedLngs = this.options.supportedLngs || false;\n    this.logger = baseLogger.create('languageUtils');\n  }\n  getScriptPartFromCode(code) {\n    code = getCleanedCode(code);\n    if (!code || code.indexOf('-') < 0) return null;\n    const p = code.split('-');\n    if (p.length === 2) return null;\n    p.pop();\n    if (p[p.length - 1].toLowerCase() === 'x') return null;\n    return this.formatLanguageCode(p.join('-'));\n  }\n  getLanguagePartFromCode(code) {\n    code = getCleanedCode(code);\n    if (!code || code.indexOf('-') < 0) return code;\n    const p = code.split('-');\n    return this.formatLanguageCode(p[0]);\n  }\n  formatLanguageCode(code) {\n    if (isString(code) && code.indexOf('-') > -1) {\n      let formattedCode;\n      try {\n        formattedCode = Intl.getCanonicalLocales(code)[0];\n      } catch (e) {}\n      if (formattedCode && this.options.lowerCaseLng) {\n        formattedCode = formattedCode.toLowerCase();\n      }\n      if (formattedCode) return formattedCode;\n      if (this.options.lowerCaseLng) {\n        return code.toLowerCase();\n      }\n      return code;\n    }\n    return this.options.cleanCode || this.options.lowerCaseLng ? code.toLowerCase() : code;\n  }\n  isSupportedCode(code) {\n    if (this.options.load === 'languageOnly' || this.options.nonExplicitSupportedLngs) {\n      code = this.getLanguagePartFromCode(code);\n    }\n    return !this.supportedLngs || !this.supportedLngs.length || this.supportedLngs.indexOf(code) > -1;\n  }\n  getBestMatchFromCodes(codes) {\n    if (!codes) return null;\n    let found;\n    codes.forEach(code => {\n      if (found) return;\n      const cleanedLng = this.formatLanguageCode(code);\n      if (!this.options.supportedLngs || this.isSupportedCode(cleanedLng)) found = cleanedLng;\n    });\n    if (!found && this.options.supportedLngs) {\n      codes.forEach(code => {\n        if (found) return;\n        const lngOnly = this.getLanguagePartFromCode(code);\n        if (this.isSupportedCode(lngOnly)) return found = lngOnly;\n        found = this.options.supportedLngs.find(supportedLng => {\n          if (supportedLng === lngOnly) return supportedLng;\n          if (supportedLng.indexOf('-') < 0 && lngOnly.indexOf('-') < 0) return;\n          if (supportedLng.indexOf('-') > 0 && lngOnly.indexOf('-') < 0 && supportedLng.substring(0, supportedLng.indexOf('-')) === lngOnly) return supportedLng;\n          if (supportedLng.indexOf(lngOnly) === 0 && lngOnly.length > 1) return supportedLng;\n        });\n      });\n    }\n    if (!found) found = this.getFallbackCodes(this.options.fallbackLng)[0];\n    return found;\n  }\n  getFallbackCodes(fallbacks, code) {\n    if (!fallbacks) return [];\n    if (typeof fallbacks === 'function') fallbacks = fallbacks(code);\n    if (isString(fallbacks)) fallbacks = [fallbacks];\n    if (Array.isArray(fallbacks)) return fallbacks;\n    if (!code) return fallbacks.default || [];\n    let found = fallbacks[code];\n    if (!found) found = fallbacks[this.getScriptPartFromCode(code)];\n    if (!found) found = fallbacks[this.formatLanguageCode(code)];\n    if (!found) found = fallbacks[this.getLanguagePartFromCode(code)];\n    if (!found) found = fallbacks.default;\n    return found || [];\n  }\n  toResolveHierarchy(code, fallbackCode) {\n    const fallbackCodes = this.getFallbackCodes(fallbackCode || this.options.fallbackLng || [], code);\n    const codes = [];\n    const addCode = c => {\n      if (!c) return;\n      if (this.isSupportedCode(c)) {\n        codes.push(c);\n      } else {\n        this.logger.warn(`rejecting language code not found in supportedLngs: ${c}`);\n      }\n    };\n    if (isString(code) && (code.indexOf('-') > -1 || code.indexOf('_') > -1)) {\n      if (this.options.load !== 'languageOnly') addCode(this.formatLanguageCode(code));\n      if (this.options.load !== 'languageOnly' && this.options.load !== 'currentOnly') addCode(this.getScriptPartFromCode(code));\n      if (this.options.load !== 'currentOnly') addCode(this.getLanguagePartFromCode(code));\n    } else if (isString(code)) {\n      addCode(this.formatLanguageCode(code));\n    }\n    fallbackCodes.forEach(fc => {\n      if (codes.indexOf(fc) < 0) addCode(this.formatLanguageCode(fc));\n    });\n    return codes;\n  }\n}\n\nconst suffixesOrder = {\n  zero: 0,\n  one: 1,\n  two: 2,\n  few: 3,\n  many: 4,\n  other: 5\n};\nconst dummyRule = {\n  select: count => count === 1 ? 'one' : 'other',\n  resolvedOptions: () => ({\n    pluralCategories: ['one', 'other']\n  })\n};\nclass PluralResolver {\n  constructor(languageUtils) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this.languageUtils = languageUtils;\n    this.options = options;\n    this.logger = baseLogger.create('pluralResolver');\n    this.pluralRulesCache = {};\n  }\n  addRule(lng, obj) {\n    this.rules[lng] = obj;\n  }\n  clearCache() {\n    this.pluralRulesCache = {};\n  }\n  getRule(code) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const cleanedCode = getCleanedCode(code === 'dev' ? 'en' : code);\n    const type = options.ordinal ? 'ordinal' : 'cardinal';\n    const cacheKey = JSON.stringify({\n      cleanedCode,\n      type\n    });\n    if (cacheKey in this.pluralRulesCache) {\n      return this.pluralRulesCache[cacheKey];\n    }\n    let rule;\n    try {\n      rule = new Intl.PluralRules(cleanedCode, {\n        type\n      });\n    } catch (err) {\n      if (!Intl) {\n        this.logger.error('No Intl support, please use an Intl polyfill!');\n        return dummyRule;\n      }\n      if (!code.match(/-|_/)) return dummyRule;\n      const lngPart = this.languageUtils.getLanguagePartFromCode(code);\n      rule = this.getRule(lngPart, options);\n    }\n    this.pluralRulesCache[cacheKey] = rule;\n    return rule;\n  }\n  needsPlural(code) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let rule = this.getRule(code, options);\n    if (!rule) rule = this.getRule('dev', options);\n    return rule?.resolvedOptions().pluralCategories.length > 1;\n  }\n  getPluralFormsOfKey(code, key) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return this.getSuffixes(code, options).map(suffix => `${key}${suffix}`);\n  }\n  getSuffixes(code) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let rule = this.getRule(code, options);\n    if (!rule) rule = this.getRule('dev', options);\n    if (!rule) return [];\n    return rule.resolvedOptions().pluralCategories.sort((pluralCategory1, pluralCategory2) => suffixesOrder[pluralCategory1] - suffixesOrder[pluralCategory2]).map(pluralCategory => `${this.options.prepend}${options.ordinal ? `ordinal${this.options.prepend}` : ''}${pluralCategory}`);\n  }\n  getSuffix(code, count) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    const rule = this.getRule(code, options);\n    if (rule) {\n      return `${this.options.prepend}${options.ordinal ? `ordinal${this.options.prepend}` : ''}${rule.select(count)}`;\n    }\n    this.logger.warn(`no plural rule found for: ${code}`);\n    return this.getSuffix('dev', count, options);\n  }\n}\n\nconst deepFindWithDefaults = function (data, defaultData, key) {\n  let keySeparator = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '.';\n  let ignoreJSONStructure = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n  let path = getPathWithDefaults(data, defaultData, key);\n  if (!path && ignoreJSONStructure && isString(key)) {\n    path = deepFind(data, key, keySeparator);\n    if (path === undefined) path = deepFind(defaultData, key, keySeparator);\n  }\n  return path;\n};\nconst regexSafe = val => val.replace(/\\$/g, '$$$$');\nclass Interpolator {\n  constructor() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    this.logger = baseLogger.create('interpolator');\n    this.options = options;\n    this.format = options?.interpolation?.format || (value => value);\n    this.init(options);\n  }\n  init() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    if (!options.interpolation) options.interpolation = {\n      escapeValue: true\n    };\n    const {\n      escape: escape$1,\n      escapeValue,\n      useRawValueToEscape,\n      prefix,\n      prefixEscaped,\n      suffix,\n      suffixEscaped,\n      formatSeparator,\n      unescapeSuffix,\n      unescapePrefix,\n      nestingPrefix,\n      nestingPrefixEscaped,\n      nestingSuffix,\n      nestingSuffixEscaped,\n      nestingOptionsSeparator,\n      maxReplaces,\n      alwaysFormat\n    } = options.interpolation;\n    this.escape = escape$1 !== undefined ? escape$1 : escape;\n    this.escapeValue = escapeValue !== undefined ? escapeValue : true;\n    this.useRawValueToEscape = useRawValueToEscape !== undefined ? useRawValueToEscape : false;\n    this.prefix = prefix ? regexEscape(prefix) : prefixEscaped || '{{';\n    this.suffix = suffix ? regexEscape(suffix) : suffixEscaped || '}}';\n    this.formatSeparator = formatSeparator || ',';\n    this.unescapePrefix = unescapeSuffix ? '' : unescapePrefix || '-';\n    this.unescapeSuffix = this.unescapePrefix ? '' : unescapeSuffix || '';\n    this.nestingPrefix = nestingPrefix ? regexEscape(nestingPrefix) : nestingPrefixEscaped || regexEscape('$t(');\n    this.nestingSuffix = nestingSuffix ? regexEscape(nestingSuffix) : nestingSuffixEscaped || regexEscape(')');\n    this.nestingOptionsSeparator = nestingOptionsSeparator || ',';\n    this.maxReplaces = maxReplaces || 1000;\n    this.alwaysFormat = alwaysFormat !== undefined ? alwaysFormat : false;\n    this.resetRegExp();\n  }\n  reset() {\n    if (this.options) this.init(this.options);\n  }\n  resetRegExp() {\n    const getOrResetRegExp = (existingRegExp, pattern) => {\n      if (existingRegExp?.source === pattern) {\n        existingRegExp.lastIndex = 0;\n        return existingRegExp;\n      }\n      return new RegExp(pattern, 'g');\n    };\n    this.regexp = getOrResetRegExp(this.regexp, `${this.prefix}(.+?)${this.suffix}`);\n    this.regexpUnescape = getOrResetRegExp(this.regexpUnescape, `${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`);\n    this.nestingRegexp = getOrResetRegExp(this.nestingRegexp, `${this.nestingPrefix}(.+?)${this.nestingSuffix}`);\n  }\n  interpolate(str, data, lng, options) {\n    let match;\n    let value;\n    let replaces;\n    const defaultData = this.options && this.options.interpolation && this.options.interpolation.defaultVariables || {};\n    const handleFormat = key => {\n      if (key.indexOf(this.formatSeparator) < 0) {\n        const path = deepFindWithDefaults(data, defaultData, key, this.options.keySeparator, this.options.ignoreJSONStructure);\n        return this.alwaysFormat ? this.format(path, undefined, lng, {\n          ...options,\n          ...data,\n          interpolationkey: key\n        }) : path;\n      }\n      const p = key.split(this.formatSeparator);\n      const k = p.shift().trim();\n      const f = p.join(this.formatSeparator).trim();\n      return this.format(deepFindWithDefaults(data, defaultData, k, this.options.keySeparator, this.options.ignoreJSONStructure), f, lng, {\n        ...options,\n        ...data,\n        interpolationkey: k\n      });\n    };\n    this.resetRegExp();\n    const missingInterpolationHandler = options?.missingInterpolationHandler || this.options.missingInterpolationHandler;\n    const skipOnVariables = options?.interpolation?.skipOnVariables !== undefined ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables;\n    const todos = [{\n      regex: this.regexpUnescape,\n      safeValue: val => regexSafe(val)\n    }, {\n      regex: this.regexp,\n      safeValue: val => this.escapeValue ? regexSafe(this.escape(val)) : regexSafe(val)\n    }];\n    todos.forEach(todo => {\n      replaces = 0;\n      while (match = todo.regex.exec(str)) {\n        const matchedVar = match[1].trim();\n        value = handleFormat(matchedVar);\n        if (value === undefined) {\n          if (typeof missingInterpolationHandler === 'function') {\n            const temp = missingInterpolationHandler(str, match, options);\n            value = isString(temp) ? temp : '';\n          } else if (options && Object.prototype.hasOwnProperty.call(options, matchedVar)) {\n            value = '';\n          } else if (skipOnVariables) {\n            value = match[0];\n            continue;\n          } else {\n            this.logger.warn(`missed to pass in variable ${matchedVar} for interpolating ${str}`);\n            value = '';\n          }\n        } else if (!isString(value) && !this.useRawValueToEscape) {\n          value = makeString(value);\n        }\n        const safeValue = todo.safeValue(value);\n        str = str.replace(match[0], safeValue);\n        if (skipOnVariables) {\n          todo.regex.lastIndex += value.length;\n          todo.regex.lastIndex -= match[0].length;\n        } else {\n          todo.regex.lastIndex = 0;\n        }\n        replaces++;\n        if (replaces >= this.maxReplaces) {\n          break;\n        }\n      }\n    });\n    return str;\n  }\n  nest(str, fc) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    let match;\n    let value;\n    let clonedOptions;\n    const handleHasOptions = (key, inheritedOptions) => {\n      const sep = this.nestingOptionsSeparator;\n      if (key.indexOf(sep) < 0) return key;\n      const c = key.split(new RegExp(`${sep}[ ]*{`));\n      let optionsString = `{${c[1]}`;\n      key = c[0];\n      optionsString = this.interpolate(optionsString, clonedOptions);\n      const matchedSingleQuotes = optionsString.match(/'/g);\n      const matchedDoubleQuotes = optionsString.match(/\"/g);\n      if ((matchedSingleQuotes?.length ?? 0) % 2 === 0 && !matchedDoubleQuotes || matchedDoubleQuotes.length % 2 !== 0) {\n        optionsString = optionsString.replace(/'/g, '\"');\n      }\n      try {\n        clonedOptions = JSON.parse(optionsString);\n        if (inheritedOptions) clonedOptions = {\n          ...inheritedOptions,\n          ...clonedOptions\n        };\n      } catch (e) {\n        this.logger.warn(`failed parsing options string in nesting for key ${key}`, e);\n        return `${key}${sep}${optionsString}`;\n      }\n      if (clonedOptions.defaultValue && clonedOptions.defaultValue.indexOf(this.prefix) > -1) delete clonedOptions.defaultValue;\n      return key;\n    };\n    while (match = this.nestingRegexp.exec(str)) {\n      let formatters = [];\n      clonedOptions = {\n        ...options\n      };\n      clonedOptions = clonedOptions.replace && !isString(clonedOptions.replace) ? clonedOptions.replace : clonedOptions;\n      clonedOptions.applyPostProcessor = false;\n      delete clonedOptions.defaultValue;\n      let doReduce = false;\n      if (match[0].indexOf(this.formatSeparator) !== -1 && !/{.*}/.test(match[1])) {\n        const r = match[1].split(this.formatSeparator).map(elem => elem.trim());\n        match[1] = r.shift();\n        formatters = r;\n        doReduce = true;\n      }\n      value = fc(handleHasOptions.call(this, match[1].trim(), clonedOptions), clonedOptions);\n      if (value && match[0] === str && !isString(value)) return value;\n      if (!isString(value)) value = makeString(value);\n      if (!value) {\n        this.logger.warn(`missed to resolve ${match[1]} for nesting ${str}`);\n        value = '';\n      }\n      if (doReduce) {\n        value = formatters.reduce((v, f) => this.format(v, f, options.lng, {\n          ...options,\n          interpolationkey: match[1].trim()\n        }), value.trim());\n      }\n      str = str.replace(match[0], value);\n      this.regexp.lastIndex = 0;\n    }\n    return str;\n  }\n}\n\nconst parseFormatStr = formatStr => {\n  let formatName = formatStr.toLowerCase().trim();\n  const formatOptions = {};\n  if (formatStr.indexOf('(') > -1) {\n    const p = formatStr.split('(');\n    formatName = p[0].toLowerCase().trim();\n    const optStr = p[1].substring(0, p[1].length - 1);\n    if (formatName === 'currency' && optStr.indexOf(':') < 0) {\n      if (!formatOptions.currency) formatOptions.currency = optStr.trim();\n    } else if (formatName === 'relativetime' && optStr.indexOf(':') < 0) {\n      if (!formatOptions.range) formatOptions.range = optStr.trim();\n    } else {\n      const opts = optStr.split(';');\n      opts.forEach(opt => {\n        if (opt) {\n          const [key, ...rest] = opt.split(':');\n          const val = rest.join(':').trim().replace(/^'+|'+$/g, '');\n          const trimmedKey = key.trim();\n          if (!formatOptions[trimmedKey]) formatOptions[trimmedKey] = val;\n          if (val === 'false') formatOptions[trimmedKey] = false;\n          if (val === 'true') formatOptions[trimmedKey] = true;\n          if (!isNaN(val)) formatOptions[trimmedKey] = parseInt(val, 10);\n        }\n      });\n    }\n  }\n  return {\n    formatName,\n    formatOptions\n  };\n};\nconst createCachedFormatter = fn => {\n  const cache = {};\n  return (val, lng, options) => {\n    let optForCache = options;\n    if (options && options.interpolationkey && options.formatParams && options.formatParams[options.interpolationkey] && options[options.interpolationkey]) {\n      optForCache = {\n        ...optForCache,\n        [options.interpolationkey]: undefined\n      };\n    }\n    const key = lng + JSON.stringify(optForCache);\n    let formatter = cache[key];\n    if (!formatter) {\n      formatter = fn(getCleanedCode(lng), options);\n      cache[key] = formatter;\n    }\n    return formatter(val);\n  };\n};\nclass Formatter {\n  constructor() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    this.logger = baseLogger.create('formatter');\n    this.options = options;\n    this.formats = {\n      number: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.NumberFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val);\n      }),\n      currency: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.NumberFormat(lng, {\n          ...opt,\n          style: 'currency'\n        });\n        return val => formatter.format(val);\n      }),\n      datetime: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.DateTimeFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val);\n      }),\n      relativetime: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.RelativeTimeFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val, opt.range || 'day');\n      }),\n      list: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.ListFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val);\n      })\n    };\n    this.init(options);\n  }\n  init(services) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      interpolation: {}\n    };\n    this.formatSeparator = options.interpolation.formatSeparator || ',';\n  }\n  add(name, fc) {\n    this.formats[name.toLowerCase().trim()] = fc;\n  }\n  addCached(name, fc) {\n    this.formats[name.toLowerCase().trim()] = createCachedFormatter(fc);\n  }\n  format(value, format, lng) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    const formats = format.split(this.formatSeparator);\n    if (formats.length > 1 && formats[0].indexOf('(') > 1 && formats[0].indexOf(')') < 0 && formats.find(f => f.indexOf(')') > -1)) {\n      const lastIndex = formats.findIndex(f => f.indexOf(')') > -1);\n      formats[0] = [formats[0], ...formats.splice(1, lastIndex)].join(this.formatSeparator);\n    }\n    const result = formats.reduce((mem, f) => {\n      const {\n        formatName,\n        formatOptions\n      } = parseFormatStr(f);\n      if (this.formats[formatName]) {\n        let formatted = mem;\n        try {\n          const valOptions = options?.formatParams?.[options.interpolationkey] || {};\n          const l = valOptions.locale || valOptions.lng || options.locale || options.lng || lng;\n          formatted = this.formats[formatName](mem, l, {\n            ...formatOptions,\n            ...options,\n            ...valOptions\n          });\n        } catch (error) {\n          this.logger.warn(error);\n        }\n        return formatted;\n      } else {\n        this.logger.warn(`there was no format function for ${formatName}`);\n      }\n      return mem;\n    }, value);\n    return result;\n  }\n}\n\nconst removePending = (q, name) => {\n  if (q.pending[name] !== undefined) {\n    delete q.pending[name];\n    q.pendingCount--;\n  }\n};\nclass Connector extends EventEmitter {\n  constructor(backend, store, services) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    super();\n    this.backend = backend;\n    this.store = store;\n    this.services = services;\n    this.languageUtils = services.languageUtils;\n    this.options = options;\n    this.logger = baseLogger.create('backendConnector');\n    this.waitingReads = [];\n    this.maxParallelReads = options.maxParallelReads || 10;\n    this.readingCalls = 0;\n    this.maxRetries = options.maxRetries >= 0 ? options.maxRetries : 5;\n    this.retryTimeout = options.retryTimeout >= 1 ? options.retryTimeout : 350;\n    this.state = {};\n    this.queue = [];\n    this.backend?.init?.(services, options.backend, options);\n  }\n  queueLoad(languages, namespaces, options, callback) {\n    const toLoad = {};\n    const pending = {};\n    const toLoadLanguages = {};\n    const toLoadNamespaces = {};\n    languages.forEach(lng => {\n      let hasAllNamespaces = true;\n      namespaces.forEach(ns => {\n        const name = `${lng}|${ns}`;\n        if (!options.reload && this.store.hasResourceBundle(lng, ns)) {\n          this.state[name] = 2;\n        } else if (this.state[name] < 0) ; else if (this.state[name] === 1) {\n          if (pending[name] === undefined) pending[name] = true;\n        } else {\n          this.state[name] = 1;\n          hasAllNamespaces = false;\n          if (pending[name] === undefined) pending[name] = true;\n          if (toLoad[name] === undefined) toLoad[name] = true;\n          if (toLoadNamespaces[ns] === undefined) toLoadNamespaces[ns] = true;\n        }\n      });\n      if (!hasAllNamespaces) toLoadLanguages[lng] = true;\n    });\n    if (Object.keys(toLoad).length || Object.keys(pending).length) {\n      this.queue.push({\n        pending,\n        pendingCount: Object.keys(pending).length,\n        loaded: {},\n        errors: [],\n        callback\n      });\n    }\n    return {\n      toLoad: Object.keys(toLoad),\n      pending: Object.keys(pending),\n      toLoadLanguages: Object.keys(toLoadLanguages),\n      toLoadNamespaces: Object.keys(toLoadNamespaces)\n    };\n  }\n  loaded(name, err, data) {\n    const s = name.split('|');\n    const lng = s[0];\n    const ns = s[1];\n    if (err) this.emit('failedLoading', lng, ns, err);\n    if (!err && data) {\n      this.store.addResourceBundle(lng, ns, data, undefined, undefined, {\n        skipCopy: true\n      });\n    }\n    this.state[name] = err ? -1 : 2;\n    if (err && data) this.state[name] = 0;\n    const loaded = {};\n    this.queue.forEach(q => {\n      pushPath(q.loaded, [lng], ns);\n      removePending(q, name);\n      if (err) q.errors.push(err);\n      if (q.pendingCount === 0 && !q.done) {\n        Object.keys(q.loaded).forEach(l => {\n          if (!loaded[l]) loaded[l] = {};\n          const loadedKeys = q.loaded[l];\n          if (loadedKeys.length) {\n            loadedKeys.forEach(n => {\n              if (loaded[l][n] === undefined) loaded[l][n] = true;\n            });\n          }\n        });\n        q.done = true;\n        if (q.errors.length) {\n          q.callback(q.errors);\n        } else {\n          q.callback();\n        }\n      }\n    });\n    this.emit('loaded', loaded);\n    this.queue = this.queue.filter(q => !q.done);\n  }\n  read(lng, ns, fcName) {\n    let tried = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n    let wait = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : this.retryTimeout;\n    let callback = arguments.length > 5 ? arguments[5] : undefined;\n    if (!lng.length) return callback(null, {});\n    if (this.readingCalls >= this.maxParallelReads) {\n      this.waitingReads.push({\n        lng,\n        ns,\n        fcName,\n        tried,\n        wait,\n        callback\n      });\n      return;\n    }\n    this.readingCalls++;\n    const resolver = (err, data) => {\n      this.readingCalls--;\n      if (this.waitingReads.length > 0) {\n        const next = this.waitingReads.shift();\n        this.read(next.lng, next.ns, next.fcName, next.tried, next.wait, next.callback);\n      }\n      if (err && data && tried < this.maxRetries) {\n        setTimeout(() => {\n          this.read.call(this, lng, ns, fcName, tried + 1, wait * 2, callback);\n        }, wait);\n        return;\n      }\n      callback(err, data);\n    };\n    const fc = this.backend[fcName].bind(this.backend);\n    if (fc.length === 2) {\n      try {\n        const r = fc(lng, ns);\n        if (r && typeof r.then === 'function') {\n          r.then(data => resolver(null, data)).catch(resolver);\n        } else {\n          resolver(null, r);\n        }\n      } catch (err) {\n        resolver(err);\n      }\n      return;\n    }\n    return fc(lng, ns, resolver);\n  }\n  prepareLoading(languages, namespaces) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    let callback = arguments.length > 3 ? arguments[3] : undefined;\n    if (!this.backend) {\n      this.logger.warn('No backend was added via i18next.use. Will not load resources.');\n      return callback && callback();\n    }\n    if (isString(languages)) languages = this.languageUtils.toResolveHierarchy(languages);\n    if (isString(namespaces)) namespaces = [namespaces];\n    const toLoad = this.queueLoad(languages, namespaces, options, callback);\n    if (!toLoad.toLoad.length) {\n      if (!toLoad.pending.length) callback();\n      return null;\n    }\n    toLoad.toLoad.forEach(name => {\n      this.loadOne(name);\n    });\n  }\n  load(languages, namespaces, callback) {\n    this.prepareLoading(languages, namespaces, {}, callback);\n  }\n  reload(languages, namespaces, callback) {\n    this.prepareLoading(languages, namespaces, {\n      reload: true\n    }, callback);\n  }\n  loadOne(name) {\n    let prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    const s = name.split('|');\n    const lng = s[0];\n    const ns = s[1];\n    this.read(lng, ns, 'read', undefined, undefined, (err, data) => {\n      if (err) this.logger.warn(`${prefix}loading namespace ${ns} for language ${lng} failed`, err);\n      if (!err && data) this.logger.log(`${prefix}loaded namespace ${ns} for language ${lng}`, data);\n      this.loaded(name, err, data);\n    });\n  }\n  saveMissing(languages, namespace, key, fallbackValue, isUpdate) {\n    let options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};\n    let clb = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : () => {};\n    if (this.services?.utils?.hasLoadedNamespace && !this.services?.utils?.hasLoadedNamespace(namespace)) {\n      this.logger.warn(`did not save key \"${key}\" as the namespace \"${namespace}\" was not yet loaded`, 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');\n      return;\n    }\n    if (key === undefined || key === null || key === '') return;\n    if (this.backend?.create) {\n      const opts = {\n        ...options,\n        isUpdate\n      };\n      const fc = this.backend.create.bind(this.backend);\n      if (fc.length < 6) {\n        try {\n          let r;\n          if (fc.length === 5) {\n            r = fc(languages, namespace, key, fallbackValue, opts);\n          } else {\n            r = fc(languages, namespace, key, fallbackValue);\n          }\n          if (r && typeof r.then === 'function') {\n            r.then(data => clb(null, data)).catch(clb);\n          } else {\n            clb(null, r);\n          }\n        } catch (err) {\n          clb(err);\n        }\n      } else {\n        fc(languages, namespace, key, fallbackValue, clb, opts);\n      }\n    }\n    if (!languages || !languages[0]) return;\n    this.store.addResource(languages[0], namespace, key, fallbackValue);\n  }\n}\n\nconst get = () => ({\n  debug: false,\n  initAsync: true,\n  ns: ['translation'],\n  defaultNS: ['translation'],\n  fallbackLng: ['dev'],\n  fallbackNS: false,\n  supportedLngs: false,\n  nonExplicitSupportedLngs: false,\n  load: 'all',\n  preload: false,\n  simplifyPluralSuffix: true,\n  keySeparator: '.',\n  nsSeparator: ':',\n  pluralSeparator: '_',\n  contextSeparator: '_',\n  partialBundledLanguages: false,\n  saveMissing: false,\n  updateMissing: false,\n  saveMissingTo: 'fallback',\n  saveMissingPlurals: true,\n  missingKeyHandler: false,\n  missingInterpolationHandler: false,\n  postProcess: false,\n  postProcessPassResolved: false,\n  returnNull: false,\n  returnEmptyString: true,\n  returnObjects: false,\n  joinArrays: false,\n  returnedObjectHandler: false,\n  parseMissingKeyHandler: false,\n  appendNamespaceToMissingKey: false,\n  appendNamespaceToCIMode: false,\n  overloadTranslationOptionHandler: args => {\n    let ret = {};\n    if (typeof args[1] === 'object') ret = args[1];\n    if (isString(args[1])) ret.defaultValue = args[1];\n    if (isString(args[2])) ret.tDescription = args[2];\n    if (typeof args[2] === 'object' || typeof args[3] === 'object') {\n      const options = args[3] || args[2];\n      Object.keys(options).forEach(key => {\n        ret[key] = options[key];\n      });\n    }\n    return ret;\n  },\n  interpolation: {\n    escapeValue: true,\n    format: value => value,\n    prefix: '{{',\n    suffix: '}}',\n    formatSeparator: ',',\n    unescapePrefix: '-',\n    nestingPrefix: '$t(',\n    nestingSuffix: ')',\n    nestingOptionsSeparator: ',',\n    maxReplaces: 1000,\n    skipOnVariables: true\n  }\n});\nconst transformOptions = options => {\n  if (isString(options.ns)) options.ns = [options.ns];\n  if (isString(options.fallbackLng)) options.fallbackLng = [options.fallbackLng];\n  if (isString(options.fallbackNS)) options.fallbackNS = [options.fallbackNS];\n  if (options.supportedLngs?.indexOf?.('cimode') < 0) {\n    options.supportedLngs = options.supportedLngs.concat(['cimode']);\n  }\n  if (typeof options.initImmediate === 'boolean') options.initAsync = options.initImmediate;\n  return options;\n};\n\nconst noop = () => {};\nconst bindMemberFunctions = inst => {\n  const mems = Object.getOwnPropertyNames(Object.getPrototypeOf(inst));\n  mems.forEach(mem => {\n    if (typeof inst[mem] === 'function') {\n      inst[mem] = inst[mem].bind(inst);\n    }\n  });\n};\nclass I18n extends EventEmitter {\n  constructor() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let callback = arguments.length > 1 ? arguments[1] : undefined;\n    super();\n    this.options = transformOptions(options);\n    this.services = {};\n    this.logger = baseLogger;\n    this.modules = {\n      external: []\n    };\n    bindMemberFunctions(this);\n    if (callback && !this.isInitialized && !options.isClone) {\n      if (!this.options.initAsync) {\n        this.init(options, callback);\n        return this;\n      }\n      setTimeout(() => {\n        this.init(options, callback);\n      }, 0);\n    }\n  }\n  init() {\n    var _this = this;\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let callback = arguments.length > 1 ? arguments[1] : undefined;\n    this.isInitializing = true;\n    if (typeof options === 'function') {\n      callback = options;\n      options = {};\n    }\n    if (options.defaultNS == null && options.ns) {\n      if (isString(options.ns)) {\n        options.defaultNS = options.ns;\n      } else if (options.ns.indexOf('translation') < 0) {\n        options.defaultNS = options.ns[0];\n      }\n    }\n    const defOpts = get();\n    this.options = {\n      ...defOpts,\n      ...this.options,\n      ...transformOptions(options)\n    };\n    this.options.interpolation = {\n      ...defOpts.interpolation,\n      ...this.options.interpolation\n    };\n    if (options.keySeparator !== undefined) {\n      this.options.userDefinedKeySeparator = options.keySeparator;\n    }\n    if (options.nsSeparator !== undefined) {\n      this.options.userDefinedNsSeparator = options.nsSeparator;\n    }\n    const createClassOnDemand = ClassOrObject => {\n      if (!ClassOrObject) return null;\n      if (typeof ClassOrObject === 'function') return new ClassOrObject();\n      return ClassOrObject;\n    };\n    if (!this.options.isClone) {\n      if (this.modules.logger) {\n        baseLogger.init(createClassOnDemand(this.modules.logger), this.options);\n      } else {\n        baseLogger.init(null, this.options);\n      }\n      let formatter;\n      if (this.modules.formatter) {\n        formatter = this.modules.formatter;\n      } else {\n        formatter = Formatter;\n      }\n      const lu = new LanguageUtil(this.options);\n      this.store = new ResourceStore(this.options.resources, this.options);\n      const s = this.services;\n      s.logger = baseLogger;\n      s.resourceStore = this.store;\n      s.languageUtils = lu;\n      s.pluralResolver = new PluralResolver(lu, {\n        prepend: this.options.pluralSeparator,\n        simplifyPluralSuffix: this.options.simplifyPluralSuffix\n      });\n      if (formatter && (!this.options.interpolation.format || this.options.interpolation.format === defOpts.interpolation.format)) {\n        s.formatter = createClassOnDemand(formatter);\n        s.formatter.init(s, this.options);\n        this.options.interpolation.format = s.formatter.format.bind(s.formatter);\n      }\n      s.interpolator = new Interpolator(this.options);\n      s.utils = {\n        hasLoadedNamespace: this.hasLoadedNamespace.bind(this)\n      };\n      s.backendConnector = new Connector(createClassOnDemand(this.modules.backend), s.resourceStore, s, this.options);\n      s.backendConnector.on('*', function (event) {\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n        _this.emit(event, ...args);\n      });\n      if (this.modules.languageDetector) {\n        s.languageDetector = createClassOnDemand(this.modules.languageDetector);\n        if (s.languageDetector.init) s.languageDetector.init(s, this.options.detection, this.options);\n      }\n      if (this.modules.i18nFormat) {\n        s.i18nFormat = createClassOnDemand(this.modules.i18nFormat);\n        if (s.i18nFormat.init) s.i18nFormat.init(this);\n      }\n      this.translator = new Translator(this.services, this.options);\n      this.translator.on('*', function (event) {\n        for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n          args[_key2 - 1] = arguments[_key2];\n        }\n        _this.emit(event, ...args);\n      });\n      this.modules.external.forEach(m => {\n        if (m.init) m.init(this);\n      });\n    }\n    this.format = this.options.interpolation.format;\n    if (!callback) callback = noop;\n    if (this.options.fallbackLng && !this.services.languageDetector && !this.options.lng) {\n      const codes = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n      if (codes.length > 0 && codes[0] !== 'dev') this.options.lng = codes[0];\n    }\n    if (!this.services.languageDetector && !this.options.lng) {\n      this.logger.warn('init: no languageDetector is used and no lng is defined');\n    }\n    const storeApi = ['getResource', 'hasResourceBundle', 'getResourceBundle', 'getDataByLanguage'];\n    storeApi.forEach(fcName => {\n      this[fcName] = function () {\n        return _this.store[fcName](...arguments);\n      };\n    });\n    const storeApiChained = ['addResource', 'addResources', 'addResourceBundle', 'removeResourceBundle'];\n    storeApiChained.forEach(fcName => {\n      this[fcName] = function () {\n        _this.store[fcName](...arguments);\n        return _this;\n      };\n    });\n    const deferred = defer();\n    const load = () => {\n      const finish = (err, t) => {\n        this.isInitializing = false;\n        if (this.isInitialized && !this.initializedStoreOnce) this.logger.warn('init: i18next is already initialized. You should call init just once!');\n        this.isInitialized = true;\n        if (!this.options.isClone) this.logger.log('initialized', this.options);\n        this.emit('initialized', this.options);\n        deferred.resolve(t);\n        callback(err, t);\n      };\n      if (this.languages && !this.isInitialized) return finish(null, this.t.bind(this));\n      this.changeLanguage(this.options.lng, finish);\n    };\n    if (this.options.resources || !this.options.initAsync) {\n      load();\n    } else {\n      setTimeout(load, 0);\n    }\n    return deferred;\n  }\n  loadResources(language) {\n    let callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n    let usedCallback = callback;\n    const usedLng = isString(language) ? language : this.language;\n    if (typeof language === 'function') usedCallback = language;\n    if (!this.options.resources || this.options.partialBundledLanguages) {\n      if (usedLng?.toLowerCase() === 'cimode' && (!this.options.preload || this.options.preload.length === 0)) return usedCallback();\n      const toLoad = [];\n      const append = lng => {\n        if (!lng) return;\n        if (lng === 'cimode') return;\n        const lngs = this.services.languageUtils.toResolveHierarchy(lng);\n        lngs.forEach(l => {\n          if (l === 'cimode') return;\n          if (toLoad.indexOf(l) < 0) toLoad.push(l);\n        });\n      };\n      if (!usedLng) {\n        const fallbacks = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n        fallbacks.forEach(l => append(l));\n      } else {\n        append(usedLng);\n      }\n      this.options.preload?.forEach?.(l => append(l));\n      this.services.backendConnector.load(toLoad, this.options.ns, e => {\n        if (!e && !this.resolvedLanguage && this.language) this.setResolvedLanguage(this.language);\n        usedCallback(e);\n      });\n    } else {\n      usedCallback(null);\n    }\n  }\n  reloadResources(lngs, ns, callback) {\n    const deferred = defer();\n    if (typeof lngs === 'function') {\n      callback = lngs;\n      lngs = undefined;\n    }\n    if (typeof ns === 'function') {\n      callback = ns;\n      ns = undefined;\n    }\n    if (!lngs) lngs = this.languages;\n    if (!ns) ns = this.options.ns;\n    if (!callback) callback = noop;\n    this.services.backendConnector.reload(lngs, ns, err => {\n      deferred.resolve();\n      callback(err);\n    });\n    return deferred;\n  }\n  use(module) {\n    if (!module) throw new Error('You are passing an undefined module! Please check the object you are passing to i18next.use()');\n    if (!module.type) throw new Error('You are passing a wrong module! Please check the object you are passing to i18next.use()');\n    if (module.type === 'backend') {\n      this.modules.backend = module;\n    }\n    if (module.type === 'logger' || module.log && module.warn && module.error) {\n      this.modules.logger = module;\n    }\n    if (module.type === 'languageDetector') {\n      this.modules.languageDetector = module;\n    }\n    if (module.type === 'i18nFormat') {\n      this.modules.i18nFormat = module;\n    }\n    if (module.type === 'postProcessor') {\n      postProcessor.addPostProcessor(module);\n    }\n    if (module.type === 'formatter') {\n      this.modules.formatter = module;\n    }\n    if (module.type === '3rdParty') {\n      this.modules.external.push(module);\n    }\n    return this;\n  }\n  setResolvedLanguage(l) {\n    if (!l || !this.languages) return;\n    if (['cimode', 'dev'].indexOf(l) > -1) return;\n    for (let li = 0; li < this.languages.length; li++) {\n      const lngInLngs = this.languages[li];\n      if (['cimode', 'dev'].indexOf(lngInLngs) > -1) continue;\n      if (this.store.hasLanguageSomeTranslations(lngInLngs)) {\n        this.resolvedLanguage = lngInLngs;\n        break;\n      }\n    }\n  }\n  changeLanguage(lng, callback) {\n    var _this2 = this;\n    this.isLanguageChangingTo = lng;\n    const deferred = defer();\n    this.emit('languageChanging', lng);\n    const setLngProps = l => {\n      this.language = l;\n      this.languages = this.services.languageUtils.toResolveHierarchy(l);\n      this.resolvedLanguage = undefined;\n      this.setResolvedLanguage(l);\n    };\n    const done = (err, l) => {\n      if (l) {\n        setLngProps(l);\n        this.translator.changeLanguage(l);\n        this.isLanguageChangingTo = undefined;\n        this.emit('languageChanged', l);\n        this.logger.log('languageChanged', l);\n      } else {\n        this.isLanguageChangingTo = undefined;\n      }\n      deferred.resolve(function () {\n        return _this2.t(...arguments);\n      });\n      if (callback) callback(err, function () {\n        return _this2.t(...arguments);\n      });\n    };\n    const setLng = lngs => {\n      if (!lng && !lngs && this.services.languageDetector) lngs = [];\n      const l = isString(lngs) ? lngs : this.services.languageUtils.getBestMatchFromCodes(lngs);\n      if (l) {\n        if (!this.language) {\n          setLngProps(l);\n        }\n        if (!this.translator.language) this.translator.changeLanguage(l);\n        this.services.languageDetector?.cacheUserLanguage?.(l);\n      }\n      this.loadResources(l, err => {\n        done(err, l);\n      });\n    };\n    if (!lng && this.services.languageDetector && !this.services.languageDetector.async) {\n      setLng(this.services.languageDetector.detect());\n    } else if (!lng && this.services.languageDetector && this.services.languageDetector.async) {\n      if (this.services.languageDetector.detect.length === 0) {\n        this.services.languageDetector.detect().then(setLng);\n      } else {\n        this.services.languageDetector.detect(setLng);\n      }\n    } else {\n      setLng(lng);\n    }\n    return deferred;\n  }\n  getFixedT(lng, ns, keyPrefix) {\n    var _this3 = this;\n    const fixedT = function (key, opts) {\n      let options;\n      if (typeof opts !== 'object') {\n        for (var _len3 = arguments.length, rest = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n          rest[_key3 - 2] = arguments[_key3];\n        }\n        options = _this3.options.overloadTranslationOptionHandler([key, opts].concat(rest));\n      } else {\n        options = {\n          ...opts\n        };\n      }\n      options.lng = options.lng || fixedT.lng;\n      options.lngs = options.lngs || fixedT.lngs;\n      options.ns = options.ns || fixedT.ns;\n      if (options.keyPrefix !== '') options.keyPrefix = options.keyPrefix || keyPrefix || fixedT.keyPrefix;\n      const keySeparator = _this3.options.keySeparator || '.';\n      let resultKey;\n      if (options.keyPrefix && Array.isArray(key)) {\n        resultKey = key.map(k => `${options.keyPrefix}${keySeparator}${k}`);\n      } else {\n        resultKey = options.keyPrefix ? `${options.keyPrefix}${keySeparator}${key}` : key;\n      }\n      return _this3.t(resultKey, options);\n    };\n    if (isString(lng)) {\n      fixedT.lng = lng;\n    } else {\n      fixedT.lngs = lng;\n    }\n    fixedT.ns = ns;\n    fixedT.keyPrefix = keyPrefix;\n    return fixedT;\n  }\n  t() {\n    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n    return this.translator?.translate(...args);\n  }\n  exists() {\n    for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n      args[_key5] = arguments[_key5];\n    }\n    return this.translator?.exists(...args);\n  }\n  setDefaultNamespace(ns) {\n    this.options.defaultNS = ns;\n  }\n  hasLoadedNamespace(ns) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    if (!this.isInitialized) {\n      this.logger.warn('hasLoadedNamespace: i18next was not initialized', this.languages);\n      return false;\n    }\n    if (!this.languages || !this.languages.length) {\n      this.logger.warn('hasLoadedNamespace: i18n.languages were undefined or empty', this.languages);\n      return false;\n    }\n    const lng = options.lng || this.resolvedLanguage || this.languages[0];\n    const fallbackLng = this.options ? this.options.fallbackLng : false;\n    const lastLng = this.languages[this.languages.length - 1];\n    if (lng.toLowerCase() === 'cimode') return true;\n    const loadNotPending = (l, n) => {\n      const loadState = this.services.backendConnector.state[`${l}|${n}`];\n      return loadState === -1 || loadState === 0 || loadState === 2;\n    };\n    if (options.precheck) {\n      const preResult = options.precheck(this, loadNotPending);\n      if (preResult !== undefined) return preResult;\n    }\n    if (this.hasResourceBundle(lng, ns)) return true;\n    if (!this.services.backendConnector.backend || this.options.resources && !this.options.partialBundledLanguages) return true;\n    if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;\n    return false;\n  }\n  loadNamespaces(ns, callback) {\n    const deferred = defer();\n    if (!this.options.ns) {\n      if (callback) callback();\n      return Promise.resolve();\n    }\n    if (isString(ns)) ns = [ns];\n    ns.forEach(n => {\n      if (this.options.ns.indexOf(n) < 0) this.options.ns.push(n);\n    });\n    this.loadResources(err => {\n      deferred.resolve();\n      if (callback) callback(err);\n    });\n    return deferred;\n  }\n  loadLanguages(lngs, callback) {\n    const deferred = defer();\n    if (isString(lngs)) lngs = [lngs];\n    const preloaded = this.options.preload || [];\n    const newLngs = lngs.filter(lng => preloaded.indexOf(lng) < 0 && this.services.languageUtils.isSupportedCode(lng));\n    if (!newLngs.length) {\n      if (callback) callback();\n      return Promise.resolve();\n    }\n    this.options.preload = preloaded.concat(newLngs);\n    this.loadResources(err => {\n      deferred.resolve();\n      if (callback) callback(err);\n    });\n    return deferred;\n  }\n  dir(lng) {\n    if (!lng) lng = this.resolvedLanguage || (this.languages?.length > 0 ? this.languages[0] : this.language);\n    if (!lng) return 'rtl';\n    const rtlLngs = ['ar', 'shu', 'sqr', 'ssh', 'xaa', 'yhd', 'yud', 'aao', 'abh', 'abv', 'acm', 'acq', 'acw', 'acx', 'acy', 'adf', 'ads', 'aeb', 'aec', 'afb', 'ajp', 'apc', 'apd', 'arb', 'arq', 'ars', 'ary', 'arz', 'auz', 'avl', 'ayh', 'ayl', 'ayn', 'ayp', 'bbz', 'pga', 'he', 'iw', 'ps', 'pbt', 'pbu', 'pst', 'prp', 'prd', 'ug', 'ur', 'ydd', 'yds', 'yih', 'ji', 'yi', 'hbo', 'men', 'xmn', 'fa', 'jpr', 'peo', 'pes', 'prs', 'dv', 'sam', 'ckb'];\n    const languageUtils = this.services?.languageUtils || new LanguageUtil(get());\n    return rtlLngs.indexOf(languageUtils.getLanguagePartFromCode(lng)) > -1 || lng.toLowerCase().indexOf('-arab') > 1 ? 'rtl' : 'ltr';\n  }\n  static createInstance() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let callback = arguments.length > 1 ? arguments[1] : undefined;\n    return new I18n(options, callback);\n  }\n  cloneInstance() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n    const forkResourceStore = options.forkResourceStore;\n    if (forkResourceStore) delete options.forkResourceStore;\n    const mergedOptions = {\n      ...this.options,\n      ...options,\n      ...{\n        isClone: true\n      }\n    };\n    const clone = new I18n(mergedOptions);\n    if (options.debug !== undefined || options.prefix !== undefined) {\n      clone.logger = clone.logger.clone(options);\n    }\n    const membersToCopy = ['store', 'services', 'language'];\n    membersToCopy.forEach(m => {\n      clone[m] = this[m];\n    });\n    clone.services = {\n      ...this.services\n    };\n    clone.services.utils = {\n      hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n    };\n    if (forkResourceStore) {\n      const clonedData = Object.keys(this.store.data).reduce((prev, l) => {\n        prev[l] = {\n          ...this.store.data[l]\n        };\n        return Object.keys(prev[l]).reduce((acc, n) => {\n          acc[n] = {\n            ...prev[l][n]\n          };\n          return acc;\n        }, {});\n      }, {});\n      clone.store = new ResourceStore(clonedData, mergedOptions);\n      clone.services.resourceStore = clone.store;\n    }\n    clone.translator = new Translator(clone.services, mergedOptions);\n    clone.translator.on('*', function (event) {\n      for (var _len6 = arguments.length, args = new Array(_len6 > 1 ? _len6 - 1 : 0), _key6 = 1; _key6 < _len6; _key6++) {\n        args[_key6 - 1] = arguments[_key6];\n      }\n      clone.emit(event, ...args);\n    });\n    clone.init(mergedOptions, callback);\n    clone.translator.options = mergedOptions;\n    clone.translator.backendConnector.services.utils = {\n      hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n    };\n    return clone;\n  }\n  toJSON() {\n    return {\n      options: this.options,\n      store: this.store,\n      language: this.language,\n      languages: this.languages,\n      resolvedLanguage: this.resolvedLanguage\n    };\n  }\n}\nconst instance = I18n.createInstance();\ninstance.createInstance = I18n.createInstance;\n\nconst createInstance = instance.createInstance;\nconst dir = instance.dir;\nconst init = instance.init;\nconst loadResources = instance.loadResources;\nconst reloadResources = instance.reloadResources;\nconst use = instance.use;\nconst changeLanguage = instance.changeLanguage;\nconst getFixedT = instance.getFixedT;\nconst t = instance.t;\nconst exists = instance.exists;\nconst setDefaultNamespace = instance.setDefaultNamespace;\nconst hasLoadedNamespace = instance.hasLoadedNamespace;\nconst loadNamespaces = instance.loadNamespaces;\nconst loadLanguages = instance.loadLanguages;\n\nexport { changeLanguage, createInstance, instance as default, dir, exists, getFixedT, hasLoadedNamespace, init, loadLanguages, loadNamespaces, loadResources, reloadResources, setDefaultNamespace, t, use };\n","import i18next from 'i18next';\n\n// global variable as cache for translations\nconst translationCache = {};\n\n// fetches overrides for given language\nasync function fetchOverridesByLanguage(overrides, lng) {\n  let result = await\n      fetch(overrides + lng +'/translation.json', {\n          headers: {'Content-Type': 'application/json'},\n      });\n  let json = await result.json();\n  return json;\n}\n\n// handles translation cache promises\nasync function cacheOverrides(overridesFile, lng) {\n  // use global var as cache\n  if (translationCache[lng] === undefined) {\n    // get translation.json for each lang\n    let response = fetchOverridesByLanguage(overridesFile, lng);\n    translationCache[lng] = response;\n    return response;\n  } else {\n    return translationCache[lng];\n  }\n}\n\n/**\n * Like Intl.DateTimeFormat().format() but uses the current language as locale.\n *\n * A i18next instance can be created with createInstance()\n *\n * @param {i18next.i18n} i18n - The i18next instance\n * @param {Date} date - The date to format\n * @param {object} options - Options passed to Intl.DateTimeFormat\n * @returns {string} The formatted datetime\n */\nexport function dateTimeFormat(i18n, date, options = {}) {\n    return new Intl.DateTimeFormat(i18n.languages, options).format(date);\n}\n\n/**\n * Like Intl.NumberFormat().format() but uses the current language as locale.\n *\n * A i18next instance can be created with createInstance()\n *\n * @param {i18next.i18n} i18n - The i18next instance\n * @param {number} number - The number to format\n * @param {object} options - Options passed to Intl.NumberFormat\n * @returns {string} The formatted number\n */\nexport function numberFormat(i18n, number, options = {}) {\n    return new Intl.NumberFormat(i18n.languages, options).format(number);\n}\n\nexport function humanFileSize(bytes, si = false) {\n    const thresh = si ? 1000 : 1024;\n    if (Math.abs(bytes) < thresh) {\n        return bytes + ' B';\n    }\n    const units = ['kB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n    let u = -1;\n    do {\n        bytes /= thresh;\n        ++u;\n    } while (Math.abs(bytes) >= thresh && u < units.length - 1);\n    return bytes.toFixed(1) + ' ' + units[u];\n}\n\n/**\n * @param {string} namespace The namespace to override\n * @returns {string} The new namespace name\n */\nfunction getOverrideNamespace(namespace) {\n    // This just needs to be different to the namespace, make it special\n    // so it's clear what it is used for in case it ends up in some error\n    // message or something\n    return '--' + namespace + '-override';\n}\n\n/**\n * Creates a new i18next instance that is fully initialized.\n *\n * Call changeLanguage() on the returned object to change the language.\n *\n * @param {object} languages - Mapping from languages to translation objects\n * @param {string} lng - The default language\n * @param {string} fallback - The fallback language to use for unknown languages or untranslated keys\n * @param {string} [namespace] - The i18next namespace to load, defaults to 'translation'\n * @returns {i18next.i18n} A new independent i18next instance\n */\nexport function createInstance(languages, lng, fallback, namespace) {\n    if (namespace === undefined) {\n        namespace = 'translation';\n    }\n    let overrideNamespace = getOverrideNamespace(namespace);\n\n    var fallbackLng = [fallback, lng, ...Object.keys(languages)];\n\n    var options = {\n        lng: lng,\n        fallbackLng: fallbackLng,\n        debug: false,\n        ns: [overrideNamespace, namespace],\n        defaultNS: namespace,\n        fallbackNS: namespace,\n        initImmediate: false, // Don't init async (deprecated since v24)\n        initAsync: false, // Don't init async\n        resources: {},\n        // https://www.i18next.com/misc/migration-guide\n        compatibilityJSON: 'v4',\n    };\n\n    Object.keys(languages).forEach(function (key) {\n        options['resources'][key] = {[namespace]: languages[key]};\n    });\n\n    var i18n = i18next.createInstance();\n    i18n.init(options);\n    console.assert(i18n.isInitialized);\n\n    return i18n;\n}\n\n/**\n * Sets translation overrides for the given i18next instance. Any previously\n * applied overrides will be removed first. So calling this with an empty overrides\n * object is equal to removing all overrides.\n *\n * @param {i18next.i18n} i18n - The i18next instance\n * @param {HTMLElement} element - The element at which the overrides are targeted\n * @param {object} overrides - The override data in the following format: \"{language: {tag-name: {key: value}}}\"\n */\nexport function setOverrides(i18n, element, overrides) {\n    // We add a special namespace which gets used with priority and falls back\n    // to the original one. This way we an change the overrides at runtime\n    // and can even remove them.\n\n    // The scoped mixin saves the real tag name under data-tag-name\n    let tagName = ((element.dataset && element.dataset.tagName) || element.tagName).toLowerCase();\n    let namespace = i18n.options.fallbackNS;\n    let overrideNamespace = getOverrideNamespace(namespace);\n    let hasOverrides = false;\n    for (let lng of i18n.languages) {\n        i18n.removeResourceBundle(lng, overrideNamespace);\n        if (overrides[lng] === undefined || overrides[lng][tagName] === undefined) continue;\n        let resources = overrides[lng][tagName];\n        hasOverrides = true;\n        i18n.addResourceBundle(lng, overrideNamespace, resources);\n    }\n    i18n.setDefaultNamespace(hasOverrides ? overrideNamespace : namespace);\n}\n\n/**\n * Sets translation overrides for the given i18next instance. Any previously\n * applied overrides will be removed first. So calling this with an empty overrides\n * object is equal to removing all overrides.\n * Expects overrides as promise and requests update after overrides have been set.\n *\n * @param {i18next.i18n} i18n - The i18next instance\n * @param {HTMLElement} element - The element at which the overrides are targeted\n */\nexport async function setOverridesByGlobalCache(i18n, element) {\n    // We add a special namespace which gets used with priority and falls back\n    // to the original one. This way we an change the overrides at runtime\n    // and can even remove them.\n\n\n\n    // The scoped mixin saves the real tag name under data-tag-name\n    let tagName = ((element.dataset && element.dataset.tagName) || element.tagName).toLowerCase();\n    let namespace = i18n.options.fallbackNS;\n    let overrideNamespace = getOverrideNamespace(namespace);\n    let hasOverrides = false;\n    for (let lng of i18n.languages) {\n        cacheOverrides(element.langDir, lng);\n        translationCache[lng] = await translationCache[lng];\n        i18n.removeResourceBundle(lng, overrideNamespace);\n        if (translationCache[lng] === undefined || translationCache[lng][tagName] === undefined) continue;\n        let resources = translationCache[lng][tagName];\n        hasOverrides = true;\n        i18n.addResourceBundle(lng, overrideNamespace, resources);\n    }\n    i18n.setDefaultNamespace(hasOverrides ? overrideNamespace : namespace);\n    element.requestUpdate();\n}\n","// nb. This is for IE10 and lower _only_.\nvar supportCustomEvent = window.CustomEvent;\nif (!supportCustomEvent || typeof supportCustomEvent === 'object') {\n  supportCustomEvent = function CustomEvent(event, x) {\n    x = x || {};\n    var ev = document.createEvent('CustomEvent');\n    ev.initCustomEvent(event, !!x.bubbles, !!x.cancelable, x.detail || null);\n    return ev;\n  };\n  supportCustomEvent.prototype = window.Event.prototype;\n}\n\n/**\n * Dispatches the passed event to both an \"on<type>\" handler as well as via the\n * normal dispatch operation. Does not bubble.\n *\n * @param {!EventTarget} target\n * @param {!Event} event\n * @return {boolean}\n */\nfunction safeDispatchEvent(target, event) {\n  var check = 'on' + event.type.toLowerCase();\n  if (typeof target[check] === 'function') {\n    target[check](event);\n  }\n  return target.dispatchEvent(event);\n}\n\n/**\n * @param {Element} el to check for stacking context\n * @return {boolean} whether this el or its parents creates a stacking context\n */\nfunction createsStackingContext(el) {\n  while (el && el !== document.body) {\n    var s = window.getComputedStyle(el);\n    var invalid = function(k, ok) {\n      return !(s[k] === undefined || s[k] === ok);\n    };\n\n    if (s.opacity < 1 ||\n        invalid('zIndex', 'auto') ||\n        invalid('transform', 'none') ||\n        invalid('mixBlendMode', 'normal') ||\n        invalid('filter', 'none') ||\n        invalid('perspective', 'none') ||\n        s['isolation'] === 'isolate' ||\n        s.position === 'fixed' ||\n        s.webkitOverflowScrolling === 'touch') {\n      return true;\n    }\n    el = el.parentElement;\n  }\n  return false;\n}\n\n/**\n * Finds the nearest <dialog> from the passed element.\n *\n * @param {Element} el to search from\n * @return {HTMLDialogElement} dialog found\n */\nfunction findNearestDialog(el) {\n  while (el) {\n    if (el.localName === 'dialog') {\n      return /** @type {HTMLDialogElement} */ (el);\n    }\n    if (el.parentElement) {\n      el = el.parentElement;\n    } else if (el.parentNode) {\n      el = el.parentNode.host;\n    } else {\n      el = null;\n    }\n  }\n  return null;\n}\n\n/**\n * Blur the specified element, as long as it's not the HTML body element.\n * This works around an IE9/10 bug - blurring the body causes Windows to\n * blur the whole application.\n *\n * @param {Element} el to blur\n */\nfunction safeBlur(el) {\n  // Find the actual focused element when the active element is inside a shadow root\n  while (el && el.shadowRoot && el.shadowRoot.activeElement) {\n    el = el.shadowRoot.activeElement;\n  }\n\n  if (el && el.blur && el !== document.body) {\n    el.blur();\n  }\n}\n\n/**\n * @param {!NodeList} nodeList to search\n * @param {Node} node to find\n * @return {boolean} whether node is inside nodeList\n */\nfunction inNodeList(nodeList, node) {\n  for (var i = 0; i < nodeList.length; ++i) {\n    if (nodeList[i] === node) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * @param {HTMLFormElement} el to check\n * @return {boolean} whether this form has method=\"dialog\"\n */\nfunction isFormMethodDialog(el) {\n  if (!el || !el.hasAttribute('method')) {\n    return false;\n  }\n  return el.getAttribute('method').toLowerCase() === 'dialog';\n}\n\n/**\n * @param {!DocumentFragment|!Element} hostElement\n * @return {?Element}\n */\nfunction findFocusableElementWithin(hostElement) {\n  // Note that this is 'any focusable area'. This list is probably not exhaustive, but the\n  // alternative involves stepping through and trying to focus everything.\n  var opts = ['button', 'input', 'keygen', 'select', 'textarea'];\n  var query = opts.map(function(el) {\n    return el + ':not([disabled])';\n  });\n  // TODO(samthor): tabindex values that are not numeric are not focusable.\n  query.push('[tabindex]:not([disabled]):not([tabindex=\"\"])');  // tabindex != \"\", not disabled\n  var target = hostElement.querySelector(query.join(', '));\n\n  if (!target && 'attachShadow' in Element.prototype) {\n    // If we haven't found a focusable target, see if the host element contains an element\n    // which has a shadowRoot.\n    // Recursively search for the first focusable item in shadow roots.\n    var elems = hostElement.querySelectorAll('*');\n    for (var i = 0; i < elems.length; i++) {\n      if (elems[i].tagName && elems[i].shadowRoot) {\n        target = findFocusableElementWithin(elems[i].shadowRoot);\n        if (target) {\n          break;\n        }\n      }\n    }\n  }\n  return target;\n}\n\n/**\n * Determines if an element is attached to the DOM.\n * @param {Element} element to check\n * @return {boolean} whether the element is in DOM\n */\nfunction isConnected(element) {\n  return element.isConnected || document.body.contains(element);\n}\n\n/**\n * @param {!Event} event\n * @return {?Element}\n */\nfunction findFormSubmitter(event) {\n  if (event.submitter) {\n    return event.submitter;\n  }\n\n  var form = event.target;\n  if (!(form instanceof HTMLFormElement)) {\n    return null;\n  }\n\n  var submitter = dialogPolyfill.formSubmitter;\n  if (!submitter) {\n    var target = event.target;\n    var root = ('getRootNode' in target && target.getRootNode() || document);\n    submitter = root.activeElement;\n  }\n\n  if (!submitter || submitter.form !== form) {\n    return null;\n  }\n  return submitter;\n}\n\n/**\n * @param {!Event} event\n */\nfunction maybeHandleSubmit(event) {\n  if (event.defaultPrevented) {\n    return;\n  }\n  var form = /** @type {!HTMLFormElement} */ (event.target);\n\n  // We'd have a value if we clicked on an imagemap.\n  var value = dialogPolyfill.imagemapUseValue;\n  var submitter = findFormSubmitter(event);\n  if (value === null && submitter) {\n    value = submitter.value;\n  }\n\n  // There should always be a dialog as this handler is added specifically on them, but check just\n  // in case.\n  var dialog = findNearestDialog(form);\n  if (!dialog) {\n    return;\n  }\n\n  // Prefer formmethod on the button.\n  var formmethod = submitter && submitter.getAttribute('formmethod') || form.getAttribute('method');\n  if (formmethod !== 'dialog') {\n    return;\n  }\n  event.preventDefault();\n\n  if (value != null) {\n    // nb. we explicitly check against null/undefined\n    dialog.close(value);\n  } else {\n    dialog.close();\n  }\n}\n\n/**\n * @param {!HTMLDialogElement} dialog to upgrade\n * @constructor\n */\nfunction dialogPolyfillInfo(dialog) {\n  this.dialog_ = dialog;\n  this.replacedStyleTop_ = false;\n  this.openAsModal_ = false;\n\n  // Set a11y role. Browsers that support dialog implicitly know this already.\n  if (!dialog.hasAttribute('role')) {\n    dialog.setAttribute('role', 'dialog');\n  }\n\n  dialog.show = this.show.bind(this);\n  dialog.showModal = this.showModal.bind(this);\n  dialog.close = this.close.bind(this);\n\n  dialog.addEventListener('submit', maybeHandleSubmit, false);\n\n  if (!('returnValue' in dialog)) {\n    dialog.returnValue = '';\n  }\n\n  if ('MutationObserver' in window) {\n    var mo = new MutationObserver(this.maybeHideModal.bind(this));\n    mo.observe(dialog, {attributes: true, attributeFilter: ['open']});\n  } else {\n    // IE10 and below support. Note that DOMNodeRemoved etc fire _before_ removal. They also\n    // seem to fire even if the element was removed as part of a parent removal. Use the removed\n    // events to force downgrade (useful if removed/immediately added).\n    var removed = false;\n    var cb = function() {\n      removed ? this.downgradeModal() : this.maybeHideModal();\n      removed = false;\n    }.bind(this);\n    var timeout;\n    var delayModel = function(ev) {\n      if (ev.target !== dialog) { return; }  // not for a child element\n      var cand = 'DOMNodeRemoved';\n      removed |= (ev.type.substr(0, cand.length) === cand);\n      window.clearTimeout(timeout);\n      timeout = window.setTimeout(cb, 0);\n    };\n    ['DOMAttrModified', 'DOMNodeRemoved', 'DOMNodeRemovedFromDocument'].forEach(function(name) {\n      dialog.addEventListener(name, delayModel);\n    });\n  }\n  // Note that the DOM is observed inside DialogManager while any dialog\n  // is being displayed as a modal, to catch modal removal from the DOM.\n\n  Object.defineProperty(dialog, 'open', {\n    set: this.setOpen.bind(this),\n    get: dialog.hasAttribute.bind(dialog, 'open')\n  });\n\n  this.backdrop_ = document.createElement('div');\n  this.backdrop_.className = 'backdrop';\n  this.backdrop_.addEventListener('mouseup'  , this.backdropMouseEvent_.bind(this));\n  this.backdrop_.addEventListener('mousedown', this.backdropMouseEvent_.bind(this));\n  this.backdrop_.addEventListener('click'    , this.backdropMouseEvent_.bind(this));\n}\n\ndialogPolyfillInfo.prototype = /** @type {HTMLDialogElement.prototype} */ ({\n\n  get dialog() {\n    return this.dialog_;\n  },\n\n  /**\n   * Maybe remove this dialog from the modal top layer. This is called when\n   * a modal dialog may no longer be tenable, e.g., when the dialog is no\n   * longer open or is no longer part of the DOM.\n   */\n  maybeHideModal: function() {\n    if (this.dialog_.hasAttribute('open') && isConnected(this.dialog_)) { return; }\n    this.downgradeModal();\n  },\n\n  /**\n   * Remove this dialog from the modal top layer, leaving it as a non-modal.\n   */\n  downgradeModal: function() {\n    if (!this.openAsModal_) { return; }\n    this.openAsModal_ = false;\n    this.dialog_.style.zIndex = '';\n\n    // This won't match the native <dialog> exactly because if the user set top on a centered\n    // polyfill dialog, that top gets thrown away when the dialog is closed. Not sure it's\n    // possible to polyfill this perfectly.\n    if (this.replacedStyleTop_) {\n      this.dialog_.style.top = '';\n      this.replacedStyleTop_ = false;\n    }\n\n    // Clear the backdrop and remove from the manager.\n    this.backdrop_.parentNode && this.backdrop_.parentNode.removeChild(this.backdrop_);\n    dialogPolyfill.dm.removeDialog(this);\n  },\n\n  /**\n   * @param {boolean} value whether to open or close this dialog\n   */\n  setOpen: function(value) {\n    if (value) {\n      this.dialog_.hasAttribute('open') || this.dialog_.setAttribute('open', '');\n    } else {\n      this.dialog_.removeAttribute('open');\n      this.maybeHideModal();  // nb. redundant with MutationObserver\n    }\n  },\n\n  /**\n   * Handles mouse events ('mouseup', 'mousedown', 'click') on the fake .backdrop element, redirecting them as if\n   * they were on the dialog itself.\n   *\n   * @param {!Event} e to redirect\n   */\n  backdropMouseEvent_: function(e) {\n    if (!this.dialog_.hasAttribute('tabindex')) {\n      // Clicking on the backdrop should move the implicit cursor, even if dialog cannot be\n      // focused. Create a fake thing to focus on. If the backdrop was _before_ the dialog, this\n      // would not be needed - clicks would move the implicit cursor there.\n      var fake = document.createElement('div');\n      this.dialog_.insertBefore(fake, this.dialog_.firstChild);\n      fake.tabIndex = -1;\n      fake.focus();\n      this.dialog_.removeChild(fake);\n    } else {\n      this.dialog_.focus();\n    }\n\n    var redirectedEvent = document.createEvent('MouseEvents');\n    redirectedEvent.initMouseEvent(e.type, e.bubbles, e.cancelable, window,\n        e.detail, e.screenX, e.screenY, e.clientX, e.clientY, e.ctrlKey,\n        e.altKey, e.shiftKey, e.metaKey, e.button, e.relatedTarget);\n    this.dialog_.dispatchEvent(redirectedEvent);\n    e.stopPropagation();\n  },\n\n  /**\n   * Focuses on the first focusable element within the dialog. This will always blur the current\n   * focus, even if nothing within the dialog is found.\n   */\n  focus_: function() {\n    // Find element with `autofocus` attribute, or fall back to the first form/tabindex control.\n    var target = this.dialog_.querySelector('[autofocus]:not([disabled])');\n    if (!target && this.dialog_.tabIndex >= 0) {\n      target = this.dialog_;\n    }\n    if (!target) {\n      target = findFocusableElementWithin(this.dialog_);\n    }\n    safeBlur(document.activeElement);\n    target && target.focus();\n  },\n\n  /**\n   * Sets the zIndex for the backdrop and dialog.\n   *\n   * @param {number} dialogZ\n   * @param {number} backdropZ\n   */\n  updateZIndex: function(dialogZ, backdropZ) {\n    if (dialogZ < backdropZ) {\n      throw new Error('dialogZ should never be < backdropZ');\n    }\n    this.dialog_.style.zIndex = dialogZ;\n    this.backdrop_.style.zIndex = backdropZ;\n  },\n\n  /**\n   * Shows the dialog. If the dialog is already open, this does nothing.\n   */\n  show: function() {\n    if (!this.dialog_.open) {\n      this.setOpen(true);\n      this.focus_();\n    }\n  },\n\n  /**\n   * Show this dialog modally.\n   */\n  showModal: function() {\n    if (this.dialog_.hasAttribute('open')) {\n      throw new Error('Failed to execute \\'showModal\\' on dialog: The element is already open, and therefore cannot be opened modally.');\n    }\n    if (!isConnected(this.dialog_)) {\n      throw new Error('Failed to execute \\'showModal\\' on dialog: The element is not in a Document.');\n    }\n    if (!dialogPolyfill.dm.pushDialog(this)) {\n      throw new Error('Failed to execute \\'showModal\\' on dialog: There are too many open modal dialogs.');\n    }\n\n    if (createsStackingContext(this.dialog_.parentElement)) {\n      console.warn('A dialog is being shown inside a stacking context. ' +\n          'This may cause it to be unusable. For more information, see this link: ' +\n          'https://github.com/GoogleChrome/dialog-polyfill/#stacking-context');\n    }\n\n    this.setOpen(true);\n    this.openAsModal_ = true;\n\n    // Optionally center vertically, relative to the current viewport.\n    if (dialogPolyfill.needsCentering(this.dialog_)) {\n      dialogPolyfill.reposition(this.dialog_);\n      this.replacedStyleTop_ = true;\n    } else {\n      this.replacedStyleTop_ = false;\n    }\n\n    // Insert backdrop.\n    this.dialog_.parentNode.insertBefore(this.backdrop_, this.dialog_.nextSibling);\n\n    // Focus on whatever inside the dialog.\n    this.focus_();\n  },\n\n  /**\n   * Closes this HTMLDialogElement. This is optional vs clearing the open\n   * attribute, however this fires a 'close' event.\n   *\n   * @param {string=} opt_returnValue to use as the returnValue\n   */\n  close: function(opt_returnValue) {\n    if (!this.dialog_.hasAttribute('open')) {\n      throw new Error('Failed to execute \\'close\\' on dialog: The element does not have an \\'open\\' attribute, and therefore cannot be closed.');\n    }\n    this.setOpen(false);\n\n    // Leave returnValue untouched in case it was set directly on the element\n    if (opt_returnValue !== undefined) {\n      this.dialog_.returnValue = opt_returnValue;\n    }\n\n    // Triggering \"close\" event for any attached listeners on the <dialog>.\n    var closeEvent = new supportCustomEvent('close', {\n      bubbles: false,\n      cancelable: false\n    });\n    safeDispatchEvent(this.dialog_, closeEvent);\n  }\n\n});\n\nvar dialogPolyfill = {};\n\ndialogPolyfill.reposition = function(element) {\n  var scrollTop = document.body.scrollTop || document.documentElement.scrollTop;\n  var topValue = scrollTop + (window.innerHeight - element.offsetHeight) / 2;\n  element.style.top = Math.max(scrollTop, topValue) + 'px';\n};\n\ndialogPolyfill.isInlinePositionSetByStylesheet = function(element) {\n  for (var i = 0; i < document.styleSheets.length; ++i) {\n    var styleSheet = document.styleSheets[i];\n    var cssRules = null;\n    // Some browsers throw on cssRules.\n    try {\n      cssRules = styleSheet.cssRules;\n    } catch (e) {}\n    if (!cssRules) { continue; }\n    for (var j = 0; j < cssRules.length; ++j) {\n      var rule = cssRules[j];\n      var selectedNodes = null;\n      // Ignore errors on invalid selector texts.\n      try {\n        selectedNodes = document.querySelectorAll(rule.selectorText);\n      } catch(e) {}\n      if (!selectedNodes || !inNodeList(selectedNodes, element)) {\n        continue;\n      }\n      var cssTop = rule.style.getPropertyValue('top');\n      var cssBottom = rule.style.getPropertyValue('bottom');\n      if ((cssTop && cssTop !== 'auto') || (cssBottom && cssBottom !== 'auto')) {\n        return true;\n      }\n    }\n  }\n  return false;\n};\n\ndialogPolyfill.needsCentering = function(dialog) {\n  var computedStyle = window.getComputedStyle(dialog);\n  if (computedStyle.position !== 'absolute') {\n    return false;\n  }\n\n  // We must determine whether the top/bottom specified value is non-auto.  In\n  // WebKit/Blink, checking computedStyle.top == 'auto' is sufficient, but\n  // Firefox returns the used value. So we do this crazy thing instead: check\n  // the inline style and then go through CSS rules.\n  if ((dialog.style.top !== 'auto' && dialog.style.top !== '') ||\n      (dialog.style.bottom !== 'auto' && dialog.style.bottom !== '')) {\n    return false;\n  }\n  return !dialogPolyfill.isInlinePositionSetByStylesheet(dialog);\n};\n\n/**\n * @param {!Element} element to force upgrade\n */\ndialogPolyfill.forceRegisterDialog = function(element) {\n  if (window.HTMLDialogElement || element.showModal) {\n    console.warn('This browser already supports <dialog>, the polyfill ' +\n        'may not work correctly', element);\n  }\n  if (element.localName !== 'dialog') {\n    throw new Error('Failed to register dialog: The element is not a dialog.');\n  }\n  new dialogPolyfillInfo(/** @type {!HTMLDialogElement} */ (element));\n};\n\n/**\n * @param {!Element} element to upgrade, if necessary\n */\ndialogPolyfill.registerDialog = function(element) {\n  if (!element.showModal) {\n    dialogPolyfill.forceRegisterDialog(element);\n  }\n};\n\n/**\n * @constructor\n */\ndialogPolyfill.DialogManager = function() {\n  /** @type {!Array<!dialogPolyfillInfo>} */\n  this.pendingDialogStack = [];\n\n  var checkDOM = this.checkDOM_.bind(this);\n\n  // The overlay is used to simulate how a modal dialog blocks the document.\n  // The blocking dialog is positioned on top of the overlay, and the rest of\n  // the dialogs on the pending dialog stack are positioned below it. In the\n  // actual implementation, the modal dialog stacking is controlled by the\n  // top layer, where z-index has no effect.\n  this.overlay = document.createElement('div');\n  this.overlay.className = '_dialog_overlay';\n  this.overlay.addEventListener('click', function(e) {\n    this.forwardTab_ = undefined;\n    e.stopPropagation();\n    checkDOM([]);  // sanity-check DOM\n  }.bind(this));\n\n  this.handleKey_ = this.handleKey_.bind(this);\n  this.handleFocus_ = this.handleFocus_.bind(this);\n\n  this.zIndexLow_ = 100000;\n  this.zIndexHigh_ = 100000 + 150;\n\n  this.forwardTab_ = undefined;\n\n  if ('MutationObserver' in window) {\n    this.mo_ = new MutationObserver(function(records) {\n      var removed = [];\n      records.forEach(function(rec) {\n        for (var i = 0, c; c = rec.removedNodes[i]; ++i) {\n          if (!(c instanceof Element)) {\n            continue;\n          } else if (c.localName === 'dialog') {\n            removed.push(c);\n          }\n          removed = removed.concat(c.querySelectorAll('dialog'));\n        }\n      });\n      removed.length && checkDOM(removed);\n    });\n  }\n};\n\n/**\n * Called on the first modal dialog being shown. Adds the overlay and related\n * handlers.\n */\ndialogPolyfill.DialogManager.prototype.blockDocument = function() {\n  document.documentElement.addEventListener('focus', this.handleFocus_, true);\n  document.addEventListener('keydown', this.handleKey_);\n  this.mo_ && this.mo_.observe(document, {childList: true, subtree: true});\n};\n\n/**\n * Called on the first modal dialog being removed, i.e., when no more modal\n * dialogs are visible.\n */\ndialogPolyfill.DialogManager.prototype.unblockDocument = function() {\n  document.documentElement.removeEventListener('focus', this.handleFocus_, true);\n  document.removeEventListener('keydown', this.handleKey_);\n  this.mo_ && this.mo_.disconnect();\n};\n\n/**\n * Updates the stacking of all known dialogs.\n */\ndialogPolyfill.DialogManager.prototype.updateStacking = function() {\n  var zIndex = this.zIndexHigh_;\n\n  for (var i = 0, dpi; dpi = this.pendingDialogStack[i]; ++i) {\n    dpi.updateZIndex(--zIndex, --zIndex);\n    if (i === 0) {\n      this.overlay.style.zIndex = --zIndex;\n    }\n  }\n\n  // Make the overlay a sibling of the dialog itself.\n  var last = this.pendingDialogStack[0];\n  if (last) {\n    var p = last.dialog.parentNode || document.body;\n    p.appendChild(this.overlay);\n  } else if (this.overlay.parentNode) {\n    this.overlay.parentNode.removeChild(this.overlay);\n  }\n};\n\n/**\n * @param {Element} candidate to check if contained or is the top-most modal dialog\n * @return {boolean} whether candidate is contained in top dialog\n */\ndialogPolyfill.DialogManager.prototype.containedByTopDialog_ = function(candidate) {\n  while (candidate = findNearestDialog(candidate)) {\n    for (var i = 0, dpi; dpi = this.pendingDialogStack[i]; ++i) {\n      if (dpi.dialog === candidate) {\n        return i === 0;  // only valid if top-most\n      }\n    }\n    candidate = candidate.parentElement;\n  }\n  return false;\n};\n\ndialogPolyfill.DialogManager.prototype.handleFocus_ = function(event) {\n  var target = event.composedPath ? event.composedPath()[0] : event.target;\n\n  if (this.containedByTopDialog_(target)) { return; }\n\n  if (document.activeElement === document.documentElement) { return; }\n\n  event.preventDefault();\n  event.stopPropagation();\n  safeBlur(/** @type {Element} */ (target));\n\n  if (this.forwardTab_ === undefined) { return; }  // move focus only from a tab key\n\n  var dpi = this.pendingDialogStack[0];\n  var dialog = dpi.dialog;\n  var position = dialog.compareDocumentPosition(target);\n  if (position & Node.DOCUMENT_POSITION_PRECEDING) {\n    if (this.forwardTab_) {\n      // forward\n      dpi.focus_();\n    } else if (target !== document.documentElement) {\n      // backwards if we're not already focused on <html>\n      document.documentElement.focus();\n    }\n  }\n\n  return false;\n};\n\ndialogPolyfill.DialogManager.prototype.handleKey_ = function(event) {\n  this.forwardTab_ = undefined;\n  if (event.keyCode === 27) {\n    event.preventDefault();\n    event.stopPropagation();\n    var cancelEvent = new supportCustomEvent('cancel', {\n      bubbles: false,\n      cancelable: true\n    });\n    var dpi = this.pendingDialogStack[0];\n    if (dpi && safeDispatchEvent(dpi.dialog, cancelEvent)) {\n      dpi.dialog.close();\n    }\n  } else if (event.keyCode === 9) {\n    this.forwardTab_ = !event.shiftKey;\n  }\n};\n\n/**\n * Finds and downgrades any known modal dialogs that are no longer displayed. Dialogs that are\n * removed and immediately readded don't stay modal, they become normal.\n *\n * @param {!Array<!HTMLDialogElement>} removed that have definitely been removed\n */\ndialogPolyfill.DialogManager.prototype.checkDOM_ = function(removed) {\n  // This operates on a clone because it may cause it to change. Each change also calls\n  // updateStacking, which only actually needs to happen once. But who removes many modal dialogs\n  // at a time?!\n  var clone = this.pendingDialogStack.slice();\n  clone.forEach(function(dpi) {\n    if (removed.indexOf(dpi.dialog) !== -1) {\n      dpi.downgradeModal();\n    } else {\n      dpi.maybeHideModal();\n    }\n  });\n};\n\n/**\n * @param {!dialogPolyfillInfo} dpi\n * @return {boolean} whether the dialog was allowed\n */\ndialogPolyfill.DialogManager.prototype.pushDialog = function(dpi) {\n  var allowed = (this.zIndexHigh_ - this.zIndexLow_) / 2 - 1;\n  if (this.pendingDialogStack.length >= allowed) {\n    return false;\n  }\n  if (this.pendingDialogStack.unshift(dpi) === 1) {\n    this.blockDocument();\n  }\n  this.updateStacking();\n  return true;\n};\n\n/**\n * @param {!dialogPolyfillInfo} dpi\n */\ndialogPolyfill.DialogManager.prototype.removeDialog = function(dpi) {\n  var index = this.pendingDialogStack.indexOf(dpi);\n  if (index === -1) { return; }\n\n  this.pendingDialogStack.splice(index, 1);\n  if (this.pendingDialogStack.length === 0) {\n    this.unblockDocument();\n  }\n  this.updateStacking();\n};\n\ndialogPolyfill.dm = new dialogPolyfill.DialogManager();\ndialogPolyfill.formSubmitter = null;\ndialogPolyfill.imagemapUseValue = null;\n\n/**\n * Installs global handlers, such as click listers and native method overrides. These are needed\n * even if a no dialog is registered, as they deal with <form method=\"dialog\">.\n */\nif (window.HTMLDialogElement === undefined) {\n\n  /**\n   * If HTMLFormElement translates method=\"DIALOG\" into 'get', then replace the descriptor with\n   * one that returns the correct value.\n   */\n  var testForm = document.createElement('form');\n  testForm.setAttribute('method', 'dialog');\n  if (testForm.method !== 'dialog') {\n    var methodDescriptor = Object.getOwnPropertyDescriptor(HTMLFormElement.prototype, 'method');\n    if (methodDescriptor) {\n      // nb. Some older iOS and older PhantomJS fail to return the descriptor. Don't do anything\n      // and don't bother to update the element.\n      var realGet = methodDescriptor.get;\n      methodDescriptor.get = function() {\n        if (isFormMethodDialog(this)) {\n          return 'dialog';\n        }\n        return realGet.call(this);\n      };\n      var realSet = methodDescriptor.set;\n      /** @this {HTMLElement} */\n      methodDescriptor.set = function(v) {\n        if (typeof v === 'string' && v.toLowerCase() === 'dialog') {\n          return this.setAttribute('method', v);\n        }\n        return realSet.call(this, v);\n      };\n      Object.defineProperty(HTMLFormElement.prototype, 'method', methodDescriptor);\n    }\n  }\n\n  /**\n   * Global 'click' handler, to capture the <input type=\"submit\"> or <button> element which has\n   * submitted a <form method=\"dialog\">. Needed as Safari and others don't report this inside\n   * document.activeElement.\n   */\n  document.addEventListener('click', function(ev) {\n    dialogPolyfill.formSubmitter = null;\n    dialogPolyfill.imagemapUseValue = null;\n    if (ev.defaultPrevented) { return; }  // e.g. a submit which prevents default submission\n\n    var target = /** @type {Element} */ (ev.target);\n    if ('composedPath' in ev) {\n      var path = ev.composedPath();\n      target = path.shift() || target;\n    }\n    if (!target || !isFormMethodDialog(target.form)) { return; }\n\n    var valid = (target.type === 'submit' && ['button', 'input'].indexOf(target.localName) > -1);\n    if (!valid) {\n      if (!(target.localName === 'input' && target.type === 'image')) { return; }\n      // this is a <input type=\"image\">, which can submit forms\n      dialogPolyfill.imagemapUseValue = ev.offsetX + ',' + ev.offsetY;\n    }\n\n    var dialog = findNearestDialog(target);\n    if (!dialog) { return; }\n\n    dialogPolyfill.formSubmitter = target;\n\n  }, false);\n\n  /**\n   * Global 'submit' handler. This handles submits of `method=\"dialog\"` which are invalid, i.e.,\n   * outside a dialog. They get prevented.\n   */\n  document.addEventListener('submit', function(ev) {\n    var form = ev.target;\n    var dialog = findNearestDialog(form);\n    if (dialog) {\n      return;  // ignore, handle there\n    }\n\n    var submitter = findFormSubmitter(ev);\n    var formmethod = submitter && submitter.getAttribute('formmethod') || form.getAttribute('method');\n    if (formmethod === 'dialog') {\n      ev.preventDefault();\n    }\n  });\n\n  /**\n   * Replace the native HTMLFormElement.submit() method, as it won't fire the\n   * submit event and give us a chance to respond.\n   */\n  var nativeFormSubmit = HTMLFormElement.prototype.submit;\n  var replacementFormSubmit = function () {\n    if (!isFormMethodDialog(this)) {\n      return nativeFormSubmit.call(this);\n    }\n    var dialog = findNearestDialog(this);\n    dialog && dialog.close();\n  };\n  HTMLFormElement.prototype.submit = replacementFormSubmit;\n}\n\nexport default dialogPolyfill;\n","import {\n    html, css\n} from 'lit';\nimport { createInstance } from './i18n';\nimport * as commonStyles from './styles.js';\nimport { Icon } from './icon';\nimport {ScopedElementsMixin} from './scoped/ScopedElementsMixin.js';\nimport dialogPolyfill from 'dialog-polyfill';\nimport DBPLitElement from './dbp-lit-element';\n\nexport class Modal extends ScopedElementsMixin(DBPLitElement) {\n    constructor() {\n        super();\n        this._i18n = createInstance();\n        this.lang = this._i18n.language;\n        /** @type {HTMLDialogElement} */\n        this.modalDialog = null;\n        /** @type {string} */\n        this.modalId = 'dbp-modal-id';\n        /** @type {string} */\n        this.title = \"\";\n        /** @type {boolean} */\n        this.stickyFooter = false;\n        /** @type {number} */\n        this.modalPaddingTopDefault;\n    }\n\n    static get properties() {\n        return {\n            modalId: { type: String, attribute: 'modal-id' },\n            title: { type: String },\n            stickyFooter: { type: Boolean, attribute: 'sticky-footer' },\n        };\n    }\n\n    connectedCallback() {\n        super.connectedCallback();\n    }\n\n    updated(changedProperties) {\n        super.updated(changedProperties);\n    }\n\n    firstUpdated() {\n        this.modalDialog = /** @type {HTMLDialogElement} */ (this._('#' + this.modalId));\n        dialogPolyfill.registerDialog(this.modalDialog);\n\n        // Save default value of padding top changed when adding/removing notifications\n        this.modalPaddingTopDefault = parseInt(window.getComputedStyle(this.modalDialog).paddingTop);\n\n        this.modalDialog.addEventListener(\"close\", (event) => {\n            // Re allow scrolling the page when dialog is closed\n            const htmlElement = this.modalDialog.ownerDocument.documentElement;\n            htmlElement.style.removeProperty('overflow');\n\n            const customEvent = new CustomEvent('dbp-modal-closed', {\n                detail: { id: this.modalId },\n                bubbles: true,\n                composed: true,\n            });\n            this.dispatchEvent(customEvent);\n        });\n\n        window.addEventListener('dbp-notification-send', (e) => {\n            const notificationEvent = /** @type {CustomEvent} */ (e);\n            const notificationId = notificationEvent.detail.targetNotificationId;\n            this.updateModalNotificationPadding(notificationId);\n        });\n\n        this.addEventListener('dbp-notification-close', (e) => {\n            e.stopPropagation();\n            const notificationEvent = /** @type {CustomEvent} */ (e);\n            const notificationId = notificationEvent.detail.targetNotificationId;\n            this.updateModalNotificationPadding(notificationId);\n        });\n    }\n\n    updateModalNotificationPadding(notificationId) {\n        const notificationSlot = this.querySelector('[slot=\"header\"]');\n        const notificationComponent = notificationSlot.querySelector('#' + notificationId);\n        if (!notificationComponent) {\n            return;\n        }\n        /** @type {HTMLElement} */\n        const notificationContainer = notificationComponent.shadowRoot.querySelector('#notification-container');\n        // Get height of notification and add as padding top to the top of the modal\n        if (notificationContainer) {\n            const modalPosition = this.modalDialog.getBoundingClientRect();\n            const modalPaddingTopCurrent = parseInt(window.getComputedStyle(this.modalDialog).getPropertyValue('padding-top'));\n            const modalPaddingTopDefault = this.modalPaddingTopDefault;\n            const notificationContainerHeight = notificationContainer.offsetHeight + modalPaddingTopDefault;\n\n            // Until there is more than 1 notification place over the modal add padding top and translate the modal up\n            // If the padding top is greater than the notification container height, reduce the padding top and translate the modal up\n            if (modalPosition.top > 150 || (modalPaddingTopCurrent > notificationContainerHeight)) {\n                this.modalDialog.style.setProperty('--dbp-modal-padding-top', notificationContainerHeight + 'px');\n                this.modalDialog.style.setProperty('--dbp-modal-translate-y', (notificationContainerHeight / -2) + 'px');\n            }\n        }\n    }\n\n    static get scopedElements() {\n        return {\n            'dbp-icon': Icon\n        };\n    }\n\n    isOpen() {\n        return this.modalDialog.open;\n    }\n\n    open() {\n        // Don't open the dialog if it is already open\n        if (this.modalDialog.open) {\n            return;\n        }\n\n        // Prevent scrolling the page when dialog is open\n        const htmlElement = this.modalDialog.ownerDocument.documentElement;\n        htmlElement.style.overflow = 'hidden';\n\n        this.modalDialog.showModal();\n    }\n\n    close() {\n        this.modalDialog.close();\n        // Remove all notifications if modal is closed\n        const notificationSlot = this.querySelector('[slot=\"header\"]');\n        if (notificationSlot) {\n            const notificationComponent = notificationSlot.querySelector('dbp-notification');\n            if (notificationComponent) {\n                notificationComponent.removeAllNotifications();\n            }\n        }\n        // Reset modal padding and translation\n        this.modalDialog.style.setProperty('--dbp-modal-padding-top', this.modalPaddingTopDefault + 'px');\n        this.modalDialog.style.removeProperty('--dbp-modal-translate-y');\n    }\n\n    static get styles() {\n        // language=css\n        return css`\n            ${commonStyles.getNativeModalDialogCSS()}\n        `;\n    }\n\n    render() {\n        const i18n = this._i18n;\n\n        return html`\n            <dialog class=\"modal\"\n                id=\"${this.modalId}\"\n                autofocus\n                role=\"alertdialog\"\n                aria-describedby=\"modal-content\"\n                aria-labelledby=\"modal-title\">\n                <div class=\"modal-container\">\n                    <header class=\"modal-header\">\n                        <div class=\"header-top\">\n                            <h3 class=\"modal-title\" id=\"modal-title\">\n                                ${this.title}\n                            </h3>\n                            <button\n                                    title=\"${i18n.t('dbp-modal.close')}\"\n                                    class=\"modal-close\"\n                                    aria-label=\"${i18n.t('dbp-modal.close')}\"\n                                    @click=\"${() => {\n                                        this.close();\n                                    }}\">\n                                <dbp-icon\n                                        title=\"${i18n.t('dbp-modal.close')}\"\n                                        name=\"close\"\n                                        class=\"close-icon\"></dbp-icon>\n                            </button>\n                        </div>\n                        <div class=\"header-bottom\">\n                            <slot name=\"header\"></slot>\n                        </div>\n                    </header>\n                    <main class=\"modal-content\" id=\"modal-content\">\n                        <slot name=\"content\"></slot>\n                        ${!this.stickyFooter ? html`\n                            <footer class=\"modal-footer modal-footer--sticky\">\n                                <slot name=\"footer\"></slot>\n                            </footer>\n                        ` : ''}\n                    </main>\n                    ${this.stickyFooter ? html`\n                        <footer class=\"modal-footer\">\n                            <slot name=\"footer\"></slot>\n                        </footer>` : ''}\n                </div>\n            </dialog>\n        `;\n    }\n}\n","import {createInstance as _createInstance, setOverrides} from '@dbp-toolkit/common/i18next.js';\n\nimport de from './i18n/de/translation.json';\nimport en from './i18n/en/translation.json';\n\nexport function createInstance() {\n    return _createInstance({en: en, de: de}, 'de', 'en');\n}\n\nexport {setOverrides};\n","const promiseTimeout = function (ms, promise) {\n    let timeout = new Promise((resolve, reject) => {\n        let id = setTimeout(() => {\n            clearTimeout(id);\n            reject('Timed out in ' + ms + 'ms.');\n        }, ms);\n    });\n\n    return Promise.race([promise, timeout]);\n};\n\n/**\n * Returns a URL for a relative path or URL\n *\n * @param {string} urlOrPath\n */\nconst ensureURL = function (urlOrPath) {\n    try {\n        return new URL(urlOrPath).href;\n    } catch {\n        return new URL(urlOrPath, window.location.href).href;\n    }\n};\n\n/**\n * Wraps the keycloak API to support async/await, adds auto token refreshing and consolidates all\n * events into one native \"changed\" event\n *\n * The \"changed\" event has the real keycloak instance as \"detail\"\n */\nexport class KeycloakWrapper extends EventTarget {\n    /**\n     * @param {string} baseURL\n     * @param {string} realm\n     * @param {string} clientId\n     * @param {string} silentCheckSsoUri\n     * @param {boolean} checkLoginIframe\n     * @param {string} idpHint\n     */\n    constructor(baseURL, realm, clientId, silentCheckSsoUri, checkLoginIframe, idpHint) {\n        super();\n\n        this._baseURL = baseURL;\n        this._realm = realm;\n        this._clientId = clientId;\n        this._keycloak = null;\n        this._initPromise = null;\n        this._silentCheckSsoUri = silentCheckSsoUri;\n        this._checkLoginIframe = checkLoginIframe;\n        this._idpHint = idpHint;\n        this._checkId = null;\n\n        /* Minimum validity of the token in seconds */\n        this.MIN_VALIDITY = 20;\n\n        /* Interval at which the token validity is checked, in seconds */\n        this.CHECK_INTERVAL = 10;\n\n        /* Enables extra debug logging */\n        this.DEBUG = false;\n\n        this._onVisibilityChanged = this._onVisibilityChanged.bind(this);\n        document.addEventListener('visibilitychange', this._onVisibilityChanged);\n    }\n\n    /**\n     * This needs to be called or the instance will leak;\n     */\n    close() {\n        document.removeEventListener('visibilitychange', this._onVisibilityChanged);\n    }\n\n    _onVisibilityChanged() {\n        let isVisible = document.visibilityState === 'visible';\n        if (isVisible && this._keycloak.authenticated) {\n            this._checkTokeHasExpired();\n        }\n    }\n\n    _onChanged() {\n        const event = new CustomEvent('changed', {\n            detail: this._keycloak,\n            bubbles: true,\n            composed: true,\n        });\n        this.dispatchEvent(event);\n    }\n\n    _onReady(authenticated) {\n        // Avoid emitting changed when nothing has changed on init()\n        if (authenticated) this._onChanged();\n    }\n\n    async _onTokenExpired() {\n        console.log('Token has expired');\n        let refreshed = false;\n\n        try {\n            // -1 means force a refresh\n            refreshed = await this._keycloak.updateToken(-1);\n        } catch (error) {\n            console.log('Failed to refresh the token', error);\n            return;\n        }\n\n        console.assert(refreshed, 'token should have been refreshed');\n    }\n\n    async _checkTokeHasExpired() {\n        let refreshed;\n\n        let minValidity = this.MIN_VALIDITY + this.CHECK_INTERVAL;\n        if (this.DEBUG) {\n            console.log(`Updating token if not valid for at least ${minValidity}s`);\n        }\n        try {\n            refreshed = await this._keycloak.updateToken(minValidity);\n        } catch (error) {\n            console.log('Failed to refresh the token', error);\n        }\n\n        if (this.DEBUG && refreshed) console.log('token has been refreshed');\n    }\n\n    async _onAuthSuccess() {\n        // We check every once in a while if the token is still valid and\n        // and refresh it if needed.\n        if (this._checkId !== null) {\n            clearInterval(this._checkId);\n            this._checkId = null;\n        }\n        this._checkId = setInterval(\n            this._checkTokeHasExpired.bind(this),\n            this.CHECK_INTERVAL * 1000\n        );\n\n        this._onChanged();\n    }\n\n    async _onAuthLogout() {\n        if (this._checkId !== null) {\n            clearInterval(this._checkId);\n            this._checkId = null;\n        }\n\n        this._onChanged();\n    }\n\n    async _init() {\n        const Keycloak = (await import('keycloak-js')).default;\n\n        this._keycloak = new Keycloak({\n            url: this._baseURL,\n            realm: this._realm,\n            clientId: this._clientId,\n        });\n\n        this._keycloak.onTokenExpired = this._onTokenExpired.bind(this);\n        this._keycloak.onAuthRefreshSuccess = this._onChanged.bind(this);\n        this._keycloak.onAuthRefreshError = this._onChanged.bind(this);\n        this._keycloak.onAuthLogout = this._onAuthLogout.bind(this);\n        this._keycloak.onAuthSuccess = this._onAuthSuccess.bind(this);\n        this._keycloak.onAuthError = this._onChanged.bind(this);\n        this._keycloak.onReady = this._onReady.bind(this);\n\n        const options = {\n            promiseType: 'native',\n            pkceMethod: 'S256',\n        };\n\n        if (this.DEBUG) {\n            options['enableLogging'] = true;\n        }\n\n        options['checkLoginIframe'] = this._checkLoginIframe;\n\n        if (this._silentCheckSsoUri) {\n            options['onLoad'] = 'check-sso';\n            options['silentCheckSsoRedirectUri'] = ensureURL(this._silentCheckSsoUri);\n\n            // When silent-sso-check is active but the iframe doesn't load/work we will\n            // never return here, so add a timeout and emit a signal so the app can continue\n            await promiseTimeout(5000, this._keycloak.init(options)).catch(() => {\n                console.log('Login timed out');\n                this._onChanged();\n            });\n        } else {\n            await this._keycloak.init(options);\n        }\n    }\n\n    async _ensureInit() {\n        if (this._initPromise === null) {\n            this._initPromise = this._init();\n        }\n        return this._initPromise;\n    }\n\n    /**\n     * If this returns true you need to call login() at one point to finish the login process.\n     */\n    isLoggingIn() {\n        const href = window.location.href;\n        return href.search('[&#]state=') >= 0 && href.search('[&#]session_state=') >= 0;\n    }\n\n    /**\n     * Logs the user in. Might lead to a site refresh or the user needing to authenticate.\n     *\n     * @param {object} options\n     * @param {string} [options.lang] - The locale to use on the keycloak login page\n     */\n    async login(options) {\n        await this._ensureInit();\n\n        options = options || {};\n        const language = options['lang'] || 'en';\n        const scope = options['scope'] || '';\n\n        if (!this._keycloak.authenticated) {\n            await this._keycloak.login({\n                kcLocale: language, // Keycloak < 9.0\n                locale: language,\n                scope: scope,\n                idpHint: this._idpHint,\n            });\n        }\n    }\n\n    /**\n     * Logs the user in if it is possible without leaving the page or the user needing to authenticate again.\n     */\n    async tryLogin() {\n        await this._ensureInit();\n    }\n\n    /**\n     * Logs the user out locally, but not with keycloak. Login will instantly log the user back in without\n     * requiring a re-auth.\n     */\n    async localLogout() {\n        this._keycloak.clearToken();\n    }\n\n    /**\n     * Log the user out from keycloak.\n     */\n    async logout() {\n        await this._ensureInit();\n        this._keycloak.logout();\n    }\n}\n","export const LoginStatus = Object.freeze({\n    UNKNOWN: 'unknown',\n    LOGGING_IN: 'logging-in',\n    LOGGED_IN: 'logged-in',\n    LOGGING_OUT: 'logging-out',\n    LOGGED_OUT: 'logged-out',\n});\n","import {createInstance} from './i18n.js';\nimport {KeycloakWrapper} from './keycloak.js';\nimport {LoginStatus} from './util.js';\nimport {AdapterLitElement, combineURLs} from '@dbp-toolkit/common';\nimport {send} from '@dbp-toolkit/common/notification';\n\n/**\n * Keycloak auth web component\n * https://www.keycloak.org/docs/latest/securing_apps/index.html#_javascript_adapter\n *\n * Emits a dbp-set-property event for the attribute \"auth\":\n *   auth.subject: Keycloak username\n *   auth.login-status: Login status (see object LoginStatus)\n *   auth.token: Keycloak token to send with your requests\n *   auth.user-full-name: Full name of the user\n *   auth.user-id: Identifier of the user\n */\nexport class AuthKeycloak extends AdapterLitElement {\n    constructor() {\n        super();\n        this.forceLogin = false;\n        this.token = '';\n        this.subject = '';\n        this.name = '';\n        this.tryLogin = false;\n        this.entryPointUrl = '';\n        this._user = null;\n        this._userId = '';\n        this._authenticated = false;\n        this._loginStatus = LoginStatus.UNKNOWN;\n        this.requestedLoginStatus = LoginStatus.UNKNOWN;\n        this._i18n = createInstance();\n        this.lang = this._i18n.language;\n\n        // Keycloak config\n        this.keycloakUrl = null;\n        this.realm = null;\n        this.clientId = null;\n        this.silentCheckSsoRedirectUri = null;\n        this.noCheckLoginIframe = false;\n        this.scope = null;\n        this.idpHint = '';\n\n        this._onKCChanged = this._onKCChanged.bind(this);\n\n        // inject a data-testid attribute for Playwright\n        if (window.playwright) {\n            this.setAttribute(\"data-testid\", \"dbp-auth-keycloak\");\n        }\n    }\n\n    update(changedProperties) {\n        // console.log(\"changedProperties\", changedProperties);\n        changedProperties.forEach((oldValue, propName) => {\n            switch (propName) {\n                case 'lang':\n                    this._i18n.changeLanguage(this.lang);\n                    break;\n                case 'requestedLoginStatus':\n                    console.log('requested-login-status changed', this.requestedLoginStatus);\n                    switch (this.requestedLoginStatus) {\n                        case LoginStatus.LOGGED_IN:\n                            this._kcwrapper.login({lang: this.lang, scope: this.scope || ''});\n                            break;\n                        case LoginStatus.LOGGED_OUT:\n                            // Keycloak will redirect right away without emitting events, so we have\n                            // to do this manually here\n                            if (this._loginStatus === LoginStatus.LOGGED_IN) {\n                                this._setLoginStatus(LoginStatus.LOGGING_OUT);\n                            }\n                            this._kcwrapper.logout();\n                            // In case logout was aborted, for example with beforeunload,\n                            // revert back to being logged in\n                            if (this._loginStatus === LoginStatus.LOGGING_OUT) {\n                                this._setLoginStatus(LoginStatus.LOGGED_IN);\n                            }\n                            break;\n                    }\n                    break;\n            }\n        });\n\n        super.update(changedProperties);\n    }\n\n    async _fetchUser(userId) {\n        const apiUrl = combineURLs(this.entryPointUrl, `/frontend/users/${encodeURIComponent(userId)}`);\n\n        let response = await fetch(apiUrl, {\n            headers: {\n                Authorization: 'Bearer ' + this.token,\n            },\n        });\n        if (!response.ok) {\n            throw response;\n        }\n        let user = await response.json();\n        let dummyUser = {\n            roles: user['roles'] ?? [],\n        };\n        return dummyUser;\n    }\n\n    async _onKCChanged(event) {\n        const kc = event.detail;\n\n        this._authenticated = kc.authenticated;\n        if (kc.authenticated) {\n            let tokenChanged = this.token !== kc.token;\n            this.name = kc.idTokenParsed.name;\n            this.token = kc.token;\n\n            this.subject = kc.subject;\n            const userId = kc.idTokenParsed.preferred_username;\n            let userChanged = userId !== this._userId;\n            if (userChanged) {\n                this._userId = userId;\n                let user;\n                try {\n                    user = await this._fetchUser(userId);\n                } catch (error) {\n                    // In case fetching the user failed then likely the API backend\n                    // is not set up or broken. Return a user without any roles so we\n                    // can show something at least.\n                    console.error(error);\n                    user = {roles: []};\n                }\n                if (userId === this._userId) {\n                    this._user = user;\n                }\n            }\n            if (this._user !== null) {\n                this._setLoginStatus(LoginStatus.LOGGED_IN, tokenChanged || userChanged);\n            }\n        } else {\n            if (this._loginStatus === LoginStatus.LOGGED_IN) {\n                this._setLoginStatus(LoginStatus.LOGGING_OUT);\n            }\n            this.name = '';\n            this.token = '';\n            this.subject = '';\n            this._userId = '';\n            this._user = null;\n\n            this._setLoginStatus(LoginStatus.LOGGED_OUT);\n        }\n    }\n\n    sendSetPropertyEvents() {\n        const auth = {\n            'login-status': this._loginStatus,\n            subject: this.subject,\n            token: this.token,\n            'user-full-name': this.name,\n            'user-id': this._userId,\n            // Deprecated\n            'person-id': this._userId,\n            person: this._user,\n        };\n\n        // Inject a window.DBPAuth variable for Cypress/Playwright\n        // Warning: window.playwright is not set the if the browser window was just opened!\n        if (window.Cypress || window.playwright) {\n            window.DBPAuth = auth;\n            console.log(\"Cypress/Playwright detected\");\n        }\n\n        this.setAttribute(\"data-auth-set\", \"true\");\n\n        this.sendSetPropertyEvent('auth', auth);\n    }\n\n    _setLoginStatus(status, force) {\n        if (this._loginStatus === status && !force) return;\n\n        this._loginStatus = status;\n        this.sendSetPropertyEvents();\n    }\n\n    static get properties() {\n        return {\n            ...super.properties,\n            lang: {type: String},\n            forceLogin: {type: Boolean, attribute: 'force-login'},\n            tryLogin: {type: Boolean, attribute: 'try-login'},\n            entryPointUrl: {type: String, attribute: 'entry-point-url'},\n            name: {type: String, attribute: false},\n            token: {type: String, attribute: false},\n            subject: {type: String, attribute: false},\n            _userId: {type: String, attribute: false},\n            _user: {type: Object, attribute: false},\n            _loginStatus: {type: String, attribute: false},\n            keycloakUrl: {type: String, attribute: 'url'},\n            realm: {type: String},\n            clientId: {type: String, attribute: 'client-id'},\n            silentCheckSsoRedirectUri: {type: String, attribute: 'silent-check-sso-redirect-uri'},\n            scope: {type: String},\n            idpHint: {type: String, attribute: 'idp-hint'},\n            requestedLoginStatus: {type: String, attribute: 'requested-login-status'},\n            noCheckLoginIframe: {type: Boolean, attribute: 'no-check-login-iframe'},\n        };\n    }\n\n    connectedCallback() {\n        super.connectedCallback();\n\n        if (!this.keycloakUrl) throw Error('url not set');\n        if (!this.realm) throw Error('realm not set');\n        if (!this.clientId) throw Error('client-id not set');\n        this._kcwrapper = new KeycloakWrapper(\n            this.keycloakUrl,\n            this.realm,\n            this.clientId,\n            this.silentCheckSsoRedirectUri,\n            !this.noCheckLoginIframe,\n            this.idpHint\n        );\n        this._kcwrapper.addEventListener('changed', this._onKCChanged);\n\n        const handleLogin = async () => {\n            try {\n                if (this.forceLogin || this._kcwrapper.isLoggingIn()) {\n                    this._setLoginStatus(LoginStatus.LOGGING_IN);\n                    await this._kcwrapper.login({lang: this.lang, scope: this.scope || ''});\n                } else if (this.tryLogin) {\n                    this._setLoginStatus(LoginStatus.LOGGING_IN);\n                    await this._kcwrapper.tryLogin();\n                    if (!this._authenticated) {\n                        this._setLoginStatus(LoginStatus.LOGGED_OUT);\n                    }\n                } else {\n                    this._setLoginStatus(LoginStatus.LOGGED_OUT);\n                }\n            } catch (error) {\n                // In case the keycloak server is offline for example\n                this._setLoginStatus(LoginStatus.LOGGED_OUT);\n                send({\n                    summary: this._i18n.t('login-failed'),\n                    type: 'danger',\n                    timeout: 5,\n                });\n                throw error;\n            }\n        };\n\n        handleLogin();\n    }\n\n    disconnectedCallback() {\n        this._kcwrapper.close();\n        this._kcwrapper.removeEventListener('changed', this._onKCChanged);\n\n        super.disconnectedCallback();\n    }\n}\n","/**\n * Appends the second relative or absolute URL by treating\n * the base URL as the root path. Unlike normal URL join which\n * treats the host as root path.\n *\n * http://example.com/foo + bar -> http://example.com/foo/bar\n * http://example.com/foo/ + /bar -> http://example.com/foo/bar\n *\n * @param {string} baseURL The bas URL\n * @param {string} addedURL The URL to append ot the baseURL\n */\nexport const combineURLs = (baseURL, addedURL) => {\n    if (!baseURL.endsWith('/')) {\n        baseURL += '/';\n    }\n    return new URL(addedURL.replace(/^\\/+/, ''), baseURL).href;\n};\n","/**\n * Sends a notification via the event\n *\n * Type can be info/success/warning/danger\n *\n * example options:\n *\n * {\n *   \"summary\": \"Item deleted\",\n *   \"body\": \"Item foo was deleted!\",\n *   \"type\": \"info\",\n *   \"icon\": \"download\",\n *   \"timeout\": 5,\n * }\n *\n * @param options\n */\nfunction send(options) {\n    const event = new CustomEvent('dbp-notification-send', {\n        bubbles: true,\n        cancelable: true,\n        detail: options,\n    });\n\n    const result = window.dispatchEvent(event);\n\n    // true means the event was not handled\n    if (result) {\n        alert(\n            (options.summary !== undefined && options.summary !== ''\n                ? options.summary + ': '\n                : '') + options.body\n        );\n        console.log('Use the web component dbp-notification to show fancy notifications.');\n    }\n}\n\nexport {send};\n","import {createInstance} from './i18n.js';\nimport {html, css} from 'lit';\nimport {unsafeHTML} from 'lit/directives/unsafe-html.js';\nimport {ScopedElementsMixin} from '@dbp-toolkit/common';\nimport * as commonStyles from '@dbp-toolkit/common/styles';\nimport {LoginStatus} from './util.js';\nimport {AdapterLitElement, MiniSpinner} from '@dbp-toolkit/common';\n\nlet logoutSVG = `\n<svg\n   viewBox=\"0 0 100 100\"\n   y=\"0px\"\n   x=\"0px\"\n   id=\"icon\"\n   role=\"img\"\n   version=\"1.1\">\n<g\n   id=\"g6\">\n  <path\n     d=\"m 20.749313,38.894934 -5.885859,6.967885 h 43.408213 c 1.839331,0 3.433418,1.741972 3.433418,4.064599 0,2.322628 -1.471465,4.064599 -3.433418,4.064599 H 14.863454 l 5.885859,6.967883 c 1.348843,1.596808 1.348843,4.064599 0,5.661406 -1.348843,1.596808 -3.433418,1.596808 -4.782261,0 L 1.9881356,49.927418 15.967052,33.378693 c 1.348843,-1.596806 3.433418,-1.596806 4.782261,0 1.348843,1.596807 1.348843,4.064599 0,5.516241 z\"\n     id=\"path2\"\n     style=\"stroke-width:1.33417916\"\n     inkscape:connector-curvature=\"0\" />\n  <path\n     style=\"stroke-width:0.67017764\"\n     d=\"M 61.663665,16.308792 C 48.158763,16.560171 35.913199,25.828579 30.896087,38.197464 34.816744,37.806184 40.033349,39.91491 41.470306,35.017776 50.594944,21.215302 72.517616,20.362655 82.800384,33.07637 93.497261,44.618596 90.228387,65.093356 76.499603,72.791214 64.104901,80.786232 45.895432,75.593227 39.470306,62.310745 35.613955,62.60637 27.974792,60.593775 32.925384,66.267776 41.232037,82.878292 64.023613,89.46919 79.876556,79.765823 96.140149,70.989504 102.10102,48.145494 91.970306,32.629104 85.705979,22.257901 73.793809,15.772382 61.663665,16.308792 Z\"\n     id=\"path4\"\n     inkscape:connector-curvature=\"0\" />\n</g>\n</svg>\n`;\n\nlet loginSVG = `\n<svg\n   viewBox=\"0 0 100 100\"\n   y=\"0px\"\n   x=\"0px\"\n   id=\"icon\"\n   role=\"img\"\n   version=\"1.1\">\n<g\n   id=\"g6\">\n    <path\n   style=\"stroke-width:1.33417916\"\n   id=\"path2\"\n   d=\"m 42.943908,38.894934 5.885859,6.967885 H 5.4215537 c -1.8393311,0 -3.4334181,1.741972 -3.4334181,4.064599 0,2.322628 1.4714649,4.064599 3.4334181,4.064599 H 48.829767 L 42.943908,60.9599 c -1.348843,1.596808 -1.348843,4.064599 0,5.661406 1.348843,1.596808 3.433418,1.596808 4.782261,0 L 61.705085,49.927418 47.726169,33.378693 c -1.348843,-1.596806 -3.433418,-1.596806 -4.782261,0 -1.348843,1.596807 -1.348843,4.064599 0,5.516241 z\" />\n    <path\n   id=\"path4\"\n   d=\"m 50,2.3007812 c -18.777325,0 -35.049449,10.9124408 -42.8261719,26.7246098 H 13.390625 C 20.672112,16.348362 34.336876,7.8007812 50,7.8007812 73.3,7.8007812 92.300781,26.7 92.300781,50 92.300781,73.3 73.3,92.300781 50,92.300781 c -15.673389,0 -29.345175,-8.60579 -36.623047,-21.326172 H 7.1640625 C 14.942553,86.8272 31.242598,97.800781 50.099609,97.800781 76.399609,97.800781 97.900391,76.4 97.900391,50 97.800391,23.7 76.3,2.3007812 50,2.3007812 Z\" />\n</g>\n</svg>\n`;\n\nexport class LoginButton extends ScopedElementsMixin(AdapterLitElement) {\n    constructor() {\n        super();\n        this._i18n = createInstance();\n        this.lang = this._i18n.language;\n        this.auth = {};\n    }\n\n    static get scopedElements() {\n        return {\n            'dbp-mini-spinner': MiniSpinner,\n        };\n    }\n\n    static get properties() {\n        return {\n            lang: {type: String},\n            auth: {type: Object},\n        };\n    }\n\n    connectedCallback() {\n        super.connectedCallback();\n    }\n\n    disconnectedCallback() {\n        super.disconnectedCallback();\n    }\n\n    _onLoginClicked(e) {\n        this.sendSetPropertyEvent('requested-login-status', LoginStatus.LOGGED_IN);\n        e.preventDefault();\n    }\n\n    _onLogoutClicked(e) {\n        this.sendSetPropertyEvent('requested-login-status', LoginStatus.LOGGED_OUT);\n        e.preventDefault();\n    }\n\n    update(changedProperties) {\n        changedProperties.forEach((oldValue, propName) => {\n            if (propName === 'lang') {\n                this._i18n.changeLanguage(this.lang);\n            }\n        });\n\n        super.update(changedProperties);\n    }\n\n    static get styles() {\n        // language=css\n        return [\n            commonStyles.getThemeCSS(),\n            css`\n                :host {\n                    display: inline-block;\n                }\n\n                a {\n                    color: var(--dbp-content);\n                    fill: var(--dbp-content);\n                    cursor: pointer;\n                    text-decoration: none;\n                }\n\n                .login-box {\n                    display: flex;\n                    align-items: center;\n                    padding: 0.3em 0.4em;\n                    transition: background-color 0.15s, color 0.15s;\n                }\n\n                .login-box svg,\n                .icon {\n                    width: 1.1em;\n                    height: 1.1em;\n                }\n\n                .login-box svg,\n                .spinner {\n                    display: flex;\n                }\n\n                .login-box:hover svg path {\n                    fill: var(--dbp-hover-color);\n                }\n\n                .login-box:hover {\n                    color: var(--dbp-hover-color, var(--dbp-content));\n                    background-color: var(--dbp-hover-background-color);\n                    cursor: pointer;\n                    transition: none;\n                }\n\n                .login-box .label {\n                    padding-left: 0.2em;\n                }\n            `,\n        ];\n    }\n\n    render() {\n        let i18n = this._i18n;\n        if (this.auth['login-status'] === LoginStatus.LOGGING_IN) {\n            // try to keep the layout the same to avoid layout shifts\n            return html`\n                <a href=\"#\">\n                    <div class=\"login-box login-button\" aria-busy=\"true\">\n                        <div class=\"icon\" aria-hidden=\"false\" aria-label=\"${i18n.t('logging-in')}\">\n                            <dbp-mini-spinner class=\"spinner\"></dbp-mini-spinner>\n                        </div>\n                        <div class=\"label\" aria-hidden=\"true\">&#8203;</div>\n                    </div>\n                </a>\n            `;\n        } else if (this.auth['login-status'] === LoginStatus.LOGGED_IN) {\n            return html`\n                <a href=\"#\" @click=\"${this._onLogoutClicked}\">\n                    <div class=\"login-box login-button\">\n                        <div class=\"icon\" aria-hidden=\"true\">${unsafeHTML(logoutSVG)}</div>\n                        <div class=\"label\">${i18n.t('logout')}</div>\n                    </div>\n                </a>\n            `;\n        } else {\n            return html`\n                <a href=\"#\" @click=\"${this._onLoginClicked}\">\n                    <div class=\"login-box login-button\">\n                        <div class=\"icon\" aria-hidden=\"true\">${unsafeHTML(loginSVG)}</div>\n                        <div class=\"label\">${i18n.t('login')}</div>\n                    </div>\n                </a>\n            `;\n        }\n    }\n}\n","import '@webcomponents/scoped-custom-element-registry';\nimport {html} from 'lit';\nimport {ScopedElementsMixin} from '@dbp-toolkit/common';\nimport {AuthKeycloak} from '@dbp-toolkit/auth/src/auth-keycloak';\nimport {LoginButton} from '@dbp-toolkit/auth/src/login-button';\nimport * as commonUtils from '@dbp-toolkit/common/utils';\nimport {AdapterLitElement} from \"@dbp-toolkit/common\";\n\nexport class ApiPlatformAuth extends ScopedElementsMixin(AdapterLitElement) {\n    constructor() {\n        super();\n        this.auth = {};\n        this.lang = 'en';\n        this.url = '';\n        this.realm = '';\n        this.clientId = '';\n        this.silentCheckSsoRedirectUri = '';\n        this.entryPointUrl = '';\n    }\n\n    static get scopedElements() {\n        return {\n          'dbp-auth-keycloak': AuthKeycloak,\n          'dbp-login-button': LoginButton,\n        };\n    }\n\n    static get properties() {\n        return {\n            ...super.properties,\n            auth: { type: Object },\n            lang: { type: String },\n            url: { type: String },\n            realm: { type: String },\n            clientId: { type: String, attribute: 'client-id' },\n            silentCheckSsoRedirectUri: { type: String, attribute: 'silent-check-sso-redirect-uri' },\n            entryPointUrl: { type: String, attribute: 'entry-point-url' },\n        };\n    }\n\n    update(changedProperties) {\n        changedProperties.forEach((oldValue, propName) => {\n            if (propName === \"auth\") {\n                const event = new CustomEvent(\"api-platform-auth-update\", { \"detail\": this.auth, bubbles: true, composed: true });\n                window.dispatchEvent(event);\n            }\n        });\n\n        super.update(changedProperties);\n    }\n\n    render() {\n        return html`\n            <dbp-auth-keycloak subscribe=\"requested-login-status\"\n                               lang=\"${this.lang}\"\n                               entry-point-url=\"${this.entryPointUrl}\"\n                               silent-check-sso-redirect-uri=\"${this.silentCheckSsoRedirectUri}\"\n                               url=\"${this.url}\"\n                               realm=\"${this.realm}\"\n                               client-id=\"${this.clientId}\"\n                               try-login></dbp-auth-keycloak>\n            <dbp-login-button subscribe=\"auth\" lang=\"${this.lang}\"></dbp-login-button>\n        `;\n    }\n}\n\ncommonUtils.defineCustomElement('api-platform-auth', ApiPlatformAuth);\n","/**\n * Parses the base url from an url\n *\n * @param url\n * @returns {string}\n */\nexport const parseBaseUrl = (url) => {\n    const pathArray = url.split('/');\n    const protocol = pathArray[0];\n    const host = pathArray[2];\n    return protocol + '//' + host;\n};\n\n/**\n * Converts a string list to a data array for Select2\n *\n * @param list\n * @returns {Array}\n */\nexport const stringListToSelect2DataArray = (list) => {\n    let data = [];\n    list.forEach((item) => {\n        data.push({id: item, text: item});\n    });\n    return data;\n};\n\n/**\n * Does generic Base64 Encoding with support for 16-bit encoded strings\n *\n * @see https://www.base64encoder.io/javascript/\n * @param str\n * @returns {string}\n */\nexport const base64EncodeUnicode = (str) => {\n    // First we escape the string using encodeURIComponent to get the UTF-8 encoding of the characters,\n    // then we convert the percent encodings into raw bytes, and finally feed it to btoa() function.\n    const utf8Bytes = encodeURIComponent(str).replace(/%([0-9A-F]{2})/g, function (match, p1) {\n        return String.fromCharCode('0x' + p1);\n    });\n\n    return btoa(utf8Bytes);\n};\n\n/**\n * Like customElements.define() but tries to display an error in case the browser doesn't\n * support everything we need.\n *\n * Returns false in case define failed, true otherwise.\n *\n * @returns {boolean}\n */\n\n/**\n * Same as customElements.define() but with some additional error handling.\n *\n * In case the same component (with the exact same implementation) is already\n * defined then this will do nothing instead of erroring out.\n *\n * In case the browser doesn't support custom elements it will fill all those\n * custom tags with an error message so the user gets some feedback instead of\n * just an empty page.\n *\n * @param {string} name\n * @param {Function} constructor\n * @param {object} options\n */\nexport const defineCustomElement = (name, constructor, options) => {\n    // In case the constructor is already defined just do nothing\n    if (customElements.get(name) === constructor) {\n        return true;\n    }\n    // Checks taken from https://github.com/webcomponents/webcomponentsjs/blob/master/webcomponents-loader.js\n    if (\n        !(\n            'attachShadow' in Element.prototype &&\n            'getRootNode' in Element.prototype &&\n            window.customElements\n        )\n    ) {\n        var elements = document.getElementsByTagName(name);\n        for (var i = 0; i < elements.length; i++) {\n            elements[i].innerHTML =\n                \"<span style='border: 1px solid red; font-size: 0.8em; \" +\n                \"opacity: 0.5; padding: 0.2em;'> Your browser is not supported </span>\";\n        }\n        return false;\n    }\n    customElements.define(name, constructor, options);\n    return true;\n};\n\n/**\n * Creates a random id\n *\n * taken from: https://stackoverflow.com/a/1349426/1581487\n *\n * @param length\n * @returns {string}\n */\nexport const makeId = (length) => {\n    let result = '';\n    const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    const charactersLength = characters.length;\n    for (let i = 0; i < length; i++) {\n        result += characters.charAt(Math.floor(Math.random() * charactersLength));\n    }\n\n    return result;\n};\n\n/**\n * Pads a number with a 0, so it has two digits\n *\n * @param n\n * @returns {string}\n */\nexport const pad10 = (n) => {\n    return n < 10 ? '0' + n : n;\n};\n\n/**\n * Converts a date object or string to a local iso datetime with stripped seconds and timezone for the datetime-local input\n *\n * @param date\n * @returns {string}\n */\nexport const dateToStrippedIsoDT = (date) => {\n    if (!(date instanceof Date)) {\n        date = new Date(date);\n    }\n\n    return `${date.getFullYear()}-${pad10(date.getMonth() + 1)}-${pad10(date.getDate())}T${pad10(\n        date.getHours()\n    )}:${pad10(date.getMinutes())}`;\n};\n\n/**\n * Converts a date object or string to a local date string the date input\n *\n * @param date\n * @returns {string}\n */\nexport const dateToInputDateString = (date) => {\n    if (!(date instanceof Date)) {\n        date = new Date(date);\n    }\n\n    return `${date.getFullYear()}-${pad10(date.getMonth() + 1)}-${pad10(date.getDate())}`;\n};\n\n/**\n * Converts a date object or string to a local time string the time input\n *\n * @param date\n * @returns {string}\n */\nexport const dateToInputTimeString = (date) => {\n    if (!(date instanceof Date)) {\n        date = new Date(date);\n    }\n\n    return `${pad10(date.getHours())}:${pad10(date.getMinutes())}`;\n};\n\n/**\n * Get an absolute path for assets given a relative path to the js bundle.\n *\n * @param {string} pkg The package which provides the asset\n * @param {string} path The relative path based on the js bundle path\n */\nexport const getAssetURL = (pkg, path) => {\n    let fullPath = '';\n    if (path === undefined) {\n        // backwards compat: in case only one parameter is passed\n        // assume it is a full path\n        fullPath = pkg;\n    } else {\n        fullPath = 'local/' + pkg + '/' + path;\n    }\n    return new URL(fullPath, new URL('..', import.meta.url).href).href;\n};\n\n/**\n * Poll <fn> every <interval> ms until <timeout> ms\n *\n * @param fn\n * @param timeout\n * @param interval\n */\nexport const pollFunc = (fn, timeout, interval) => {\n    var startTime = new Date().getTime();\n    interval = interval || 1000;\n\n    (function p() {\n        // don't retry if we took longer than timeout ms\n        if (new Date().getTime() - startTime > timeout) {\n            return;\n        }\n\n        // retry until fn() returns true\n        if (!fn()) {\n            setTimeout(p, interval);\n        }\n    })();\n};\n\n/**\n * Doing an async foreach for non-linear integer keys\n *\n * @param array\n * @param callback\n * @returns {Promise<void>}\n */\nexport async function asyncObjectForEach(array, callback) {\n    const keys = Object.keys(array);\n\n    for (let index = 0; index < keys.length; index++) {\n        const key = keys[index];\n        await callback(array[key], key, array);\n    }\n}\n\n/**\n * Doing an async foreach for non-linear integer keys with a copy of the array\n *\n * @param array\n * @param callback\n * @returns {Promise<void>}\n */\nexport async function asyncCopyObjectForEach(array, callback) {\n    const arrayCopy = {...array};\n    const keys = Object.keys(arrayCopy);\n\n    for (let index = 0; index < keys.length; index++) {\n        const key = keys[index];\n        await callback(arrayCopy[key], key, arrayCopy);\n    }\n}\n\n/**\n * Doing an async foreach for linear integer keys\n *\n * @param array\n * @param callback\n * @returns {Promise<void>}\n */\nexport async function asyncArrayForEach(array, callback) {\n    for (let index = 0; index < array.length; index++) {\n        await callback(array[index], index, array);\n    }\n}\n\n/**\n * Attempts to determine the mime-type of a file or blob\n *\n * @param file\n * @returns {Promise<string>}\n */\nexport async function getMimeTypeOfFile(file) {\n    const getMimeType = (signature) => {\n        switch (signature) {\n            case '89504E47':\n                return 'image/png';\n            case '47494638':\n                return 'image/gif';\n            case '25504446':\n                return 'application/pdf';\n            case 'FFD8FFDB':\n            case 'FFD8FFE0':\n            case 'FFD8FFE1':\n                return 'image/jpeg';\n            case '504B0304':\n                return 'application/zip';\n            default:\n                return 'Unknown filetype';\n        }\n    };\n\n    return await new Promise((resolve) => {\n        let fileReader = new FileReader();\n\n        fileReader.onloadend = function (evt) {\n            if (evt.target.readyState === FileReader.DONE) {\n                const uint = new Uint8Array(evt.target.result);\n                let bytes = [];\n\n                uint.forEach((byte) => {\n                    bytes.push(byte.toString(16));\n                });\n\n                const hex = bytes.join('').toUpperCase();\n                const mimeType = getMimeType(hex);\n\n                resolve(mimeType);\n            }\n        };\n\n        fileReader.readAsArrayBuffer(file.slice(0, 4));\n    });\n}\n\n/**\n * Get the basename of a filename\n *\n * @param str\n * @returns {string}\n */\nexport const getBaseName = (str) => {\n    let base = String(str).substring(str.lastIndexOf('/') + 1);\n\n    if (base.lastIndexOf('.') !== -1) {\n        base = base.substring(0, base.lastIndexOf('.'));\n    }\n\n    return base;\n};\n\n/**\n * Get the file extension of a filename\n *\n * @param str\n * @returns {string}\n */\nexport const getFileExtension = (str) => {\n    return str.split('.').pop();\n};\n\n/**\n * Queries for \"selector\" in \"root\" in the slot html\n *\n * @param root\n * @param selector\n * @returns {*[]}\n */\nexport const querySlotted = (root, selector) => {\n    let slots = root.querySelectorAll('slot');\n    let matched = [];\n\n    slots.forEach((slot) => {\n        matched = matched.concat(\n            slot.assignedElements().filter((el) => {\n                return el.matches(selector);\n            })\n        );\n    });\n\n    return matched;\n};\n"],"names":["h","b","c","length","done","value","l","Symbol","iterator","call","next","m","Array","a","push","t","n","Object","create","prototype","q","globalThis","window","self","global","Math","Error","p","this","r","Reflect","construct","d","e","setPrototypeOf","undefined","Function","apply","u","w","__proto__","TypeError","x","ShadowRoot","createElement","L","y","HTMLElement","A","customElements","define","B","get","C","D","WeakMap","E","F","G","CustomElementRegistry","Map","o","i","toLowerCase","j","DOMException","attributeChangedCallback","Set","observedAttributes","H","g","connectedCallback","disconnectedCallback","adoptedCallback","formAssociated","formAssociatedCallback","formDisabledCallback","formResetCallback","formStateRestoreCallback","set","I","s","delete","J","resolve","upgrade","K","arguments","pop","whenDefined","Promise","promise","add","constructor","getRootNode","document","defineProperty","configurable","enumerable","size","setAttribute","f","k","has","z","getAttribute","removeAttribute","toggleAttribute","M","getPrototypeOf","forEach","hasAttribute","isConnected","N","Element","attachShadow","O","P","getOwnPropertyDescriptor","assign","writable","ElementInternals","setFormValue","Q","R","attachInternals","concat","RadioNodeList","S","T","U","defineProperties","V","find","checked","HTMLFormControlsCollection","namedItem","W","HTMLFormElement","ShadyCSS","nativeShadow","Document","CSSStyleSheet","n$2","_$cssResult$","cssText","styleSheet","replaceSync","toString","reduce","adoptedStyleSheets","map","litNonce","textContent","appendChild","cssRules","is","getOwnPropertyNames","getOwnPropertySymbols","trustedTypes","emptyScript","reactiveElementPolyfillSupport","toAttribute","Boolean","JSON","stringify","fromAttribute","Number","parse","attribute","type","String","converter","reflect","hasChanged","metadata","litPropertyMetadata","addInitializer","_$Ei","finalize","_$Eh","keys","createProperty","state","elementProperties","noAccessor","getPropertyDescriptor","requestUpdate","getPropertyOptions","hasOwnProperty","finalized","properties","_$Eu","elementStyles","finalizeStyles","styles","isArray","flat","reverse","unshift","super","_$Ep","isUpdatePending","hasUpdated","_$Em","_$Ev","_$ES","enableUpdating","_$AL","_$E_","addController","_$EO","renderRoot","hostConnected","removeController","createRenderRoot","shadowRoot","shadowRootOptions","hostDisconnected","_$AK","_$EC","_$ET","_$Ej","reject","scheduleUpdate","performUpdate","wrapped","shouldUpdate","willUpdate","hostUpdate","update","_$EU","_$AE","hostUpdated","firstUpdated","updated","updateComplete","getUpdateComplete","mode","ReactiveElement","reactiveElementVersions","createPolicy","createHTML","random","toFixed","slice","createComment","v","_","RegExp","$","_$litType$","strings","values","for","createTreeWalker","lastIndex","exec","test","startsWith","parts","el","currentNode","content","firstChild","replaceWith","childNodes","nextNode","nodeType","hasAttributes","getAttributeNames","endsWith","split","index","name","ctor","tagName","append","data","indexOf","innerHTML","_$Co","_$Cl","_$litDirective$","_$AO","_$AT","_$AS","_$AV","_$AN","_$AD","_$AM","parentNode","_$AU","creationScope","importNode","nextSibling","_$AI","_$Cv","_$AH","_$AA","_$AB","options","startNode","endNode","_$AR","insertBefore","createTextNode","_$AC","_$AP","remove","setConnected","element","fill","capture","once","passive","removeEventListener","addEventListener","handleEvent","host","litHtmlPolyfillSupport","litHtmlVersions","renderOptions","_$Do","renderBefore","render","_$litPart$","_$litElement$","litElementHydrateSupport","LitElement","litElementPolyfillSupport","litElementVersions","MiniSpinner","text","css","textHtml","html","appliedClassMixins","version","versions","includes","supportsScopedRegistry","ScopedElementsMixin","mixin","superclass","scopedElements","scopedElementsVersion","__shadowRootOptions","__elementStyles","_args","registry","__registry","klass","entries","defineScopedElement","createdRoot","adoptStyles","createScopedElement","registeredClass","console","error","join","getScopedTagName","superClass","wasMixinPreviouslyApplied","mixedClass","getThemeCSS","Logger","debug","location","hash","AdapterLitElement","connected","deferSubscribe","deferUnSubscribe","reflectAttribute","subscribe","unsubscribe","callbackStore","propertyStore","lastProperties","getProperty","getPropertyByAttributeName","findPropertyName","setPropertyByAttributeName","setProperty","hasPropertyChanged","hasProperty","unSubscribeProviderFor","subscribeProviderFor","that","detail","providerRoot","callback","sender","stopPropagation","item","splice","observer","MutationObserver","mutationsList","mutation","attributeName","observe","attributes","childList","subtree","attrs","pair","trim","local","event","CustomEvent","bubbles","composed","warn","dispatchEvent","resultName","propertyName","oldValue","newValue","sendSetPropertyEvent","sendToSelf","parentElement","DBPLitElement","htmlOverrides","_localTemplateSlotsImported","_globalSlotsContainer","_globalTemplateSlotsImported","_renderDone","routingUrl","selector","querySelector","_a","querySelectorAll","_importTemplateSlots","changedProperties","propName","_importLocalTemplateSlots","_importGlobalTemplateSlots","lightTemplateSlots","templateElem","divElem","slot","cloneNode","globalOverrideTemplateElem","templateOverrideElem","templateOverrideElemClone","globalTemplateSlots","slotElem","elm","container","removeChild","getRoutingData","url","parsedUrl","URL","pathname","pathSegments","filter","segment","decodeURIComponent","queryParams","searchParams","queryString","search","fragment","replace","_parseUrlComponents","_$Ct","_$Ci","it","directiveName","_t","raw","resultType","isString","obj","defer","res","rej","makeString","object","lastOfPathSeparatorRegExp","cleanKey","key","canNotTraverseDeeper","getLastOfPath","path","Empty","stack","stackIndex","setPath","last","getPath","deepExtend","target","source","overwrite","prop","regexEscape","str","_entityMap","escape","chars","looksLikeObjectPathRegExpCache","capacity","regExpMap","regExpQueue","getRegExp","pattern","regExpFromCache","regExpNew","shift","deepFind","keySeparator","tokens","current","nextPath","getCleanedCode","code","consoleLogger","log","args","output","concreteLogger","init","prefix","logger","_len","_key","forward","_len2","_key2","_len3","_key3","deprecate","_len4","_key4","lvl","debugOnly","moduleName","clone","baseLogger","EventEmitter","observers","on","events","listener","numListeners","off","emit","from","_ref","numTimesAdded","_ref2","ResourceStore","ns","defaultNS","ignoreJSONStructure","addNamespaces","removeNamespaces","getResource","lng","result","addResource","silent","addResources","resources","addResourceBundle","deep","skipCopy","pack","removeResourceBundle","hasResourceBundle","getResourceBundle","getDataByLanguage","hasLanguageSomeTranslations","toJSON","postProcessor","processors","addPostProcessor","module","handle","translator","processor","process","checkedLoadedFor","shouldHandleAsObject","Translator","services","copy","changeLanguage","language","exists","interpolation","resolved","extractFromKey","nsSeparator","namespaces","wouldCheckForNsInKey","seemsNaturalLanguage","userDefinedKeySeparator","userDefinedNsSeparator","possibleChars","matched","ki","substring","looksLikeObjectPath","match","interpolator","nestingRegexp","translate","lastKey","overloadTranslationOptionHandler","returnDetails","namespace","appendNamespaceToCIMode","usedKey","exactUsedKey","usedLng","usedNS","usedParams","getUsedParamsDetails","resUsedKey","resExactUsedKey","joinArrays","handleAsObjectInI18nFormat","i18nFormat","handleAsObject","needsPluralHandling","count","hasDefaultValue","defaultValueSuffix","pluralResolver","getSuffix","defaultValueSuffixOrdinalFallback","ordinal","needsZeroSuffixLookup","defaultValue","pluralSeparator","resForObjHndl","resType","extendTranslation","usedDefault","isValidLookup","resForMissing","missingKeyNoValueFallbackToKey","updateMissing","fk","lngs","fallbackLngs","languageUtils","getFallbackCodes","fallbackLng","saveMissingTo","toResolveHierarchy","send","specificDefaultValue","defaultForMissing","missingKeyHandler","backendConnector","saveMissing","saveMissingPlurals","suffixes","getSuffixes","suffix","appendNamespaceToMissingKey","parseMissingKeyHandler","returnObjects","returnedObjectHandler","resTypeIsArray","newKeyToUse","deepKey","_this","defaultVariables","skipInterpolation","skipOnVariables","nestBef","nb","interpolate","na","nest","context","reset","postProcess","postProcessorNames","applyPostProcessor","postProcessPassResolved","i18nResolved","found","extracted","fallbackNS","needsContextHandling","codes","utils","hasLoadedNamespace","finalKeys","addLookupKeys","pluralSuffix","zeroSuffix","ordinalPrefix","contextKey","contextSeparator","possibleKey","returnNull","returnEmptyString","resourceStore","optionsKeys","useOptionsReplaceForData","option","LanguageUtil","supportedLngs","getScriptPartFromCode","formatLanguageCode","getLanguagePartFromCode","formattedCode","Intl","getCanonicalLocales","lowerCaseLng","cleanCode","isSupportedCode","load","nonExplicitSupportedLngs","getBestMatchFromCodes","cleanedLng","lngOnly","supportedLng","fallbacks","default","fallbackCode","fallbackCodes","addCode","fc","suffixesOrder","zero","one","two","few","many","other","dummyRule","select","resolvedOptions","pluralCategories","PluralResolver","pluralRulesCache","addRule","rules","clearCache","getRule","cleanedCode","cacheKey","rule","PluralRules","err","lngPart","needsPlural","getPluralFormsOfKey","sort","pluralCategory1","pluralCategory2","pluralCategory","prepend","deepFindWithDefaults","defaultData","getPathWithDefaults","regexSafe","val","Interpolator","format","escapeValue","escape$1","useRawValueToEscape","prefixEscaped","suffixEscaped","formatSeparator","unescapeSuffix","unescapePrefix","nestingPrefix","nestingPrefixEscaped","nestingSuffix","nestingSuffixEscaped","nestingOptionsSeparator","maxReplaces","alwaysFormat","resetRegExp","getOrResetRegExp","existingRegExp","regexp","regexpUnescape","replaces","handleFormat","interpolationkey","missingInterpolationHandler","regex","safeValue","todo","matchedVar","temp","clonedOptions","handleHasOptions","inheritedOptions","sep","optionsString","matchedSingleQuotes","matchedDoubleQuotes","formatters","doReduce","elem","createCachedFormatter","fn","cache","optForCache","formatParams","formatter","Formatter","formats","number","opt","NumberFormat","currency","style","datetime","DateTimeFormat","relativetime","RelativeTimeFormat","range","list","ListFormat","addCached","findIndex","mem","formatName","formatOptions","formatStr","optStr","rest","trimmedKey","isNaN","parseInt","parseFormatStr","formatted","valOptions","locale","Connector","backend","store","waitingReads","maxParallelReads","readingCalls","maxRetries","retryTimeout","queue","queueLoad","languages","toLoad","pending","toLoadLanguages","toLoadNamespaces","hasAllNamespaces","reload","pendingCount","loaded","errors","pushPath","removePending","loadedKeys","read","fcName","tried","wait","resolver","setTimeout","bind","then","catch","prepareLoading","loadOne","fallbackValue","isUpdate","clb","opts","initAsync","preload","simplifyPluralSuffix","partialBundledLanguages","ret","tDescription","transformOptions","initImmediate","noop","I18n","inst","modules","external","isInitialized","isClone","isInitializing","defOpts","createClassOnDemand","ClassOrObject","lu","languageDetector","detection","deferred","finish","initializedStoreOnce","loadResources","usedCallback","resolvedLanguage","setResolvedLanguage","reloadResources","use","li","lngInLngs","_this2","isLanguageChangingTo","setLngProps","setLng","cacheUserLanguage","async","detect","getFixedT","keyPrefix","_this3","fixedT","resultKey","_len5","_key5","setDefaultNamespace","lastLng","loadNotPending","loadState","precheck","preResult","loadNamespaces","loadLanguages","preloaded","newLngs","dir","createInstance","cloneInstance","forkResourceStore","mergedOptions","clonedData","prev","acc","_len6","_key6","instance","fallback","overrideNamespace","getOverrideNamespace","compatibilityJSON","i18n","i18next","assert","supportCustomEvent","safeDispatchEvent","check","findNearestDialog","localName","safeBlur","activeElement","blur","body","inNodeList","nodeList","node","isFormMethodDialog","findFocusableElementWithin","hostElement","query","elems","contains","findFormSubmitter","submitter","form","dialogPolyfill","formSubmitter","maybeHandleSubmit","defaultPrevented","imagemapUseValue","dialog","preventDefault","close","dialogPolyfillInfo","dialog_","replacedStyleTop_","openAsModal_","show","showModal","returnValue","maybeHideModal","attributeFilter","timeout","removed","cb","downgradeModal","delayModel","ev","cand","substr","clearTimeout","setOpen","backdrop_","className","backdropMouseEvent_","createEvent","initCustomEvent","cancelable","Event","zIndex","top","dm","removeDialog","focus","fake","tabIndex","redirectedEvent","initMouseEvent","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","focus_","updateZIndex","dialogZ","backdropZ","open","pushDialog","getComputedStyle","invalid","ok","opacity","position","webkitOverflowScrolling","createsStackingContext","needsCentering","reposition","opt_returnValue","closeEvent","scrollTop","documentElement","topValue","innerHeight","offsetHeight","max","styleSheets","selectedNodes","selectorText","cssTop","getPropertyValue","cssBottom","bottom","isInlinePositionSetByStylesheet","HTMLDialogElement","forceRegisterDialog","pendingDialogStack","checkDOM","checkDOM_","overlay","forwardTab_","handleKey_","handleFocus_","zIndexLow_","zIndexHigh_","mo_","records","rec","removedNodes","DialogManager","blockDocument","unblockDocument","disconnect","updateStacking","dpi","containedByTopDialog_","candidate","composedPath","compareDocumentPosition","Node","DOCUMENT_POSITION_PRECEDING","keyCode","cancelEvent","allowed","testForm","method","methodDescriptor","realGet","realSet","offsetX","offsetY","nativeFormSubmit","submit","_createInstance","en","de","KeycloakWrapper","EventTarget","baseURL","realm","clientId","silentCheckSsoUri","checkLoginIframe","idpHint","_baseURL","_realm","_clientId","_keycloak","_initPromise","_silentCheckSsoUri","_checkLoginIframe","_idpHint","_checkId","MIN_VALIDITY","CHECK_INTERVAL","DEBUG","_onVisibilityChanged","visibilityState","authenticated","_checkTokeHasExpired","_onChanged","_onReady","_onTokenExpired","refreshed","updateToken","minValidity","_onAuthSuccess","clearInterval","setInterval","_onAuthLogout","_init","Keycloak","import","onTokenExpired","onAuthRefreshSuccess","onAuthRefreshError","onAuthLogout","onAuthSuccess","onAuthError","onReady","promiseType","pkceMethod","urlOrPath","href","ensureURL","ms","id","race","promiseTimeout","_ensureInit","isLoggingIn","login","scope","kcLocale","tryLogin","localLogout","clearToken","logout","LoginStatus","freeze","UNKNOWN","LOGGING_IN","LOGGED_IN","LOGGING_OUT","LOGGED_OUT","AuthKeycloak","forceLogin","token","subject","entryPointUrl","_user","_userId","_authenticated","_loginStatus","requestedLoginStatus","_i18n","lang","keycloakUrl","silentCheckSsoRedirectUri","noCheckLoginIframe","_onKCChanged","playwright","_kcwrapper","_setLoginStatus","_fetchUser","userId","apiUrl","addedURL","encodeURIComponent","response","fetch","headers","Authorization","roles","json","kc","tokenChanged","idTokenParsed","preferred_username","userChanged","user","sendSetPropertyEvents","auth","person","Cypress","DBPAuth","status","force","alert","summary","handleLogin","LoginButton","_onLoginClicked","_onLogoutClicked","commonStyles.getThemeCSS","unsafeHTML","ApiPlatformAuth","elements","getElementsByTagName","commonUtils.defineCustomElement"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,28]}