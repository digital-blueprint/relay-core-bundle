{"version":3,"file":"keycloak.BeEEaNnl.es.js","sources":["../../../auth/node_modules/js-sha256/src/sha256.js","../../../auth/node_modules/jwt-decode/build/esm/index.js","../../../auth/node_modules/keycloak-js/dist/keycloak.mjs"],"sourcesContent":["/**\n * [js-sha256]{@link https://github.com/emn178/js-sha256}\n *\n * @version 0.11.0\n * @author Chen, Yi-Cyuan [emn178@gmail.com]\n * @copyright Chen, Yi-Cyuan 2014-2024\n * @license MIT\n */\n/*jslint bitwise: true */\n(function () {\n  'use strict';\n\n  var ERROR = 'input is invalid type';\n  var WINDOW = typeof window === 'object';\n  var root = WINDOW ? window : {};\n  if (root.JS_SHA256_NO_WINDOW) {\n    WINDOW = false;\n  }\n  var WEB_WORKER = !WINDOW && typeof self === 'object';\n  var NODE_JS = !root.JS_SHA256_NO_NODE_JS && typeof process === 'object' && process.versions && process.versions.node;\n  if (NODE_JS) {\n    root = global;\n  } else if (WEB_WORKER) {\n    root = self;\n  }\n  var COMMON_JS = !root.JS_SHA256_NO_COMMON_JS && typeof module === 'object' && module.exports;\n  var AMD = typeof define === 'function' && define.amd;\n  var ARRAY_BUFFER = !root.JS_SHA256_NO_ARRAY_BUFFER && typeof ArrayBuffer !== 'undefined';\n  var HEX_CHARS = '0123456789abcdef'.split('');\n  var EXTRA = [-2147483648, 8388608, 32768, 128];\n  var SHIFT = [24, 16, 8, 0];\n  var K = [\n    0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,\n    0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,\n    0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,\n    0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,\n    0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n    0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,\n    0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,\n    0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n  ];\n  var OUTPUT_TYPES = ['hex', 'array', 'digest', 'arrayBuffer'];\n\n  var blocks = [];\n\n  if (root.JS_SHA256_NO_NODE_JS || !Array.isArray) {\n    Array.isArray = function (obj) {\n      return Object.prototype.toString.call(obj) === '[object Array]';\n    };\n  }\n\n  if (ARRAY_BUFFER && (root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW || !ArrayBuffer.isView)) {\n    ArrayBuffer.isView = function (obj) {\n      return typeof obj === 'object' && obj.buffer && obj.buffer.constructor === ArrayBuffer;\n    };\n  }\n\n  var createOutputMethod = function (outputType, is224) {\n    return function (message) {\n      return new Sha256(is224, true).update(message)[outputType]();\n    };\n  };\n\n  var createMethod = function (is224) {\n    var method = createOutputMethod('hex', is224);\n    if (NODE_JS) {\n      method = nodeWrap(method, is224);\n    }\n    method.create = function () {\n      return new Sha256(is224);\n    };\n    method.update = function (message) {\n      return method.create().update(message);\n    };\n    for (var i = 0; i < OUTPUT_TYPES.length; ++i) {\n      var type = OUTPUT_TYPES[i];\n      method[type] = createOutputMethod(type, is224);\n    }\n    return method;\n  };\n\n  var nodeWrap = function (method, is224) {\n    var crypto = require('crypto')\n    var Buffer = require('buffer').Buffer;\n    var algorithm = is224 ? 'sha224' : 'sha256';\n    var bufferFrom;\n    if (Buffer.from && !root.JS_SHA256_NO_BUFFER_FROM) {\n      bufferFrom = Buffer.from;\n    } else {\n      bufferFrom = function (message) {\n        return new Buffer(message);\n      };\n    }\n    var nodeMethod = function (message) {\n      if (typeof message === 'string') {\n        return crypto.createHash(algorithm).update(message, 'utf8').digest('hex');\n      } else {\n        if (message === null || message === undefined) {\n          throw new Error(ERROR);\n        } else if (message.constructor === ArrayBuffer) {\n          message = new Uint8Array(message);\n        }\n      }\n      if (Array.isArray(message) || ArrayBuffer.isView(message) ||\n        message.constructor === Buffer) {\n        return crypto.createHash(algorithm).update(bufferFrom(message)).digest('hex');\n      } else {\n        return method(message);\n      }\n    };\n    return nodeMethod;\n  };\n\n  var createHmacOutputMethod = function (outputType, is224) {\n    return function (key, message) {\n      return new HmacSha256(key, is224, true).update(message)[outputType]();\n    };\n  };\n\n  var createHmacMethod = function (is224) {\n    var method = createHmacOutputMethod('hex', is224);\n    method.create = function (key) {\n      return new HmacSha256(key, is224);\n    };\n    method.update = function (key, message) {\n      return method.create(key).update(message);\n    };\n    for (var i = 0; i < OUTPUT_TYPES.length; ++i) {\n      var type = OUTPUT_TYPES[i];\n      method[type] = createHmacOutputMethod(type, is224);\n    }\n    return method;\n  };\n\n  function Sha256(is224, sharedMemory) {\n    if (sharedMemory) {\n      blocks[0] = blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n        blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n        blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n        blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n      this.blocks = blocks;\n    } else {\n      this.blocks = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n    }\n\n    if (is224) {\n      this.h0 = 0xc1059ed8;\n      this.h1 = 0x367cd507;\n      this.h2 = 0x3070dd17;\n      this.h3 = 0xf70e5939;\n      this.h4 = 0xffc00b31;\n      this.h5 = 0x68581511;\n      this.h6 = 0x64f98fa7;\n      this.h7 = 0xbefa4fa4;\n    } else { // 256\n      this.h0 = 0x6a09e667;\n      this.h1 = 0xbb67ae85;\n      this.h2 = 0x3c6ef372;\n      this.h3 = 0xa54ff53a;\n      this.h4 = 0x510e527f;\n      this.h5 = 0x9b05688c;\n      this.h6 = 0x1f83d9ab;\n      this.h7 = 0x5be0cd19;\n    }\n\n    this.block = this.start = this.bytes = this.hBytes = 0;\n    this.finalized = this.hashed = false;\n    this.first = true;\n    this.is224 = is224;\n  }\n\n  Sha256.prototype.update = function (message) {\n    if (this.finalized) {\n      return;\n    }\n    var notString, type = typeof message;\n    if (type !== 'string') {\n      if (type === 'object') {\n        if (message === null) {\n          throw new Error(ERROR);\n        } else if (ARRAY_BUFFER && message.constructor === ArrayBuffer) {\n          message = new Uint8Array(message);\n        } else if (!Array.isArray(message)) {\n          if (!ARRAY_BUFFER || !ArrayBuffer.isView(message)) {\n            throw new Error(ERROR);\n          }\n        }\n      } else {\n        throw new Error(ERROR);\n      }\n      notString = true;\n    }\n    var code, index = 0, i, length = message.length, blocks = this.blocks;\n    while (index < length) {\n      if (this.hashed) {\n        this.hashed = false;\n        blocks[0] = this.block;\n        this.block = blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n          blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n          blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n          blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n      }\n\n      if (notString) {\n        for (i = this.start; index < length && i < 64; ++index) {\n          blocks[i >>> 2] |= message[index] << SHIFT[i++ & 3];\n        }\n      } else {\n        for (i = this.start; index < length && i < 64; ++index) {\n          code = message.charCodeAt(index);\n          if (code < 0x80) {\n            blocks[i >>> 2] |= code << SHIFT[i++ & 3];\n          } else if (code < 0x800) {\n            blocks[i >>> 2] |= (0xc0 | (code >>> 6)) << SHIFT[i++ & 3];\n            blocks[i >>> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          } else if (code < 0xd800 || code >= 0xe000) {\n            blocks[i >>> 2] |= (0xe0 | (code >>> 12)) << SHIFT[i++ & 3];\n            blocks[i >>> 2] |= (0x80 | ((code >>> 6) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >>> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          } else {\n            code = 0x10000 + (((code & 0x3ff) << 10) | (message.charCodeAt(++index) & 0x3ff));\n            blocks[i >>> 2] |= (0xf0 | (code >>> 18)) << SHIFT[i++ & 3];\n            blocks[i >>> 2] |= (0x80 | ((code >>> 12) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >>> 2] |= (0x80 | ((code >>> 6) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >>> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          }\n        }\n      }\n\n      this.lastByteIndex = i;\n      this.bytes += i - this.start;\n      if (i >= 64) {\n        this.block = blocks[16];\n        this.start = i - 64;\n        this.hash();\n        this.hashed = true;\n      } else {\n        this.start = i;\n      }\n    }\n    if (this.bytes > 4294967295) {\n      this.hBytes += this.bytes / 4294967296 << 0;\n      this.bytes = this.bytes % 4294967296;\n    }\n    return this;\n  };\n\n  Sha256.prototype.finalize = function () {\n    if (this.finalized) {\n      return;\n    }\n    this.finalized = true;\n    var blocks = this.blocks, i = this.lastByteIndex;\n    blocks[16] = this.block;\n    blocks[i >>> 2] |= EXTRA[i & 3];\n    this.block = blocks[16];\n    if (i >= 56) {\n      if (!this.hashed) {\n        this.hash();\n      }\n      blocks[0] = this.block;\n      blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n        blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n        blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n        blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n    }\n    blocks[14] = this.hBytes << 3 | this.bytes >>> 29;\n    blocks[15] = this.bytes << 3;\n    this.hash();\n  };\n\n  Sha256.prototype.hash = function () {\n    var a = this.h0, b = this.h1, c = this.h2, d = this.h3, e = this.h4, f = this.h5, g = this.h6,\n      h = this.h7, blocks = this.blocks, j, s0, s1, maj, t1, t2, ch, ab, da, cd, bc;\n\n    for (j = 16; j < 64; ++j) {\n      // rightrotate\n      t1 = blocks[j - 15];\n      s0 = ((t1 >>> 7) | (t1 << 25)) ^ ((t1 >>> 18) | (t1 << 14)) ^ (t1 >>> 3);\n      t1 = blocks[j - 2];\n      s1 = ((t1 >>> 17) | (t1 << 15)) ^ ((t1 >>> 19) | (t1 << 13)) ^ (t1 >>> 10);\n      blocks[j] = blocks[j - 16] + s0 + blocks[j - 7] + s1 << 0;\n    }\n\n    bc = b & c;\n    for (j = 0; j < 64; j += 4) {\n      if (this.first) {\n        if (this.is224) {\n          ab = 300032;\n          t1 = blocks[0] - 1413257819;\n          h = t1 - 150054599 << 0;\n          d = t1 + 24177077 << 0;\n        } else {\n          ab = 704751109;\n          t1 = blocks[0] - 210244248;\n          h = t1 - 1521486534 << 0;\n          d = t1 + 143694565 << 0;\n        }\n        this.first = false;\n      } else {\n        s0 = ((a >>> 2) | (a << 30)) ^ ((a >>> 13) | (a << 19)) ^ ((a >>> 22) | (a << 10));\n        s1 = ((e >>> 6) | (e << 26)) ^ ((e >>> 11) | (e << 21)) ^ ((e >>> 25) | (e << 7));\n        ab = a & b;\n        maj = ab ^ (a & c) ^ bc;\n        ch = (e & f) ^ (~e & g);\n        t1 = h + s1 + ch + K[j] + blocks[j];\n        t2 = s0 + maj;\n        h = d + t1 << 0;\n        d = t1 + t2 << 0;\n      }\n      s0 = ((d >>> 2) | (d << 30)) ^ ((d >>> 13) | (d << 19)) ^ ((d >>> 22) | (d << 10));\n      s1 = ((h >>> 6) | (h << 26)) ^ ((h >>> 11) | (h << 21)) ^ ((h >>> 25) | (h << 7));\n      da = d & a;\n      maj = da ^ (d & b) ^ ab;\n      ch = (h & e) ^ (~h & f);\n      t1 = g + s1 + ch + K[j + 1] + blocks[j + 1];\n      t2 = s0 + maj;\n      g = c + t1 << 0;\n      c = t1 + t2 << 0;\n      s0 = ((c >>> 2) | (c << 30)) ^ ((c >>> 13) | (c << 19)) ^ ((c >>> 22) | (c << 10));\n      s1 = ((g >>> 6) | (g << 26)) ^ ((g >>> 11) | (g << 21)) ^ ((g >>> 25) | (g << 7));\n      cd = c & d;\n      maj = cd ^ (c & a) ^ da;\n      ch = (g & h) ^ (~g & e);\n      t1 = f + s1 + ch + K[j + 2] + blocks[j + 2];\n      t2 = s0 + maj;\n      f = b + t1 << 0;\n      b = t1 + t2 << 0;\n      s0 = ((b >>> 2) | (b << 30)) ^ ((b >>> 13) | (b << 19)) ^ ((b >>> 22) | (b << 10));\n      s1 = ((f >>> 6) | (f << 26)) ^ ((f >>> 11) | (f << 21)) ^ ((f >>> 25) | (f << 7));\n      bc = b & c;\n      maj = bc ^ (b & d) ^ cd;\n      ch = (f & g) ^ (~f & h);\n      t1 = e + s1 + ch + K[j + 3] + blocks[j + 3];\n      t2 = s0 + maj;\n      e = a + t1 << 0;\n      a = t1 + t2 << 0;\n      this.chromeBugWorkAround = true;\n    }\n\n    this.h0 = this.h0 + a << 0;\n    this.h1 = this.h1 + b << 0;\n    this.h2 = this.h2 + c << 0;\n    this.h3 = this.h3 + d << 0;\n    this.h4 = this.h4 + e << 0;\n    this.h5 = this.h5 + f << 0;\n    this.h6 = this.h6 + g << 0;\n    this.h7 = this.h7 + h << 0;\n  };\n\n  Sha256.prototype.hex = function () {\n    this.finalize();\n\n    var h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3, h4 = this.h4, h5 = this.h5,\n      h6 = this.h6, h7 = this.h7;\n\n    var hex = HEX_CHARS[(h0 >>> 28) & 0x0F] + HEX_CHARS[(h0 >>> 24) & 0x0F] +\n      HEX_CHARS[(h0 >>> 20) & 0x0F] + HEX_CHARS[(h0 >>> 16) & 0x0F] +\n      HEX_CHARS[(h0 >>> 12) & 0x0F] + HEX_CHARS[(h0 >>> 8) & 0x0F] +\n      HEX_CHARS[(h0 >>> 4) & 0x0F] + HEX_CHARS[h0 & 0x0F] +\n      HEX_CHARS[(h1 >>> 28) & 0x0F] + HEX_CHARS[(h1 >>> 24) & 0x0F] +\n      HEX_CHARS[(h1 >>> 20) & 0x0F] + HEX_CHARS[(h1 >>> 16) & 0x0F] +\n      HEX_CHARS[(h1 >>> 12) & 0x0F] + HEX_CHARS[(h1 >>> 8) & 0x0F] +\n      HEX_CHARS[(h1 >>> 4) & 0x0F] + HEX_CHARS[h1 & 0x0F] +\n      HEX_CHARS[(h2 >>> 28) & 0x0F] + HEX_CHARS[(h2 >>> 24) & 0x0F] +\n      HEX_CHARS[(h2 >>> 20) & 0x0F] + HEX_CHARS[(h2 >>> 16) & 0x0F] +\n      HEX_CHARS[(h2 >>> 12) & 0x0F] + HEX_CHARS[(h2 >>> 8) & 0x0F] +\n      HEX_CHARS[(h2 >>> 4) & 0x0F] + HEX_CHARS[h2 & 0x0F] +\n      HEX_CHARS[(h3 >>> 28) & 0x0F] + HEX_CHARS[(h3 >>> 24) & 0x0F] +\n      HEX_CHARS[(h3 >>> 20) & 0x0F] + HEX_CHARS[(h3 >>> 16) & 0x0F] +\n      HEX_CHARS[(h3 >>> 12) & 0x0F] + HEX_CHARS[(h3 >>> 8) & 0x0F] +\n      HEX_CHARS[(h3 >>> 4) & 0x0F] + HEX_CHARS[h3 & 0x0F] +\n      HEX_CHARS[(h4 >>> 28) & 0x0F] + HEX_CHARS[(h4 >>> 24) & 0x0F] +\n      HEX_CHARS[(h4 >>> 20) & 0x0F] + HEX_CHARS[(h4 >>> 16) & 0x0F] +\n      HEX_CHARS[(h4 >>> 12) & 0x0F] + HEX_CHARS[(h4 >>> 8) & 0x0F] +\n      HEX_CHARS[(h4 >>> 4) & 0x0F] + HEX_CHARS[h4 & 0x0F] +\n      HEX_CHARS[(h5 >>> 28) & 0x0F] + HEX_CHARS[(h5 >>> 24) & 0x0F] +\n      HEX_CHARS[(h5 >>> 20) & 0x0F] + HEX_CHARS[(h5 >>> 16) & 0x0F] +\n      HEX_CHARS[(h5 >>> 12) & 0x0F] + HEX_CHARS[(h5 >>> 8) & 0x0F] +\n      HEX_CHARS[(h5 >>> 4) & 0x0F] + HEX_CHARS[h5 & 0x0F] +\n      HEX_CHARS[(h6 >>> 28) & 0x0F] + HEX_CHARS[(h6 >>> 24) & 0x0F] +\n      HEX_CHARS[(h6 >>> 20) & 0x0F] + HEX_CHARS[(h6 >>> 16) & 0x0F] +\n      HEX_CHARS[(h6 >>> 12) & 0x0F] + HEX_CHARS[(h6 >>> 8) & 0x0F] +\n      HEX_CHARS[(h6 >>> 4) & 0x0F] + HEX_CHARS[h6 & 0x0F];\n    if (!this.is224) {\n      hex += HEX_CHARS[(h7 >>> 28) & 0x0F] + HEX_CHARS[(h7 >>> 24) & 0x0F] +\n        HEX_CHARS[(h7 >>> 20) & 0x0F] + HEX_CHARS[(h7 >>> 16) & 0x0F] +\n        HEX_CHARS[(h7 >>> 12) & 0x0F] + HEX_CHARS[(h7 >>> 8) & 0x0F] +\n        HEX_CHARS[(h7 >>> 4) & 0x0F] + HEX_CHARS[h7 & 0x0F];\n    }\n    return hex;\n  };\n\n  Sha256.prototype.toString = Sha256.prototype.hex;\n\n  Sha256.prototype.digest = function () {\n    this.finalize();\n\n    var h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3, h4 = this.h4, h5 = this.h5,\n      h6 = this.h6, h7 = this.h7;\n\n    var arr = [\n      (h0 >>> 24) & 0xFF, (h0 >>> 16) & 0xFF, (h0 >>> 8) & 0xFF, h0 & 0xFF,\n      (h1 >>> 24) & 0xFF, (h1 >>> 16) & 0xFF, (h1 >>> 8) & 0xFF, h1 & 0xFF,\n      (h2 >>> 24) & 0xFF, (h2 >>> 16) & 0xFF, (h2 >>> 8) & 0xFF, h2 & 0xFF,\n      (h3 >>> 24) & 0xFF, (h3 >>> 16) & 0xFF, (h3 >>> 8) & 0xFF, h3 & 0xFF,\n      (h4 >>> 24) & 0xFF, (h4 >>> 16) & 0xFF, (h4 >>> 8) & 0xFF, h4 & 0xFF,\n      (h5 >>> 24) & 0xFF, (h5 >>> 16) & 0xFF, (h5 >>> 8) & 0xFF, h5 & 0xFF,\n      (h6 >>> 24) & 0xFF, (h6 >>> 16) & 0xFF, (h6 >>> 8) & 0xFF, h6 & 0xFF\n    ];\n    if (!this.is224) {\n      arr.push((h7 >>> 24) & 0xFF, (h7 >>> 16) & 0xFF, (h7 >>> 8) & 0xFF, h7 & 0xFF);\n    }\n    return arr;\n  };\n\n  Sha256.prototype.array = Sha256.prototype.digest;\n\n  Sha256.prototype.arrayBuffer = function () {\n    this.finalize();\n\n    var buffer = new ArrayBuffer(this.is224 ? 28 : 32);\n    var dataView = new DataView(buffer);\n    dataView.setUint32(0, this.h0);\n    dataView.setUint32(4, this.h1);\n    dataView.setUint32(8, this.h2);\n    dataView.setUint32(12, this.h3);\n    dataView.setUint32(16, this.h4);\n    dataView.setUint32(20, this.h5);\n    dataView.setUint32(24, this.h6);\n    if (!this.is224) {\n      dataView.setUint32(28, this.h7);\n    }\n    return buffer;\n  };\n\n  function HmacSha256(key, is224, sharedMemory) {\n    var i, type = typeof key;\n    if (type === 'string') {\n      var bytes = [], length = key.length, index = 0, code;\n      for (i = 0; i < length; ++i) {\n        code = key.charCodeAt(i);\n        if (code < 0x80) {\n          bytes[index++] = code;\n        } else if (code < 0x800) {\n          bytes[index++] = (0xc0 | (code >>> 6));\n          bytes[index++] = (0x80 | (code & 0x3f));\n        } else if (code < 0xd800 || code >= 0xe000) {\n          bytes[index++] = (0xe0 | (code >>> 12));\n          bytes[index++] = (0x80 | ((code >>> 6) & 0x3f));\n          bytes[index++] = (0x80 | (code & 0x3f));\n        } else {\n          code = 0x10000 + (((code & 0x3ff) << 10) | (key.charCodeAt(++i) & 0x3ff));\n          bytes[index++] = (0xf0 | (code >>> 18));\n          bytes[index++] = (0x80 | ((code >>> 12) & 0x3f));\n          bytes[index++] = (0x80 | ((code >>> 6) & 0x3f));\n          bytes[index++] = (0x80 | (code & 0x3f));\n        }\n      }\n      key = bytes;\n    } else {\n      if (type === 'object') {\n        if (key === null) {\n          throw new Error(ERROR);\n        } else if (ARRAY_BUFFER && key.constructor === ArrayBuffer) {\n          key = new Uint8Array(key);\n        } else if (!Array.isArray(key)) {\n          if (!ARRAY_BUFFER || !ArrayBuffer.isView(key)) {\n            throw new Error(ERROR);\n          }\n        }\n      } else {\n        throw new Error(ERROR);\n      }\n    }\n\n    if (key.length > 64) {\n      key = (new Sha256(is224, true)).update(key).array();\n    }\n\n    var oKeyPad = [], iKeyPad = [];\n    for (i = 0; i < 64; ++i) {\n      var b = key[i] || 0;\n      oKeyPad[i] = 0x5c ^ b;\n      iKeyPad[i] = 0x36 ^ b;\n    }\n\n    Sha256.call(this, is224, sharedMemory);\n\n    this.update(iKeyPad);\n    this.oKeyPad = oKeyPad;\n    this.inner = true;\n    this.sharedMemory = sharedMemory;\n  }\n  HmacSha256.prototype = new Sha256();\n\n  HmacSha256.prototype.finalize = function () {\n    Sha256.prototype.finalize.call(this);\n    if (this.inner) {\n      this.inner = false;\n      var innerHash = this.array();\n      Sha256.call(this, this.is224, this.sharedMemory);\n      this.update(this.oKeyPad);\n      this.update(innerHash);\n      Sha256.prototype.finalize.call(this);\n    }\n  };\n\n  var exports = createMethod();\n  exports.sha256 = exports;\n  exports.sha224 = createMethod(true);\n  exports.sha256.hmac = createHmacMethod();\n  exports.sha224.hmac = createHmacMethod(true);\n\n  if (COMMON_JS) {\n    module.exports = exports;\n  } else {\n    root.sha256 = exports.sha256;\n    root.sha224 = exports.sha224;\n    if (AMD) {\n      define(function () {\n        return exports;\n      });\n    }\n  }\n})();\n","export class InvalidTokenError extends Error {\n}\nInvalidTokenError.prototype.name = \"InvalidTokenError\";\nfunction b64DecodeUnicode(str) {\n    return decodeURIComponent(atob(str).replace(/(.)/g, (m, p) => {\n        let code = p.charCodeAt(0).toString(16).toUpperCase();\n        if (code.length < 2) {\n            code = \"0\" + code;\n        }\n        return \"%\" + code;\n    }));\n}\nfunction base64UrlDecode(str) {\n    let output = str.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    switch (output.length % 4) {\n        case 0:\n            break;\n        case 2:\n            output += \"==\";\n            break;\n        case 3:\n            output += \"=\";\n            break;\n        default:\n            throw new Error(\"base64 string is not of the correct length\");\n    }\n    try {\n        return b64DecodeUnicode(output);\n    }\n    catch (err) {\n        return atob(output);\n    }\n}\nexport function jwtDecode(token, options) {\n    if (typeof token !== \"string\") {\n        throw new InvalidTokenError(\"Invalid token specified: must be a string\");\n    }\n    options || (options = {});\n    const pos = options.header === true ? 0 : 1;\n    const part = token.split(\".\")[pos];\n    if (typeof part !== \"string\") {\n        throw new InvalidTokenError(`Invalid token specified: missing part #${pos + 1}`);\n    }\n    let decoded;\n    try {\n        decoded = base64UrlDecode(part);\n    }\n    catch (e) {\n        throw new InvalidTokenError(`Invalid token specified: invalid base64 for part #${pos + 1} (${e.message})`);\n    }\n    try {\n        return JSON.parse(decoded);\n    }\n    catch (e) {\n        throw new InvalidTokenError(`Invalid token specified: invalid json for part #${pos + 1} (${e.message})`);\n    }\n}\n","import sha256 from 'js-sha256';\nimport { jwtDecode } from 'jwt-decode';\n\n/*\n * Copyright 2016 Red Hat, Inc. and/or its affiliates\n * and other contributors as indicated by the @author tags.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nif (typeof Promise === 'undefined') {\n    throw Error('Keycloak requires an environment that supports Promises. Make sure that you include the appropriate polyfill.');\n}\n\nfunction Keycloak (config) {\n    if (!(this instanceof Keycloak)) {\n        throw new Error(\"The 'Keycloak' constructor must be invoked with 'new'.\")\n    }\n\n    var kc = this;\n    var adapter;\n    var refreshQueue = [];\n    var callbackStorage;\n\n    var loginIframe = {\n        enable: true,\n        callbackList: [],\n        interval: 5\n    };\n\n    var scripts = document.getElementsByTagName('script');\n    for (var i = 0; i < scripts.length; i++) {\n        if ((scripts[i].src.indexOf('keycloak.js') !== -1 || scripts[i].src.indexOf('keycloak.min.js') !== -1) && scripts[i].src.indexOf('version=') !== -1) {\n            kc.iframeVersion = scripts[i].src.substring(scripts[i].src.indexOf('version=') + 8).split('&')[0];\n        }\n    }\n\n    var useNonce = true;\n    var logInfo = createLogger(console.info);\n    var logWarn = createLogger(console.warn);\n\n    kc.init = function (initOptions) {\n        if (kc.didInitialize) {\n            throw new Error(\"A 'Keycloak' instance can only be initialized once.\");\n        }\n\n        kc.didInitialize = true;\n\n        kc.authenticated = false;\n\n        callbackStorage = createCallbackStorage();\n        var adapters = ['default', 'cordova', 'cordova-native'];\n\n        if (initOptions && adapters.indexOf(initOptions.adapter) > -1) {\n            adapter = loadAdapter(initOptions.adapter);\n        } else if (initOptions && typeof initOptions.adapter === \"object\") {\n            adapter = initOptions.adapter;\n        } else {\n            if (window.Cordova || window.cordova) {\n                adapter = loadAdapter('cordova');\n            } else {\n                adapter = loadAdapter();\n            }\n        }\n\n        if (initOptions) {\n            if (typeof initOptions.useNonce !== 'undefined') {\n                useNonce = initOptions.useNonce;\n            }\n\n            if (typeof initOptions.checkLoginIframe !== 'undefined') {\n                loginIframe.enable = initOptions.checkLoginIframe;\n            }\n\n            if (initOptions.checkLoginIframeInterval) {\n                loginIframe.interval = initOptions.checkLoginIframeInterval;\n            }\n\n            if (initOptions.onLoad === 'login-required') {\n                kc.loginRequired = true;\n            }\n\n            if (initOptions.responseMode) {\n                if (initOptions.responseMode === 'query' || initOptions.responseMode === 'fragment') {\n                    kc.responseMode = initOptions.responseMode;\n                } else {\n                    throw 'Invalid value for responseMode';\n                }\n            }\n\n            if (initOptions.flow) {\n                switch (initOptions.flow) {\n                    case 'standard':\n                        kc.responseType = 'code';\n                        break;\n                    case 'implicit':\n                        kc.responseType = 'id_token token';\n                        break;\n                    case 'hybrid':\n                        kc.responseType = 'code id_token token';\n                        break;\n                    default:\n                        throw 'Invalid value for flow';\n                }\n                kc.flow = initOptions.flow;\n            }\n\n            if (initOptions.timeSkew != null) {\n                kc.timeSkew = initOptions.timeSkew;\n            }\n\n            if(initOptions.redirectUri) {\n                kc.redirectUri = initOptions.redirectUri;\n            }\n\n            if (initOptions.silentCheckSsoRedirectUri) {\n                kc.silentCheckSsoRedirectUri = initOptions.silentCheckSsoRedirectUri;\n            }\n\n            if (typeof initOptions.silentCheckSsoFallback === 'boolean') {\n                kc.silentCheckSsoFallback = initOptions.silentCheckSsoFallback;\n            } else {\n                kc.silentCheckSsoFallback = true;\n            }\n\n            if (typeof initOptions.pkceMethod !== \"undefined\") {\n                if (initOptions.pkceMethod !== \"S256\" && initOptions.pkceMethod !== false) {\n                    throw new TypeError(`Invalid value for pkceMethod', expected 'S256' or false but got ${initOptions.pkceMethod}.`);\n                }\n\n                kc.pkceMethod = initOptions.pkceMethod;\n            } else {\n                kc.pkceMethod = \"S256\";\n            }\n\n            if (typeof initOptions.enableLogging === 'boolean') {\n                kc.enableLogging = initOptions.enableLogging;\n            } else {\n                kc.enableLogging = false;\n            }\n\n            if (initOptions.logoutMethod === 'POST') {\n                kc.logoutMethod = 'POST';\n            } else {\n                kc.logoutMethod = 'GET';\n            }\n\n            if (typeof initOptions.scope === 'string') {\n                kc.scope = initOptions.scope;\n            }\n\n            if (typeof initOptions.acrValues === 'string') {\n                kc.acrValues = initOptions.acrValues;\n            }\n\n            if (typeof initOptions.messageReceiveTimeout === 'number' && initOptions.messageReceiveTimeout > 0) {\n                kc.messageReceiveTimeout = initOptions.messageReceiveTimeout;\n            } else {\n                kc.messageReceiveTimeout = 10000;\n            }\n        }\n\n        if (!kc.responseMode) {\n            kc.responseMode = 'fragment';\n        }\n        if (!kc.responseType) {\n            kc.responseType = 'code';\n            kc.flow = 'standard';\n        }\n\n        var promise = createPromise();\n\n        var initPromise = createPromise();\n        initPromise.promise.then(function() {\n            kc.onReady && kc.onReady(kc.authenticated);\n            promise.setSuccess(kc.authenticated);\n        }).catch(function(error) {\n            promise.setError(error);\n        });\n\n        var configPromise = loadConfig();\n\n        function onLoad() {\n            var doLogin = function(prompt) {\n                if (!prompt) {\n                    options.prompt = 'none';\n                }\n\n                if (initOptions && initOptions.locale) {\n                    options.locale = initOptions.locale;\n                }\n                kc.login(options).then(function () {\n                    initPromise.setSuccess();\n                }).catch(function (error) {\n                    initPromise.setError(error);\n                });\n            };\n\n            var checkSsoSilently = function() {\n                var ifrm = document.createElement(\"iframe\");\n                var src = kc.createLoginUrl({prompt: 'none', redirectUri: kc.silentCheckSsoRedirectUri});\n                ifrm.setAttribute(\"src\", src);\n                ifrm.setAttribute(\"sandbox\", \"allow-storage-access-by-user-activation allow-scripts allow-same-origin\");\n                ifrm.setAttribute(\"title\", \"keycloak-silent-check-sso\");\n                ifrm.style.display = \"none\";\n                document.body.appendChild(ifrm);\n\n                var messageCallback = function(event) {\n                    if (event.origin !== window.location.origin || ifrm.contentWindow !== event.source) {\n                        return;\n                    }\n\n                    var oauth = parseCallback(event.data);\n                    processCallback(oauth, initPromise);\n\n                    document.body.removeChild(ifrm);\n                    window.removeEventListener(\"message\", messageCallback);\n                };\n\n                window.addEventListener(\"message\", messageCallback);\n            };\n\n            var options = {};\n            switch (initOptions.onLoad) {\n                case 'check-sso':\n                    if (loginIframe.enable) {\n                        setupCheckLoginIframe().then(function() {\n                            checkLoginIframe().then(function (unchanged) {\n                                if (!unchanged) {\n                                    kc.silentCheckSsoRedirectUri ? checkSsoSilently() : doLogin(false);\n                                } else {\n                                    initPromise.setSuccess();\n                                }\n                            }).catch(function (error) {\n                                initPromise.setError(error);\n                            });\n                        });\n                    } else {\n                        kc.silentCheckSsoRedirectUri ? checkSsoSilently() : doLogin(false);\n                    }\n                    break;\n                case 'login-required':\n                    doLogin(true);\n                    break;\n                default:\n                    throw 'Invalid value for onLoad';\n            }\n        }\n\n        function processInit() {\n            var callback = parseCallback(window.location.href);\n\n            if (callback) {\n                window.history.replaceState(window.history.state, null, callback.newUrl);\n            }\n\n            if (callback && callback.valid) {\n                return setupCheckLoginIframe().then(function() {\n                    processCallback(callback, initPromise);\n                }).catch(function (error) {\n                    initPromise.setError(error);\n                });\n            } else if (initOptions) {\n                if (initOptions.token && initOptions.refreshToken) {\n                    setToken(initOptions.token, initOptions.refreshToken, initOptions.idToken);\n\n                    if (loginIframe.enable) {\n                        setupCheckLoginIframe().then(function() {\n                            checkLoginIframe().then(function (unchanged) {\n                                if (unchanged) {\n                                    kc.onAuthSuccess && kc.onAuthSuccess();\n                                    initPromise.setSuccess();\n                                    scheduleCheckIframe();\n                                } else {\n                                    initPromise.setSuccess();\n                                }\n                            }).catch(function (error) {\n                                initPromise.setError(error);\n                            });\n                        });\n                    } else {\n                        kc.updateToken(-1).then(function() {\n                            kc.onAuthSuccess && kc.onAuthSuccess();\n                            initPromise.setSuccess();\n                        }).catch(function(error) {\n                            kc.onAuthError && kc.onAuthError();\n                            if (initOptions.onLoad) {\n                                onLoad();\n                            } else {\n                                initPromise.setError(error);\n                            }\n                        });\n                    }\n                } else if (initOptions.onLoad) {\n                    onLoad();\n                } else {\n                    initPromise.setSuccess();\n                }\n            } else {\n                initPromise.setSuccess();\n            }\n        }\n\n        function domReady() {\n            var promise = createPromise();\n\n            var checkReadyState = function () {\n                if (document.readyState === 'interactive' || document.readyState === 'complete') {\n                    document.removeEventListener('readystatechange', checkReadyState);\n                    promise.setSuccess();\n                }\n            };\n            document.addEventListener('readystatechange', checkReadyState);\n\n            checkReadyState(); // just in case the event was already fired and we missed it (in case the init is done later than at the load time, i.e. it's done from code)\n\n            return promise.promise;\n        }\n\n        configPromise.then(function () {\n            domReady()\n                .then(check3pCookiesSupported)\n                .then(processInit)\n                .catch(function (error) {\n                    promise.setError(error);\n                });\n        });\n        configPromise.catch(function (error) {\n            promise.setError(error);\n        });\n\n        return promise.promise;\n    };\n\n    kc.login = function (options) {\n        return adapter.login(options);\n    };\n\n    function generateRandomData(len) {\n        // use web crypto APIs if possible\n        var array = null;\n        var crypto = window.crypto || window.msCrypto;\n        if (crypto && crypto.getRandomValues && window.Uint8Array) {\n            array = new Uint8Array(len);\n            crypto.getRandomValues(array);\n            return array;\n        }\n\n        // fallback to Math random\n        array = new Array(len);\n        for (var j = 0; j < array.length; j++) {\n            array[j] = Math.floor(256 * Math.random());\n        }\n        return array;\n    }\n\n    function generateCodeVerifier(len) {\n        return generateRandomString(len, 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789');\n    }\n\n    function generateRandomString(len, alphabet){\n        var randomData = generateRandomData(len);\n        var chars = new Array(len);\n        for (var i = 0; i < len; i++) {\n            chars[i] = alphabet.charCodeAt(randomData[i] % alphabet.length);\n        }\n        return String.fromCharCode.apply(null, chars);\n    }\n\n    function generatePkceChallenge(pkceMethod, codeVerifier) {\n        if (pkceMethod !== \"S256\") {\n            throw new TypeError(`Invalid value for 'pkceMethod', expected 'S256' but got '${pkceMethod}'.`);\n        }\n\n        // hash codeVerifier, then encode as url-safe base64 without padding\n        const hashBytes = new Uint8Array(sha256.arrayBuffer(codeVerifier));\n        const encodedHash = bytesToBase64(hashBytes)\n            .replace(/\\+/g, '-')\n            .replace(/\\//g, '_')\n            .replace(/\\=/g, '');\n\n        return encodedHash;\n    }\n\n    function buildClaimsParameter(requestedAcr){\n        var claims = {\n            id_token: {\n                acr: requestedAcr\n            }\n        };\n        return JSON.stringify(claims);\n    }\n\n    kc.createLoginUrl = function(options) {\n        var state = createUUID();\n        var nonce = createUUID();\n\n        var redirectUri = adapter.redirectUri(options);\n\n        var callbackState = {\n            state: state,\n            nonce: nonce,\n            redirectUri: encodeURIComponent(redirectUri)\n        };\n\n        if (options && options.prompt) {\n            callbackState.prompt = options.prompt;\n        }\n\n        var baseUrl;\n        if (options && options.action == 'register') {\n            baseUrl = kc.endpoints.register();\n        } else {\n            baseUrl = kc.endpoints.authorize();\n        }\n\n        var scope = options && options.scope || kc.scope;\n        if (!scope) {\n            // if scope is not set, default to \"openid\"\n            scope = \"openid\";\n        } else if (scope.indexOf(\"openid\") === -1) {\n            // if openid scope is missing, prefix the given scopes with it\n            scope = \"openid \" + scope;\n        }\n\n        var url = baseUrl\n            + '?client_id=' + encodeURIComponent(kc.clientId)\n            + '&redirect_uri=' + encodeURIComponent(redirectUri)\n            + '&state=' + encodeURIComponent(state)\n            + '&response_mode=' + encodeURIComponent(kc.responseMode)\n            + '&response_type=' + encodeURIComponent(kc.responseType)\n            + '&scope=' + encodeURIComponent(scope);\n        if (useNonce) {\n            url = url + '&nonce=' + encodeURIComponent(nonce);\n        }\n\n        if (options && options.prompt) {\n            url += '&prompt=' + encodeURIComponent(options.prompt);\n        }\n\n        if (options && options.maxAge) {\n            url += '&max_age=' + encodeURIComponent(options.maxAge);\n        }\n\n        if (options && options.loginHint) {\n            url += '&login_hint=' + encodeURIComponent(options.loginHint);\n        }\n\n        if (options && options.idpHint) {\n            url += '&kc_idp_hint=' + encodeURIComponent(options.idpHint);\n        }\n\n        if (options && options.action && options.action != 'register') {\n            url += '&kc_action=' + encodeURIComponent(options.action);\n        }\n\n        if (options && options.locale) {\n            url += '&ui_locales=' + encodeURIComponent(options.locale);\n        }\n\n        if (options && options.acr) {\n            var claimsParameter = buildClaimsParameter(options.acr);\n            url += '&claims=' + encodeURIComponent(claimsParameter);\n        }\n\n        if ((options && options.acrValues) || kc.acrValues) {\n            url += '&acr_values=' + encodeURIComponent(options.acrValues || kc.acrValues);\n        }\n\n        if (kc.pkceMethod) {\n            var codeVerifier = generateCodeVerifier(96);\n            callbackState.pkceCodeVerifier = codeVerifier;\n            var pkceChallenge = generatePkceChallenge(kc.pkceMethod, codeVerifier);\n            url += '&code_challenge=' + pkceChallenge;\n            url += '&code_challenge_method=' + kc.pkceMethod;\n        }\n\n        callbackStorage.add(callbackState);\n\n        return url;\n    };\n\n    kc.logout = function(options) {\n        return adapter.logout(options);\n    };\n\n    kc.createLogoutUrl = function(options) {\n\n        const logoutMethod = options?.logoutMethod ?? kc.logoutMethod;\n        if (logoutMethod === 'POST') {\n            return kc.endpoints.logout();\n        }\n\n        var url = kc.endpoints.logout()\n            + '?client_id=' + encodeURIComponent(kc.clientId)\n            + '&post_logout_redirect_uri=' + encodeURIComponent(adapter.redirectUri(options, false));\n\n        if (kc.idToken) {\n            url += '&id_token_hint=' + encodeURIComponent(kc.idToken);\n        }\n\n        return url;\n    };\n\n    kc.register = function (options) {\n        return adapter.register(options);\n    };\n\n    kc.createRegisterUrl = function(options) {\n        if (!options) {\n            options = {};\n        }\n        options.action = 'register';\n        return kc.createLoginUrl(options);\n    };\n\n    kc.createAccountUrl = function(options) {\n        var realm = getRealmUrl();\n        var url = undefined;\n        if (typeof realm !== 'undefined') {\n            url = realm\n            + '/account'\n            + '?referrer=' + encodeURIComponent(kc.clientId)\n            + '&referrer_uri=' + encodeURIComponent(adapter.redirectUri(options));\n        }\n        return url;\n    };\n\n    kc.accountManagement = function() {\n        return adapter.accountManagement();\n    };\n\n    kc.hasRealmRole = function (role) {\n        var access = kc.realmAccess;\n        return !!access && access.roles.indexOf(role) >= 0;\n    };\n\n    kc.hasResourceRole = function(role, resource) {\n        if (!kc.resourceAccess) {\n            return false;\n        }\n\n        var access = kc.resourceAccess[resource || kc.clientId];\n        return !!access && access.roles.indexOf(role) >= 0;\n    };\n\n    kc.loadUserProfile = function() {\n        var url = getRealmUrl() + '/account';\n        var req = new XMLHttpRequest();\n        req.open('GET', url, true);\n        req.setRequestHeader('Accept', 'application/json');\n        req.setRequestHeader('Authorization', 'bearer ' + kc.token);\n\n        var promise = createPromise();\n\n        req.onreadystatechange = function () {\n            if (req.readyState == 4) {\n                if (req.status == 200) {\n                    kc.profile = JSON.parse(req.responseText);\n                    promise.setSuccess(kc.profile);\n                } else {\n                    promise.setError();\n                }\n            }\n        };\n\n        req.send();\n\n        return promise.promise;\n    };\n\n    kc.loadUserInfo = function() {\n        var url = kc.endpoints.userinfo();\n        var req = new XMLHttpRequest();\n        req.open('GET', url, true);\n        req.setRequestHeader('Accept', 'application/json');\n        req.setRequestHeader('Authorization', 'bearer ' + kc.token);\n\n        var promise = createPromise();\n\n        req.onreadystatechange = function () {\n            if (req.readyState == 4) {\n                if (req.status == 200) {\n                    kc.userInfo = JSON.parse(req.responseText);\n                    promise.setSuccess(kc.userInfo);\n                } else {\n                    promise.setError();\n                }\n            }\n        };\n\n        req.send();\n\n        return promise.promise;\n    };\n\n    kc.isTokenExpired = function(minValidity) {\n        if (!kc.tokenParsed || (!kc.refreshToken && kc.flow != 'implicit' )) {\n            throw 'Not authenticated';\n        }\n\n        if (kc.timeSkew == null) {\n            logInfo('[KEYCLOAK] Unable to determine if token is expired as timeskew is not set');\n            return true;\n        }\n\n        var expiresIn = kc.tokenParsed['exp'] - Math.ceil(new Date().getTime() / 1000) + kc.timeSkew;\n        if (minValidity) {\n            if (isNaN(minValidity)) {\n                throw 'Invalid minValidity';\n            }\n            expiresIn -= minValidity;\n        }\n        return expiresIn < 0;\n    };\n\n    kc.updateToken = function(minValidity) {\n        var promise = createPromise();\n\n        if (!kc.refreshToken) {\n            promise.setError();\n            return promise.promise;\n        }\n\n        minValidity = minValidity || 5;\n\n        var exec = function() {\n            var refreshToken = false;\n            if (minValidity == -1) {\n                refreshToken = true;\n                logInfo('[KEYCLOAK] Refreshing token: forced refresh');\n            } else if (!kc.tokenParsed || kc.isTokenExpired(minValidity)) {\n                refreshToken = true;\n                logInfo('[KEYCLOAK] Refreshing token: token expired');\n            }\n\n            if (!refreshToken) {\n                promise.setSuccess(false);\n            } else {\n                var params = 'grant_type=refresh_token&' + 'refresh_token=' + kc.refreshToken;\n                var url = kc.endpoints.token();\n\n                refreshQueue.push(promise);\n\n                if (refreshQueue.length == 1) {\n                    var req = new XMLHttpRequest();\n                    req.open('POST', url, true);\n                    req.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n                    req.withCredentials = true;\n\n                    params += '&client_id=' + encodeURIComponent(kc.clientId);\n\n                    var timeLocal = new Date().getTime();\n\n                    req.onreadystatechange = function () {\n                        if (req.readyState == 4) {\n                            if (req.status == 200) {\n                                logInfo('[KEYCLOAK] Token refreshed');\n\n                                timeLocal = (timeLocal + new Date().getTime()) / 2;\n\n                                var tokenResponse = JSON.parse(req.responseText);\n\n                                setToken(tokenResponse['access_token'], tokenResponse['refresh_token'], tokenResponse['id_token'], timeLocal);\n\n                                kc.onAuthRefreshSuccess && kc.onAuthRefreshSuccess();\n                                for (var p = refreshQueue.pop(); p != null; p = refreshQueue.pop()) {\n                                    p.setSuccess(true);\n                                }\n                            } else {\n                                logWarn('[KEYCLOAK] Failed to refresh token');\n\n                                if (req.status == 400) {\n                                    kc.clearToken();\n                                }\n\n                                kc.onAuthRefreshError && kc.onAuthRefreshError();\n                                for (var p = refreshQueue.pop(); p != null; p = refreshQueue.pop()) {\n                                    p.setError(true);\n                                }\n                            }\n                        }\n                    };\n\n                    req.send(params);\n                }\n            }\n        };\n\n        if (loginIframe.enable) {\n            var iframePromise = checkLoginIframe();\n            iframePromise.then(function() {\n                exec();\n            }).catch(function(error) {\n                promise.setError(error);\n            });\n        } else {\n            exec();\n        }\n\n        return promise.promise;\n    };\n\n    kc.clearToken = function() {\n        if (kc.token) {\n            setToken(null, null, null);\n            kc.onAuthLogout && kc.onAuthLogout();\n            if (kc.loginRequired) {\n                kc.login();\n            }\n        }\n    };\n\n    function getRealmUrl() {\n        if (typeof kc.authServerUrl !== 'undefined') {\n            if (kc.authServerUrl.charAt(kc.authServerUrl.length - 1) == '/') {\n                return kc.authServerUrl + 'realms/' + encodeURIComponent(kc.realm);\n            } else {\n                return kc.authServerUrl + '/realms/' + encodeURIComponent(kc.realm);\n            }\n        } else {\n            return undefined;\n        }\n    }\n\n    function getOrigin() {\n        if (!window.location.origin) {\n            return window.location.protocol + \"//\" + window.location.hostname + (window.location.port ? ':' + window.location.port: '');\n        } else {\n            return window.location.origin;\n        }\n    }\n\n    function processCallback(oauth, promise) {\n        var code = oauth.code;\n        var error = oauth.error;\n        var prompt = oauth.prompt;\n\n        var timeLocal = new Date().getTime();\n\n        if (oauth['kc_action_status']) {\n            kc.onActionUpdate && kc.onActionUpdate(oauth['kc_action_status']);\n        }\n\n        if (error) {\n            if (prompt != 'none') {\n                var errorData = { error: error, error_description: oauth.error_description };\n                kc.onAuthError && kc.onAuthError(errorData);\n                promise && promise.setError(errorData);\n            } else {\n                promise && promise.setSuccess();\n            }\n            return;\n        } else if ((kc.flow != 'standard') && (oauth.access_token || oauth.id_token)) {\n            authSuccess(oauth.access_token, null, oauth.id_token, true);\n        }\n\n        if ((kc.flow != 'implicit') && code) {\n            var params = 'code=' + code + '&grant_type=authorization_code';\n            var url = kc.endpoints.token();\n\n            var req = new XMLHttpRequest();\n            req.open('POST', url, true);\n            req.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n\n            params += '&client_id=' + encodeURIComponent(kc.clientId);\n            params += '&redirect_uri=' + oauth.redirectUri;\n\n            if (oauth.pkceCodeVerifier) {\n                params += '&code_verifier=' + oauth.pkceCodeVerifier;\n            }\n\n            req.withCredentials = true;\n\n            req.onreadystatechange = function() {\n                if (req.readyState == 4) {\n                    if (req.status == 200) {\n\n                        var tokenResponse = JSON.parse(req.responseText);\n                        authSuccess(tokenResponse['access_token'], tokenResponse['refresh_token'], tokenResponse['id_token'], kc.flow === 'standard');\n                        scheduleCheckIframe();\n                    } else {\n                        kc.onAuthError && kc.onAuthError();\n                        promise && promise.setError();\n                    }\n                }\n            };\n\n            req.send(params);\n        }\n\n        function authSuccess(accessToken, refreshToken, idToken, fulfillPromise) {\n            timeLocal = (timeLocal + new Date().getTime()) / 2;\n\n            setToken(accessToken, refreshToken, idToken, timeLocal);\n\n            if (useNonce && (kc.idTokenParsed && kc.idTokenParsed.nonce != oauth.storedNonce)) {\n                logInfo('[KEYCLOAK] Invalid nonce, clearing token');\n                kc.clearToken();\n                promise && promise.setError();\n            } else {\n                if (fulfillPromise) {\n                    kc.onAuthSuccess && kc.onAuthSuccess();\n                    promise && promise.setSuccess();\n                }\n            }\n        }\n\n    }\n\n    function loadConfig(url) {\n        var promise = createPromise();\n        var configUrl;\n\n        if (!config) {\n            configUrl = 'keycloak.json';\n        } else if (typeof config === 'string') {\n            configUrl = config;\n        }\n\n        function setupOidcEndoints(oidcConfiguration) {\n            if (! oidcConfiguration) {\n                kc.endpoints = {\n                    authorize: function() {\n                        return getRealmUrl() + '/protocol/openid-connect/auth';\n                    },\n                    token: function() {\n                        return getRealmUrl() + '/protocol/openid-connect/token';\n                    },\n                    logout: function() {\n                        return getRealmUrl() + '/protocol/openid-connect/logout';\n                    },\n                    checkSessionIframe: function() {\n                        var src = getRealmUrl() + '/protocol/openid-connect/login-status-iframe.html';\n                        if (kc.iframeVersion) {\n                            src = src + '?version=' + kc.iframeVersion;\n                        }\n                        return src;\n                    },\n                    thirdPartyCookiesIframe: function() {\n                        var src = getRealmUrl() + '/protocol/openid-connect/3p-cookies/step1.html';\n                        if (kc.iframeVersion) {\n                            src = src + '?version=' + kc.iframeVersion;\n                        }\n                        return src;\n                    },\n                    register: function() {\n                        return getRealmUrl() + '/protocol/openid-connect/registrations';\n                    },\n                    userinfo: function() {\n                        return getRealmUrl() + '/protocol/openid-connect/userinfo';\n                    }\n                };\n            } else {\n                kc.endpoints = {\n                    authorize: function() {\n                        return oidcConfiguration.authorization_endpoint;\n                    },\n                    token: function() {\n                        return oidcConfiguration.token_endpoint;\n                    },\n                    logout: function() {\n                        if (!oidcConfiguration.end_session_endpoint) {\n                            throw \"Not supported by the OIDC server\";\n                        }\n                        return oidcConfiguration.end_session_endpoint;\n                    },\n                    checkSessionIframe: function() {\n                        if (!oidcConfiguration.check_session_iframe) {\n                            throw \"Not supported by the OIDC server\";\n                        }\n                        return oidcConfiguration.check_session_iframe;\n                    },\n                    register: function() {\n                        throw 'Redirection to \"Register user\" page not supported in standard OIDC mode';\n                    },\n                    userinfo: function() {\n                        if (!oidcConfiguration.userinfo_endpoint) {\n                            throw \"Not supported by the OIDC server\";\n                        }\n                        return oidcConfiguration.userinfo_endpoint;\n                    }\n                };\n            }\n        }\n\n        if (configUrl) {\n            var req = new XMLHttpRequest();\n            req.open('GET', configUrl, true);\n            req.setRequestHeader('Accept', 'application/json');\n\n            req.onreadystatechange = function () {\n                if (req.readyState == 4) {\n                    if (req.status == 200 || fileLoaded(req)) {\n                        var config = JSON.parse(req.responseText);\n\n                        kc.authServerUrl = config['auth-server-url'];\n                        kc.realm = config['realm'];\n                        kc.clientId = config['resource'];\n                        setupOidcEndoints(null);\n                        promise.setSuccess();\n                    } else {\n                        promise.setError();\n                    }\n                }\n            };\n\n            req.send();\n        } else {\n            if (!config.clientId) {\n                throw 'clientId missing';\n            }\n\n            kc.clientId = config.clientId;\n\n            var oidcProvider = config['oidcProvider'];\n            if (!oidcProvider) {\n                if (!config['url']) {\n                    var scripts = document.getElementsByTagName('script');\n                    for (var i = 0; i < scripts.length; i++) {\n                        if (scripts[i].src.match(/.*keycloak\\.js/)) {\n                            config.url = scripts[i].src.substr(0, scripts[i].src.indexOf('/js/keycloak.js'));\n                            break;\n                        }\n                    }\n                }\n                if (!config.realm) {\n                    throw 'realm missing';\n                }\n\n                kc.authServerUrl = config.url;\n                kc.realm = config.realm;\n                setupOidcEndoints(null);\n                promise.setSuccess();\n            } else {\n                if (typeof oidcProvider === 'string') {\n                    var oidcProviderConfigUrl;\n                    if (oidcProvider.charAt(oidcProvider.length - 1) == '/') {\n                        oidcProviderConfigUrl = oidcProvider + '.well-known/openid-configuration';\n                    } else {\n                        oidcProviderConfigUrl = oidcProvider + '/.well-known/openid-configuration';\n                    }\n                    var req = new XMLHttpRequest();\n                    req.open('GET', oidcProviderConfigUrl, true);\n                    req.setRequestHeader('Accept', 'application/json');\n\n                    req.onreadystatechange = function () {\n                        if (req.readyState == 4) {\n                            if (req.status == 200 || fileLoaded(req)) {\n                                var oidcProviderConfig = JSON.parse(req.responseText);\n                                setupOidcEndoints(oidcProviderConfig);\n                                promise.setSuccess();\n                            } else {\n                                promise.setError();\n                            }\n                        }\n                    };\n\n                    req.send();\n                } else {\n                    setupOidcEndoints(oidcProvider);\n                    promise.setSuccess();\n                }\n            }\n        }\n\n        return promise.promise;\n    }\n\n    function fileLoaded(xhr) {\n        return xhr.status == 0 && xhr.responseText && xhr.responseURL.startsWith('file:');\n    }\n\n    function setToken(token, refreshToken, idToken, timeLocal) {\n        if (kc.tokenTimeoutHandle) {\n            clearTimeout(kc.tokenTimeoutHandle);\n            kc.tokenTimeoutHandle = null;\n        }\n\n        if (refreshToken) {\n            kc.refreshToken = refreshToken;\n            kc.refreshTokenParsed = jwtDecode(refreshToken);\n        } else {\n            delete kc.refreshToken;\n            delete kc.refreshTokenParsed;\n        }\n\n        if (idToken) {\n            kc.idToken = idToken;\n            kc.idTokenParsed = jwtDecode(idToken);\n        } else {\n            delete kc.idToken;\n            delete kc.idTokenParsed;\n        }\n\n        if (token) {\n            kc.token = token;\n            kc.tokenParsed = jwtDecode(token);\n            kc.sessionId = kc.tokenParsed.sid;\n            kc.authenticated = true;\n            kc.subject = kc.tokenParsed.sub;\n            kc.realmAccess = kc.tokenParsed.realm_access;\n            kc.resourceAccess = kc.tokenParsed.resource_access;\n\n            if (timeLocal) {\n                kc.timeSkew = Math.floor(timeLocal / 1000) - kc.tokenParsed.iat;\n            }\n\n            if (kc.timeSkew != null) {\n                logInfo('[KEYCLOAK] Estimated time difference between browser and server is ' + kc.timeSkew + ' seconds');\n\n                if (kc.onTokenExpired) {\n                    var expiresIn = (kc.tokenParsed['exp'] - (new Date().getTime() / 1000) + kc.timeSkew) * 1000;\n                    logInfo('[KEYCLOAK] Token expires in ' + Math.round(expiresIn / 1000) + ' s');\n                    if (expiresIn <= 0) {\n                        kc.onTokenExpired();\n                    } else {\n                        kc.tokenTimeoutHandle = setTimeout(kc.onTokenExpired, expiresIn);\n                    }\n                }\n            }\n        } else {\n            delete kc.token;\n            delete kc.tokenParsed;\n            delete kc.subject;\n            delete kc.realmAccess;\n            delete kc.resourceAccess;\n\n            kc.authenticated = false;\n        }\n    }\n\n    function createUUID() {\n        var hexDigits = '0123456789abcdef';\n        var s = generateRandomString(36, hexDigits).split(\"\");\n        s[14] = '4';\n        s[19] = hexDigits.substr((s[19] & 0x3) | 0x8, 1);\n        s[8] = s[13] = s[18] = s[23] = '-';\n        var uuid = s.join('');\n        return uuid;\n    }\n\n    function parseCallback(url) {\n        var oauth = parseCallbackUrl(url);\n        if (!oauth) {\n            return;\n        }\n\n        var oauthState = callbackStorage.get(oauth.state);\n\n        if (oauthState) {\n            oauth.valid = true;\n            oauth.redirectUri = oauthState.redirectUri;\n            oauth.storedNonce = oauthState.nonce;\n            oauth.prompt = oauthState.prompt;\n            oauth.pkceCodeVerifier = oauthState.pkceCodeVerifier;\n        }\n\n        return oauth;\n    }\n\n    function parseCallbackUrl(url) {\n        var supportedParams;\n        switch (kc.flow) {\n            case 'standard':\n                supportedParams = ['code', 'state', 'session_state', 'kc_action_status', 'iss'];\n                break;\n            case 'implicit':\n                supportedParams = ['access_token', 'token_type', 'id_token', 'state', 'session_state', 'expires_in', 'kc_action_status', 'iss'];\n                break;\n            case 'hybrid':\n                supportedParams = ['access_token', 'token_type', 'id_token', 'code', 'state', 'session_state', 'expires_in', 'kc_action_status', 'iss'];\n                break;\n        }\n\n        supportedParams.push('error');\n        supportedParams.push('error_description');\n        supportedParams.push('error_uri');\n\n        var queryIndex = url.indexOf('?');\n        var fragmentIndex = url.indexOf('#');\n\n        var newUrl;\n        var parsed;\n\n        if (kc.responseMode === 'query' && queryIndex !== -1) {\n            newUrl = url.substring(0, queryIndex);\n            parsed = parseCallbackParams(url.substring(queryIndex + 1, fragmentIndex !== -1 ? fragmentIndex : url.length), supportedParams);\n            if (parsed.paramsString !== '') {\n                newUrl += '?' + parsed.paramsString;\n            }\n            if (fragmentIndex !== -1) {\n                newUrl += url.substring(fragmentIndex);\n            }\n        } else if (kc.responseMode === 'fragment' && fragmentIndex !== -1) {\n            newUrl = url.substring(0, fragmentIndex);\n            parsed = parseCallbackParams(url.substring(fragmentIndex + 1), supportedParams);\n            if (parsed.paramsString !== '') {\n                newUrl += '#' + parsed.paramsString;\n            }\n        }\n\n        if (parsed && parsed.oauthParams) {\n            if (kc.flow === 'standard' || kc.flow === 'hybrid') {\n                if ((parsed.oauthParams.code || parsed.oauthParams.error) && parsed.oauthParams.state) {\n                    parsed.oauthParams.newUrl = newUrl;\n                    return parsed.oauthParams;\n                }\n            } else if (kc.flow === 'implicit') {\n                if ((parsed.oauthParams.access_token || parsed.oauthParams.error) && parsed.oauthParams.state) {\n                    parsed.oauthParams.newUrl = newUrl;\n                    return parsed.oauthParams;\n                }\n            }\n        }\n    }\n\n    function parseCallbackParams(paramsString, supportedParams) {\n        var p = paramsString.split('&');\n        var result = {\n            paramsString: '',\n            oauthParams: {}\n        };\n        for (var i = 0; i < p.length; i++) {\n            var split = p[i].indexOf(\"=\");\n            var key = p[i].slice(0, split);\n            if (supportedParams.indexOf(key) !== -1) {\n                result.oauthParams[key] = p[i].slice(split + 1);\n            } else {\n                if (result.paramsString !== '') {\n                    result.paramsString += '&';\n                }\n                result.paramsString += p[i];\n            }\n        }\n        return result;\n    }\n\n    function createPromise() {\n        // Need to create a native Promise which also preserves the\n        // interface of the custom promise type previously used by the API\n        var p = {\n            setSuccess: function(result) {\n                p.resolve(result);\n            },\n\n            setError: function(result) {\n                p.reject(result);\n            }\n        };\n        p.promise = new Promise(function(resolve, reject) {\n            p.resolve = resolve;\n            p.reject = reject;\n        });\n\n        return p;\n    }\n\n    // Function to extend existing native Promise with timeout\n    function applyTimeoutToPromise(promise, timeout, errorMessage) {\n        var timeoutHandle = null;\n        var timeoutPromise = new Promise(function (resolve, reject) {\n            timeoutHandle = setTimeout(function () {\n                reject({ \"error\": errorMessage || \"Promise is not settled within timeout of \" + timeout + \"ms\" });\n            }, timeout);\n        });\n\n        return Promise.race([promise, timeoutPromise]).finally(function () {\n            clearTimeout(timeoutHandle);\n        });\n    }\n\n    function setupCheckLoginIframe() {\n        var promise = createPromise();\n\n        if (!loginIframe.enable) {\n            promise.setSuccess();\n            return promise.promise;\n        }\n\n        if (loginIframe.iframe) {\n            promise.setSuccess();\n            return promise.promise;\n        }\n\n        var iframe = document.createElement('iframe');\n        loginIframe.iframe = iframe;\n\n        iframe.onload = function() {\n            var authUrl = kc.endpoints.authorize();\n            if (authUrl.charAt(0) === '/') {\n                loginIframe.iframeOrigin = getOrigin();\n            } else {\n                loginIframe.iframeOrigin = authUrl.substring(0, authUrl.indexOf('/', 8));\n            }\n            promise.setSuccess();\n        };\n\n        var src = kc.endpoints.checkSessionIframe();\n        iframe.setAttribute('src', src );\n        iframe.setAttribute('sandbox', 'allow-storage-access-by-user-activation allow-scripts allow-same-origin');\n        iframe.setAttribute('title', 'keycloak-session-iframe' );\n        iframe.style.display = 'none';\n        document.body.appendChild(iframe);\n\n        var messageCallback = function(event) {\n            if ((event.origin !== loginIframe.iframeOrigin) || (loginIframe.iframe.contentWindow !== event.source)) {\n                return;\n            }\n\n            if (!(event.data == 'unchanged' || event.data == 'changed' || event.data == 'error')) {\n                return;\n            }\n\n\n            if (event.data != 'unchanged') {\n                kc.clearToken();\n            }\n\n            var callbacks = loginIframe.callbackList.splice(0, loginIframe.callbackList.length);\n\n            for (var i = callbacks.length - 1; i >= 0; --i) {\n                var promise = callbacks[i];\n                if (event.data == 'error') {\n                    promise.setError();\n                } else {\n                    promise.setSuccess(event.data == 'unchanged');\n                }\n            }\n        };\n\n        window.addEventListener('message', messageCallback, false);\n\n        return promise.promise;\n    }\n\n    function scheduleCheckIframe() {\n        if (loginIframe.enable) {\n            if (kc.token) {\n                setTimeout(function() {\n                    checkLoginIframe().then(function(unchanged) {\n                        if (unchanged) {\n                            scheduleCheckIframe();\n                        }\n                    });\n                }, loginIframe.interval * 1000);\n            }\n        }\n    }\n\n    function checkLoginIframe() {\n        var promise = createPromise();\n\n        if (loginIframe.iframe && loginIframe.iframeOrigin ) {\n            var msg = kc.clientId + ' ' + (kc.sessionId ? kc.sessionId : '');\n            loginIframe.callbackList.push(promise);\n            var origin = loginIframe.iframeOrigin;\n            if (loginIframe.callbackList.length == 1) {\n                loginIframe.iframe.contentWindow.postMessage(msg, origin);\n            }\n        } else {\n            promise.setSuccess();\n        }\n\n        return promise.promise;\n    }\n\n    function check3pCookiesSupported() {\n        var promise = createPromise();\n\n        if (loginIframe.enable || kc.silentCheckSsoRedirectUri) {\n            var iframe = document.createElement('iframe');\n            iframe.setAttribute('src', kc.endpoints.thirdPartyCookiesIframe());\n            iframe.setAttribute('sandbox', 'allow-storage-access-by-user-activation allow-scripts allow-same-origin');\n            iframe.setAttribute('title', 'keycloak-3p-check-iframe' );\n            iframe.style.display = 'none';\n            document.body.appendChild(iframe);\n\n            var messageCallback = function(event) {\n                if (iframe.contentWindow !== event.source) {\n                    return;\n                }\n\n                if (event.data !== \"supported\" && event.data !== \"unsupported\") {\n                    return;\n                } else if (event.data === \"unsupported\") {\n                    logWarn(\n                        \"[KEYCLOAK] Your browser is blocking access to 3rd-party cookies, this means:\\n\\n\" +\n                        \" - It is not possible to retrieve tokens without redirecting to the Keycloak server (a.k.a. no support for silent authentication).\\n\" +\n                        \" - It is not possible to automatically detect changes to the session status (such as the user logging out in another tab).\\n\\n\" +\n                        \"For more information see: https://www.keycloak.org/docs/latest/securing_apps/#_modern_browsers\"\n                    );\n\n                    loginIframe.enable = false;\n                    if (kc.silentCheckSsoFallback) {\n                        kc.silentCheckSsoRedirectUri = false;\n                    }\n                }\n\n                document.body.removeChild(iframe);\n                window.removeEventListener(\"message\", messageCallback);\n                promise.setSuccess();\n            };\n\n            window.addEventListener('message', messageCallback, false);\n        } else {\n            promise.setSuccess();\n        }\n\n        return applyTimeoutToPromise(promise.promise, kc.messageReceiveTimeout, \"Timeout when waiting for 3rd party check iframe message.\");\n    }\n\n    function loadAdapter(type) {\n        if (!type || type == 'default') {\n            return {\n                login: function(options) {\n                    window.location.assign(kc.createLoginUrl(options));\n                    return createPromise().promise;\n                },\n\n                logout: async function(options) {\n\n                    const logoutMethod = options?.logoutMethod ?? kc.logoutMethod;\n                    if (logoutMethod === \"GET\") {\n                        window.location.replace(kc.createLogoutUrl(options));\n                        return;\n                    }\n\n                    const logoutUrl = kc.createLogoutUrl(options);\n                    const response = await fetch(logoutUrl, {\n                        method: \"POST\",\n                        headers: {\n                            \"Content-Type\": \"application/x-www-form-urlencoded\"\n                        },\n                        body: new URLSearchParams({\n                            id_token_hint: kc.idToken,\n                            client_id: kc.clientId,\n                            post_logout_redirect_uri: adapter.redirectUri(options, false)\n                        })\n                    });\n\n                    if (response.redirected) {\n                        window.location.href = response.url;\n                        return;\n                    }\n\n                    if (response.ok) {\n                        window.location.reload();\n                        return;\n                    }\n\n                    throw new Error(\"Logout failed, request returned an error code.\");\n                },\n\n                register: function(options) {\n                    window.location.assign(kc.createRegisterUrl(options));\n                    return createPromise().promise;\n                },\n\n                accountManagement : function() {\n                    var accountUrl = kc.createAccountUrl();\n                    if (typeof accountUrl !== 'undefined') {\n                        window.location.href = accountUrl;\n                    } else {\n                        throw \"Not supported by the OIDC server\";\n                    }\n                    return createPromise().promise;\n                },\n\n                redirectUri: function(options, encodeHash) {\n\n                    if (options && options.redirectUri) {\n                        return options.redirectUri;\n                    } else if (kc.redirectUri) {\n                        return kc.redirectUri;\n                    } else {\n                        return location.href;\n                    }\n                }\n            };\n        }\n\n        if (type == 'cordova') {\n            loginIframe.enable = false;\n            var cordovaOpenWindowWrapper = function(loginUrl, target, options) {\n                if (window.cordova && window.cordova.InAppBrowser) {\n                    // Use inappbrowser for IOS and Android if available\n                    return window.cordova.InAppBrowser.open(loginUrl, target, options);\n                } else {\n                    return window.open(loginUrl, target, options);\n                }\n            };\n\n            var shallowCloneCordovaOptions = function (userOptions) {\n                if (userOptions && userOptions.cordovaOptions) {\n                    return Object.keys(userOptions.cordovaOptions).reduce(function (options, optionName) {\n                        options[optionName] = userOptions.cordovaOptions[optionName];\n                        return options;\n                    }, {});\n                } else {\n                    return {};\n                }\n            };\n\n            var formatCordovaOptions = function (cordovaOptions) {\n                return Object.keys(cordovaOptions).reduce(function (options, optionName) {\n                    options.push(optionName+\"=\"+cordovaOptions[optionName]);\n                    return options;\n                }, []).join(\",\");\n            };\n\n            var createCordovaOptions = function (userOptions) {\n                var cordovaOptions = shallowCloneCordovaOptions(userOptions);\n                cordovaOptions.location = 'no';\n                if (userOptions && userOptions.prompt == 'none') {\n                    cordovaOptions.hidden = 'yes';\n                }\n                return formatCordovaOptions(cordovaOptions);\n            };\n\n            var getCordovaRedirectUri = function() {\n                return kc.redirectUri || 'http://localhost';\n            };\n            \n            return {\n                login: function(options) {\n                    var promise = createPromise();\n\n                    var cordovaOptions = createCordovaOptions(options);\n                    var loginUrl = kc.createLoginUrl(options);\n                    var ref = cordovaOpenWindowWrapper(loginUrl, '_blank', cordovaOptions);\n                    var completed = false;\n\n                    var closed = false;\n                    var closeBrowser = function() {\n                        closed = true;\n                        ref.close();\n                    };\n\n                    ref.addEventListener('loadstart', function(event) {\n                        if (event.url.indexOf(getCordovaRedirectUri()) == 0) {\n                            var callback = parseCallback(event.url);\n                            processCallback(callback, promise);\n                            closeBrowser();\n                            completed = true;\n                        }\n                    });\n\n                    ref.addEventListener('loaderror', function(event) {\n                        if (!completed) {\n                            if (event.url.indexOf(getCordovaRedirectUri()) == 0) {\n                                var callback = parseCallback(event.url);\n                                processCallback(callback, promise);\n                                closeBrowser();\n                                completed = true;\n                            } else {\n                                promise.setError();\n                                closeBrowser();\n                            }\n                        }\n                    });\n\n                    ref.addEventListener('exit', function(event) {\n                        if (!closed) {\n                            promise.setError({\n                                reason: \"closed_by_user\"\n                            });\n                        }\n                    });\n\n                    return promise.promise;\n                },\n\n                logout: function(options) {\n                    var promise = createPromise();\n\n                    var logoutUrl = kc.createLogoutUrl(options);\n                    var ref = cordovaOpenWindowWrapper(logoutUrl, '_blank', 'location=no,hidden=yes,clearcache=yes');\n\n                    var error;\n\n                    ref.addEventListener('loadstart', function(event) {\n                        if (event.url.indexOf(getCordovaRedirectUri()) == 0) {\n                            ref.close();\n                        }\n                    });\n\n                    ref.addEventListener('loaderror', function(event) {\n                        if (event.url.indexOf(getCordovaRedirectUri()) == 0) {\n                            ref.close();\n                        } else {\n                            error = true;\n                            ref.close();\n                        }\n                    });\n\n                    ref.addEventListener('exit', function(event) {\n                        if (error) {\n                            promise.setError();\n                        } else {\n                            kc.clearToken();\n                            promise.setSuccess();\n                        }\n                    });\n\n                    return promise.promise;\n                },\n\n                register : function(options) {\n                    var promise = createPromise();\n                    var registerUrl = kc.createRegisterUrl();\n                    var cordovaOptions = createCordovaOptions(options);\n                    var ref = cordovaOpenWindowWrapper(registerUrl, '_blank', cordovaOptions);\n                    ref.addEventListener('loadstart', function(event) {\n                        if (event.url.indexOf(getCordovaRedirectUri()) == 0) {\n                            ref.close();\n                            var oauth = parseCallback(event.url);\n                            processCallback(oauth, promise);\n                        }\n                    });\n                    return promise.promise;\n                },\n\n                accountManagement : function() {\n                    var accountUrl = kc.createAccountUrl();\n                    if (typeof accountUrl !== 'undefined') {\n                        var ref = cordovaOpenWindowWrapper(accountUrl, '_blank', 'location=no');\n                        ref.addEventListener('loadstart', function(event) {\n                            if (event.url.indexOf(getCordovaRedirectUri()) == 0) {\n                                ref.close();\n                            }\n                        });\n                    } else {\n                        throw \"Not supported by the OIDC server\";\n                    }\n                },\n\n                redirectUri: function(options) {\n                    return getCordovaRedirectUri();\n                }\n            }\n        }\n\n        if (type == 'cordova-native') {\n            loginIframe.enable = false;\n\n            return {\n                login: function(options) {\n                    var promise = createPromise();\n                    var loginUrl = kc.createLoginUrl(options);\n\n                    universalLinks.subscribe('keycloak', function(event) {\n                        universalLinks.unsubscribe('keycloak');\n                        window.cordova.plugins.browsertab.close();\n                        var oauth = parseCallback(event.url);\n                        processCallback(oauth, promise);\n                    });\n\n                    window.cordova.plugins.browsertab.openUrl(loginUrl);\n                    return promise.promise;\n                },\n\n                logout: function(options) {\n                    var promise = createPromise();\n                    var logoutUrl = kc.createLogoutUrl(options);\n\n                    universalLinks.subscribe('keycloak', function(event) {\n                        universalLinks.unsubscribe('keycloak');\n                        window.cordova.plugins.browsertab.close();\n                        kc.clearToken();\n                        promise.setSuccess();\n                    });\n\n                    window.cordova.plugins.browsertab.openUrl(logoutUrl);\n                    return promise.promise;\n                },\n\n                register : function(options) {\n                    var promise = createPromise();\n                    var registerUrl = kc.createRegisterUrl(options);\n                    universalLinks.subscribe('keycloak' , function(event) {\n                        universalLinks.unsubscribe('keycloak');\n                        window.cordova.plugins.browsertab.close();\n                        var oauth = parseCallback(event.url);\n                        processCallback(oauth, promise);\n                    });\n                    window.cordova.plugins.browsertab.openUrl(registerUrl);\n                    return promise.promise;\n\n                },\n\n                accountManagement : function() {\n                    var accountUrl = kc.createAccountUrl();\n                    if (typeof accountUrl !== 'undefined') {\n                        window.cordova.plugins.browsertab.openUrl(accountUrl);\n                    } else {\n                        throw \"Not supported by the OIDC server\";\n                    }\n                },\n\n                redirectUri: function(options) {\n                    if (options && options.redirectUri) {\n                        return options.redirectUri;\n                    } else if (kc.redirectUri) {\n                        return kc.redirectUri;\n                    } else {\n                        return \"http://localhost\";\n                    }\n                }\n            }\n        }\n\n        throw 'invalid adapter type: ' + type;\n    }\n\n    var LocalStorage = function() {\n        if (!(this instanceof LocalStorage)) {\n            return new LocalStorage();\n        }\n\n        localStorage.setItem('kc-test', 'test');\n        localStorage.removeItem('kc-test');\n\n        var cs = this;\n\n        function clearExpired() {\n            var time = new Date().getTime();\n            for (var i = 0; i < localStorage.length; i++)  {\n                var key = localStorage.key(i);\n                if (key && key.indexOf('kc-callback-') == 0) {\n                    var value = localStorage.getItem(key);\n                    if (value) {\n                        try {\n                            var expires = JSON.parse(value).expires;\n                            if (!expires || expires < time) {\n                                localStorage.removeItem(key);\n                            }\n                        } catch (err) {\n                            localStorage.removeItem(key);\n                        }\n                    }\n                }\n            }\n        }\n\n        cs.get = function(state) {\n            if (!state) {\n                return;\n            }\n\n            var key = 'kc-callback-' + state;\n            var value = localStorage.getItem(key);\n            if (value) {\n                localStorage.removeItem(key);\n                value = JSON.parse(value);\n            }\n\n            clearExpired();\n            return value;\n        };\n\n        cs.add = function(state) {\n            clearExpired();\n\n            var key = 'kc-callback-' + state.state;\n            state.expires = new Date().getTime() + (60 * 60 * 1000);\n            localStorage.setItem(key, JSON.stringify(state));\n        };\n    };\n\n    var CookieStorage = function() {\n        if (!(this instanceof CookieStorage)) {\n            return new CookieStorage();\n        }\n\n        var cs = this;\n\n        cs.get = function(state) {\n            if (!state) {\n                return;\n            }\n\n            var value = getCookie('kc-callback-' + state);\n            setCookie('kc-callback-' + state, '', cookieExpiration(-100));\n            if (value) {\n                return JSON.parse(value);\n            }\n        };\n\n        cs.add = function(state) {\n            setCookie('kc-callback-' + state.state, JSON.stringify(state), cookieExpiration(60));\n        };\n\n        cs.removeItem = function(key) {\n            setCookie(key, '', cookieExpiration(-100));\n        };\n\n        var cookieExpiration = function (minutes) {\n            var exp = new Date();\n            exp.setTime(exp.getTime() + (minutes*60*1000));\n            return exp;\n        };\n\n        var getCookie = function (key) {\n            var name = key + '=';\n            var ca = document.cookie.split(';');\n            for (var i = 0; i < ca.length; i++) {\n                var c = ca[i];\n                while (c.charAt(0) == ' ') {\n                    c = c.substring(1);\n                }\n                if (c.indexOf(name) == 0) {\n                    return c.substring(name.length, c.length);\n                }\n            }\n            return '';\n        };\n\n        var setCookie = function (key, value, expirationDate) {\n            var cookie = key + '=' + value + '; '\n                + 'expires=' + expirationDate.toUTCString() + '; ';\n            document.cookie = cookie;\n        };\n    };\n\n    function createCallbackStorage() {\n        try {\n            return new LocalStorage();\n        } catch (err) {\n        }\n\n        return new CookieStorage();\n    }\n\n    function createLogger(fn) {\n        return function() {\n            if (kc.enableLogging) {\n                fn.apply(console, Array.prototype.slice.call(arguments));\n            }\n        };\n    }\n}\n\n// See: https://developer.mozilla.org/en-US/docs/Glossary/Base64#the_unicode_problem\nfunction bytesToBase64(bytes) {\n    const binString = String.fromCodePoint(...bytes);\n    return btoa(binString);\n}\n\nexport { Keycloak as default };\n"],"names":["ERROR","WINDOW","window","root","JS_SHA256_NO_WINDOW","WEB_WORKER","self","NODE_JS","JS_SHA256_NO_NODE_JS","process","versions","node","global","COMMON_JS","JS_SHA256_NO_COMMON_JS","module","exports","ARRAY_BUFFER","JS_SHA256_NO_ARRAY_BUFFER","ArrayBuffer","HEX_CHARS","split","EXTRA","SHIFT","K","OUTPUT_TYPES","blocks","Array","isArray","obj","Object","prototype","toString","call","JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW","isView","buffer","constructor","createOutputMethod","outputType","is224","message","Sha256","update","createMethod","method","nodeWrap","create","i","length","type","bufferFrom","crypto","require$$0","Buffer","require$$1","algorithm","from","JS_SHA256_NO_BUFFER_FROM","createHash","digest","Error","Uint8Array","createHmacOutputMethod","key","HmacSha256","createHmacMethod","sharedMemory","this","h0","h1","h2","h3","h4","h5","h6","h7","block","start","bytes","hBytes","finalized","hashed","first","code","index","charCodeAt","array","oKeyPad","iKeyPad","b","inner","notString","lastByteIndex","hash","finalize","j","s0","s1","maj","t1","ab","da","cd","bc","a","c","d","e","f","g","h","chromeBugWorkAround","hex","arr","push","arrayBuffer","dataView","DataView","setUint32","innerHash","sha256","sha224","hmac","InvalidTokenError","base64UrlDecode","str","output","replace","decodeURIComponent","atob","m","p","toUpperCase","b64DecodeUnicode","err","jwtDecode","token","options","pos","header","part","decoded","JSON","parse","name","Promise","Keycloak","config","adapter","callbackStorage","kc","refreshQueue","loginIframe","enable","callbackList","interval","scripts","document","getElementsByTagName","src","indexOf","iframeVersion","substring","useNonce","logInfo","createLogger","console","info","logWarn","warn","generateRandomString","len","alphabet","randomData","msCrypto","getRandomValues","Math","floor","random","generateRandomData","chars","String","fromCharCode","apply","generatePkceChallenge","pkceMethod","codeVerifier","TypeError","binString","fromCodePoint","btoa","bytesToBase64","getRealmUrl","authServerUrl","charAt","encodeURIComponent","realm","processCallback","oauth","promise","error","prompt","timeLocal","Date","getTime","onActionUpdate","errorData","error_description","onAuthError","setError","setSuccess","flow","access_token","id_token","authSuccess","params","url","endpoints","req","XMLHttpRequest","open","setRequestHeader","clientId","redirectUri","pkceCodeVerifier","withCredentials","onreadystatechange","readyState","status","tokenResponse","responseText","scheduleCheckIframe","send","accessToken","refreshToken","idToken","fulfillPromise","setToken","idTokenParsed","nonce","storedNonce","clearToken","onAuthSuccess","fileLoaded","xhr","responseURL","startsWith","tokenTimeoutHandle","clearTimeout","refreshTokenParsed","tokenParsed","sessionId","sid","authenticated","subject","sub","realmAccess","realm_access","resourceAccess","resource_access","timeSkew","iat","onTokenExpired","expiresIn","round","setTimeout","createUUID","hexDigits","s","substr","join","parseCallback","supportedParams","newUrl","parsed","queryIndex","fragmentIndex","responseMode","parseCallbackParams","paramsString","oauthParams","state","parseCallbackUrl","oauthState","get","valid","result","slice","createPromise","resolve","reject","setupCheckLoginIframe","iframe","createElement","onload","authUrl","authorize","iframeOrigin","location","origin","protocol","hostname","port","checkSessionIframe","setAttribute","style","display","body","appendChild","addEventListener","event","contentWindow","source","data","callbacks","splice","checkLoginIframe","then","unchanged","msg","postMessage","check3pCookiesSupported","silentCheckSsoRedirectUri","thirdPartyCookiesIframe","messageCallback","silentCheckSsoFallback","removeChild","removeEventListener","timeout","errorMessage","timeoutHandle","timeoutPromise","race","finally","applyTimeoutToPromise","messageReceiveTimeout","loadAdapter","login","assign","createLoginUrl","logout","async","logoutMethod","createLogoutUrl","logoutUrl","response","fetch","headers","URLSearchParams","id_token_hint","client_id","post_logout_redirect_uri","redirected","href","ok","reload","register","createRegisterUrl","accountManagement","accountUrl","createAccountUrl","encodeHash","cordovaOpenWindowWrapper","loginUrl","target","cordova","InAppBrowser","createCordovaOptions","userOptions","cordovaOptions","keys","reduce","optionName","shallowCloneCordovaOptions","hidden","formatCordovaOptions","getCordovaRedirectUri","ref","completed","closed","closeBrowser","close","reason","registerUrl","universalLinks","subscribe","unsubscribe","plugins","browsertab","openUrl","init","initOptions","didInitialize","LocalStorage","CookieStorage","createCallbackStorage","Cordova","checkLoginIframeInterval","onLoad","loginRequired","responseType","enableLogging","scope","acrValues","initPromise","onReady","catch","configPromise","configUrl","setupOidcEndoints","oidcConfiguration","authorization_endpoint","token_endpoint","end_session_endpoint","check_session_iframe","userinfo","userinfo_endpoint","oidcProvider","oidcProviderConfigUrl","match","loadConfig","doLogin","locale","checkSsoSilently","ifrm","processInit","callback","history","replaceState","updateToken","checkReadyState","domReady","baseUrl","callbackState","action","requestedAcr","claims","maxAge","loginHint","idpHint","acr","claimsParameter","stringify","add","undefined","hasRealmRole","role","access","roles","hasResourceRole","resource","loadUserProfile","profile","loadUserInfo","userInfo","isTokenExpired","minValidity","ceil","isNaN","exec","onAuthRefreshSuccess","pop","onAuthRefreshError","onAuthLogout","localStorage","setItem","removeItem","clearExpired","time","value","getItem","expires","cs","getCookie","setCookie","cookieExpiration","minutes","exp","setTime","ca","cookie","expirationDate","toUTCString","fn","arguments"],"mappings":"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","x_google_ignoreList":[0,1,2]}